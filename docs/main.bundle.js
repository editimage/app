webpackJsonp(["main"],{

/***/ "../../../../../src/$$_lazy_route_resource lazy recursive":
/***/ (function(module, exports) {

function webpackEmptyAsyncContext(req) {
	// Here Promise.resolve().then() is used instead of new Promise() to prevent
	// uncatched exception popping up in devtools
	return Promise.resolve().then(function() {
		throw new Error("Cannot find module '" + req + "'.");
	});
}
webpackEmptyAsyncContext.keys = function() { return []; };
webpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;
module.exports = webpackEmptyAsyncContext;
webpackEmptyAsyncContext.id = "../../../../../src/$$_lazy_route_resource lazy recursive";

/***/ }),

/***/ "../../../../../src/app/app.component.html":
/***/ (function(module, exports) {

module.exports = "<layout-component #layout *ngIf=\"isBrowserOk==true\" >\n</layout-component>\n<notsupportedBrowser-component *ngIf=\"isBrowserOk==false\">\n</notsupportedBrowser-component>\n<messageboxModal-component></messageboxModal-component>\n<formNewImage-component></formNewImage-component>\n<formResize-component></formResize-component>\n\n<formGoogleFontload-component></formGoogleFontload-component>\n<form-color-remap></form-color-remap>\n<form-sample-images></form-sample-images>\n<form-color-adjustment></form-color-adjustment>\n<form-grayscale></form-grayscale>\n<form-convolution></form-convolution>\n<form-erodedilation></form-erodedilation>\n<form-oilpainting></form-oilpainting>\n<form-edgegradient></form-edgegradient>\n<form-cartoon></form-cartoon>\n<alert-component></alert-component>\n<form-about></form-about>\n<form-shortcuts></form-shortcuts>\n\n\n<busy-component></busy-component>\n\n\n\n\n\n"

/***/ }),

/***/ "../../../../../src/app/app.component.scss":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/app.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AppComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__commands_cmdShowError__ = __webpack_require__("../../../../../src/app/commands/cmdShowError.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__lib_readFileOrUrl__ = __webpack_require__("../../../../../src/app/lib/readFileOrUrl.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__services_project_service__ = __webpack_require__("../../../../../src/app/services/project.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__lib_checkBrowserCapabilities__ = __webpack_require__("../../../../../src/app/lib/checkBrowserCapabilities.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_keyboard_service__ = __webpack_require__("../../../../../src/app/services/keyboard.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__services_app_service__ = __webpack_require__("../../../../../src/app/services/app.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__lib_callback__ = __webpack_require__("../../../../../src/app/lib/callback.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__commands_cmdShowFormSampleImages__ = __webpack_require__("../../../../../src/app/commands/cmdShowFormSampleImages.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__commands_cmdReadImageFromBufferorUrl__ = __webpack_require__("../../../../../src/app/commands/cmdReadImageFromBufferorUrl.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__entities_alertItem__ = __webpack_require__("../../../../../src/app/entities/alertItem.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__services_shapes_service__ = __webpack_require__("../../../../../src/app/services/shapes.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};












var AppComponent = /** @class */ (function () {
    function AppComponent(keyboardService, appService, projectService, shapeService) {
        this.title = 'app works!';
        this.isBrowserOk = __WEBPACK_IMPORTED_MODULE_4__lib_checkBrowserCapabilities__["a" /* CheckBrowserCapabilities */].isOk();
        this._appservice = appService;
        this._projectService = projectService;
        window.addEventListener('beforeunload', function (e) {
            var msg = "Ayrılmak İstediğinize eminmisiniz";
            e.returnValue = msg;
            return msg;
        });
        this.setWindowDragAndDrop();
    }
    AppComponent.prototype.ngOninit = function () {
    };
    AppComponent.prototype.ngAfterViewInit = function () {
        var cmd = new __WEBPACK_IMPORTED_MODULE_8__commands_cmdShowFormSampleImages__["a" /* CmdShowFormSampleImages */](true);
        cmd.executeAsync();
        if (!__WEBPACK_IMPORTED_MODULE_4__lib_checkBrowserCapabilities__["a" /* CheckBrowserCapabilities */].isChrome()) {
            this._appservice.showAlert(new __WEBPACK_IMPORTED_MODULE_10__entities_alertItem__["a" /* AlertItem */]('warning', 'Chrome is the fastest browser for this application', 8000));
        }
    };
    AppComponent.prototype.setWindowDragAndDrop = function () {
        var _this = this;
        window.addEventListener("dragover", function (evt) {
            evt.preventDefault();
        });
        window.addEventListener('drop', function (evt) {
            evt.preventDefault();
            try {
                if (evt.dataTransfer && evt.dataTransfer.files && evt.dataTransfer.files.length >= 1) {
                    var file = evt.dataTransfer.files[0];
                    var fileName = evt.dataTransfer.files[0].name;
                    __WEBPACK_IMPORTED_MODULE_1__lib_readFileOrUrl__["a" /* ReadFileOrUrl */].readAsync(file, 2, __WEBPACK_IMPORTED_MODULE_7__lib_callback__["a" /* Callback */].from(function (data) { _this.onSuccess(data); }), __WEBPACK_IMPORTED_MODULE_7__lib_callback__["a" /* Callback */].from(function (err) { return _this.onError(err); }), __WEBPACK_IMPORTED_MODULE_7__lib_callback__["a" /* Callback */].from(function (data) { return _this.onProgress(data); }));
                }
            }
            catch (err) {
                console.log(err);
            }
        }, false);
    };
    AppComponent.prototype.onProgress = function (data) {
    };
    AppComponent.prototype.onSuccess = function (data) {
        var cmd = new __WEBPACK_IMPORTED_MODULE_9__commands_cmdReadImageFromBufferorUrl__["a" /* CmdReadImageFromBufferorUrl */](data.result, data.fileName, this._appservice, this._projectService, true);
        cmd.executeAsync();
    };
    AppComponent.prototype.onError = function (err) {
        var cmd = new __WEBPACK_IMPORTED_MODULE_0__commands_cmdShowError__["a" /* CmdShowError */](err);
        cmd.executeAsync();
    };
    AppComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_3__angular_core__["Component"])({
            selector: 'app-root',
            template: __webpack_require__("../../../../../src/app/app.component.html"),
            styles: [__webpack_require__("../../../../../src/app/app.component.scss")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_5__services_keyboard_service__["a" /* KeyboardService */], __WEBPACK_IMPORTED_MODULE_6__services_app_service__["a" /* AppService */], __WEBPACK_IMPORTED_MODULE_2__services_project_service__["a" /* ProjectService */], __WEBPACK_IMPORTED_MODULE_11__services_shapes_service__["a" /* ShapesService */]])
    ], AppComponent);
    return AppComponent;
}());



/***/ }),

/***/ "../../../../../src/app/app.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AppModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_form_edgegradient_form_edgegradient_component__ = __webpack_require__("../../../../../src/app/components/form-edgegradient/form-edgegradient.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_form_cartoon_form_cartoon_component__ = __webpack_require__("../../../../../src/app/components/form-cartoon/form-cartoon.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_platform_browser__ = __webpack_require__("../../../platform-browser/esm5/platform-browser.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__angular_forms__ = __webpack_require__("../../../forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__angular_http__ = __webpack_require__("../../../http/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__angular_router__ = __webpack_require__("../../../router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__angular_platform_browser_animations__ = __webpack_require__("../../../platform-browser/esm5/animations.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_angular_busy2__ = __webpack_require__("../../../../angular-busy2/dist/index.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_angular_busy2___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8_angular_busy2__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_ngx_bootstrap__ = __webpack_require__("../../../../ngx-bootstrap/index.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__modulesext_color_picker__ = __webpack_require__("../../../../../src/app/modulesext/color-picker/index.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__modulesext_autocomplete__ = __webpack_require__("../../../../../src/app/modulesext/autocomplete/index.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12_angular2_virtual_scroll__ = __webpack_require__("../../../../angular2-virtual-scroll/dist/virtual-scroll.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12_angular2_virtual_scroll___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_12_angular2_virtual_scroll__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13_angular2_draggable__ = __webpack_require__("../../../../angular2-draggable/index.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14_ng2_dnd__ = __webpack_require__("../../../../ng2-dnd/ng2-dnd.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__app_component__ = __webpack_require__("../../../../../src/app/app.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__components_notsupportedbrowser_notsupported_component__ = __webpack_require__("../../../../../src/app/components/notsupportedbrowser/notsupported.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17__components_layout_layout_component__ = __webpack_require__("../../../../../src/app/components/layout/layout.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_18__components_menubar_menubar_component__ = __webpack_require__("../../../../../src/app/components/menubar/menubar.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_19__components_surface_surface_component__ = __webpack_require__("../../../../../src/app/components/surface/surface.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_20__components_messagebox_modal_messagebox_modal_component__ = __webpack_require__("../../../../../src/app/components/messagebox-modal/messagebox-modal.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_21__components_form_new_image_form_new_image_component__ = __webpack_require__("../../../../../src/app/components/form-new-image/form-new-image.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_22__components_workspace_workspace_component__ = __webpack_require__("../../../../../src/app/components/workspace/workspace.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_23__components_project_project_component__ = __webpack_require__("../../../../../src/app/components/project/project.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_24__services_project_service__ = __webpack_require__("../../../../../src/app/services/project.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_25__services_keyboard_service__ = __webpack_require__("../../../../../src/app/services/keyboard.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_26__services_app_service__ = __webpack_require__("../../../../../src/app/services/app.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_27__services_font_service__ = __webpack_require__("../../../../../src/app/services/font.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_28__services_user_service__ = __webpack_require__("../../../../../src/app/services/user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_29__services_effect_service__ = __webpack_require__("../../../../../src/app/services/effect.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_30__directives_mouse_directive__ = __webpack_require__("../../../../../src/app/directives/mouse.directive.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_31__directives_keyboard_directive__ = __webpack_require__("../../../../../src/app/directives/keyboard.directive.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_32__components_layer_layer_component__ = __webpack_require__("../../../../../src/app/components/layer/layer.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_33__components_layers_info_layers_info_component__ = __webpack_require__("../../../../../src/app/components/layers-info/layers-info.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_34__components_tools_tools_component__ = __webpack_require__("../../../../../src/app/components/tools/tools.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_35__components_layer_selected_layer_selected_component__ = __webpack_require__("../../../../../src/app/components/layer-selected/layer-selected.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_36__components_layer_properties_layer_properties_component__ = __webpack_require__("../../../../../src/app/components/layer-properties/layer-properties.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_37__components_zoom_zoom_component__ = __webpack_require__("../../../../../src/app/components/zoom/zoom.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_38__components_selection_properties_selection_properties_component__ = __webpack_require__("../../../../../src/app/components/selection-properties/selection-properties.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_39__components_busy_busy_component__ = __webpack_require__("../../../../../src/app/components/busy/busy.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_40__components_form_resize_form_resize_component__ = __webpack_require__("../../../../../src/app/components/form-resize/form-resize.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_41__components_layer_text_properties_layer_text_properties_component__ = __webpack_require__("../../../../../src/app/components/layer-text-properties/layer-text-properties.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_42__components_workspace_resize_workspace_resize_component__ = __webpack_require__("../../../../../src/app/components/workspace-resize/workspace-resize.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_43__components_form_googlefontload_form_googlefontload_component__ = __webpack_require__("../../../../../src/app/components/form-googlefontload/form-googlefontload.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_44__components_layer_color_properties_layer_color_properties_component__ = __webpack_require__("../../../../../src/app/components/layer-color-properties/layer-color-properties.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_45__components_form_color_remap_form_color_remap_component__ = __webpack_require__("../../../../../src/app/components/form-color-remap/form-color-remap.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_46__components_form_sample_images_form_sample_images_component__ = __webpack_require__("../../../../../src/app/components/form-sample-images/form-sample-images.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_47__components_form_color_adjustment_form_color_adjustment_component__ = __webpack_require__("../../../../../src/app/components/form-color-adjustment/form-color-adjustment.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_48__components_form_grayscale_form_grayscale_component__ = __webpack_require__("../../../../../src/app/components/form-grayscale/form-grayscale.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_49__components_form_convolution_form_convolution_component__ = __webpack_require__("../../../../../src/app/components/form-convolution/form-convolution.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_50__components_form_erodedilation_form_erodedilation_component__ = __webpack_require__("../../../../../src/app/components/form-erodedilation/form-erodedilation.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_51__components_form_oilpainting_form_oilpainting_component__ = __webpack_require__("../../../../../src/app/components/form-oilpainting/form-oilpainting.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_52__components_trackbar_trackbar_component__ = __webpack_require__("../../../../../src/app/components/trackbar/trackbar.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_53__components_crop_properties_crop_properties_component__ = __webpack_require__("../../../../../src/app/components/crop-properties/crop-properties.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_54__components_tools_options_tools_options_component__ = __webpack_require__("../../../../../src/app/components/tools-options/tools-options.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_55__components_tools_options_clip_tools_options_clip_component__ = __webpack_require__("../../../../../src/app/components/tools-options-clip/tools-options-clip.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_56__components_tools_options_brush_tools_options_brush_component__ = __webpack_require__("../../../../../src/app/components/tools-options-brush/tools-options-brush.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_57__components_tools_options_erase_tools_options_erase_component__ = __webpack_require__("../../../../../src/app/components/tools-options-erase/tools-options-erase.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_58__components_tools_options_bucketfill_tools_options_bucketfill_component__ = __webpack_require__("../../../../../src/app/components/tools-options-bucketfill/tools-options-bucketfill.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_59__components_alert_alert_component__ = __webpack_require__("../../../../../src/app/components/alert/alert.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_60__components_form_about_form_about_component__ = __webpack_require__("../../../../../src/app/components/form-about/form-about.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_61__components_form_shortcuts_form_shortcuts_component__ = __webpack_require__("../../../../../src/app/components/form-shortcuts/form-shortcuts.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_62__services_clipboard_service__ = __webpack_require__("../../../../../src/app/services/clipboard.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_63__components_gradient_gradient_component__ = __webpack_require__("../../../../../src/app/components/gradient/gradient.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_64__components_tools_options_gradient_tools_options_gradient_component__ = __webpack_require__("../../../../../src/app/components/tools-options-gradient/tools-options-gradient.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_65__components_tools_options_shapes_tools_options_shapes_component__ = __webpack_require__("../../../../../src/app/components/tools-options-shapes/tools-options-shapes.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_66__services_shapes_service__ = __webpack_require__("../../../../../src/app/services/shapes.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};












































































var AppModule = /** @class */ (function () {
    function AppModule() {
    }
    AppModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_3__angular_core__["NgModule"])({
            declarations: [
                __WEBPACK_IMPORTED_MODULE_15__app_component__["a" /* AppComponent */],
                __WEBPACK_IMPORTED_MODULE_16__components_notsupportedbrowser_notsupported_component__["a" /* NotSupportedBrowserComponent */],
                __WEBPACK_IMPORTED_MODULE_17__components_layout_layout_component__["a" /* LayoutComponent */],
                __WEBPACK_IMPORTED_MODULE_18__components_menubar_menubar_component__["a" /* MenubarComponent */],
                __WEBPACK_IMPORTED_MODULE_19__components_surface_surface_component__["a" /* SurfaceComponent */],
                __WEBPACK_IMPORTED_MODULE_20__components_messagebox_modal_messagebox_modal_component__["a" /* MessageBoxModalComponent */],
                __WEBPACK_IMPORTED_MODULE_21__components_form_new_image_form_new_image_component__["a" /* FormNewImageComponent */],
                __WEBPACK_IMPORTED_MODULE_22__components_workspace_workspace_component__["a" /* WorkspaceComponent */],
                __WEBPACK_IMPORTED_MODULE_23__components_project_project_component__["a" /* ProjectComponent */],
                __WEBPACK_IMPORTED_MODULE_30__directives_mouse_directive__["a" /* MouseDirective */],
                __WEBPACK_IMPORTED_MODULE_31__directives_keyboard_directive__["a" /* KeyboardDirective */],
                __WEBPACK_IMPORTED_MODULE_32__components_layer_layer_component__["a" /* LayerComponent */],
                __WEBPACK_IMPORTED_MODULE_33__components_layers_info_layers_info_component__["a" /* LayersInfoComponent */],
                __WEBPACK_IMPORTED_MODULE_34__components_tools_tools_component__["a" /* ToolsComponent */],
                __WEBPACK_IMPORTED_MODULE_35__components_layer_selected_layer_selected_component__["a" /* LayerSelectedComponent */],
                __WEBPACK_IMPORTED_MODULE_36__components_layer_properties_layer_properties_component__["a" /* LayerPropertiesComponent */],
                __WEBPACK_IMPORTED_MODULE_37__components_zoom_zoom_component__["a" /* ZoomComponent */],
                __WEBPACK_IMPORTED_MODULE_38__components_selection_properties_selection_properties_component__["a" /* SelectionPropertiesComponent */],
                __WEBPACK_IMPORTED_MODULE_39__components_busy_busy_component__["a" /* BusyComponent */],
                __WEBPACK_IMPORTED_MODULE_40__components_form_resize_form_resize_component__["a" /* FormResizeComponent */],
                __WEBPACK_IMPORTED_MODULE_41__components_layer_text_properties_layer_text_properties_component__["a" /* LayerTextPropertiesComponent */],
                __WEBPACK_IMPORTED_MODULE_42__components_workspace_resize_workspace_resize_component__["a" /* WorkspaceResizeComponent */],
                __WEBPACK_IMPORTED_MODULE_43__components_form_googlefontload_form_googlefontload_component__["a" /* FormGoogleFontloadComponent */],
                __WEBPACK_IMPORTED_MODULE_44__components_layer_color_properties_layer_color_properties_component__["a" /* LayerColorPropertiesComponent */],
                __WEBPACK_IMPORTED_MODULE_45__components_form_color_remap_form_color_remap_component__["a" /* FormColorRemapComponent */],
                __WEBPACK_IMPORTED_MODULE_46__components_form_sample_images_form_sample_images_component__["a" /* FormSampleImagesComponent */],
                __WEBPACK_IMPORTED_MODULE_47__components_form_color_adjustment_form_color_adjustment_component__["a" /* FormColorAdjustmentComponent */],
                __WEBPACK_IMPORTED_MODULE_52__components_trackbar_trackbar_component__["a" /* TrackbarComponent */],
                __WEBPACK_IMPORTED_MODULE_48__components_form_grayscale_form_grayscale_component__["a" /* FormGrayscaleComponent */],
                __WEBPACK_IMPORTED_MODULE_49__components_form_convolution_form_convolution_component__["a" /* FormConvolutionComponent */],
                __WEBPACK_IMPORTED_MODULE_50__components_form_erodedilation_form_erodedilation_component__["a" /* FormErodeDilationComponent */],
                __WEBPACK_IMPORTED_MODULE_51__components_form_oilpainting_form_oilpainting_component__["a" /* FormOilPaintingComponent */],
                __WEBPACK_IMPORTED_MODULE_0__components_form_edgegradient_form_edgegradient_component__["a" /* FormEdgeGradientComponent */],
                __WEBPACK_IMPORTED_MODULE_1__components_form_cartoon_form_cartoon_component__["a" /* FormCartoonComponent */],
                __WEBPACK_IMPORTED_MODULE_53__components_crop_properties_crop_properties_component__["a" /* CropPropertiesComponent */],
                __WEBPACK_IMPORTED_MODULE_54__components_tools_options_tools_options_component__["a" /* ToolsOptionsComponent */],
                __WEBPACK_IMPORTED_MODULE_55__components_tools_options_clip_tools_options_clip_component__["a" /* ToolsOptionsClipComponent */],
                __WEBPACK_IMPORTED_MODULE_56__components_tools_options_brush_tools_options_brush_component__["a" /* ToolsOptionsBrushComponent */],
                __WEBPACK_IMPORTED_MODULE_57__components_tools_options_erase_tools_options_erase_component__["a" /* ToolsOptionsEraseComponent */],
                __WEBPACK_IMPORTED_MODULE_58__components_tools_options_bucketfill_tools_options_bucketfill_component__["a" /* ToolsOptionsBucketfillComponent */],
                __WEBPACK_IMPORTED_MODULE_59__components_alert_alert_component__["a" /* AlertComponent */],
                __WEBPACK_IMPORTED_MODULE_60__components_form_about_form_about_component__["a" /* FormAboutComponent */],
                __WEBPACK_IMPORTED_MODULE_61__components_form_shortcuts_form_shortcuts_component__["a" /* FormShortcutsComponent */],
                __WEBPACK_IMPORTED_MODULE_63__components_gradient_gradient_component__["a" /* GradientComponent */],
                __WEBPACK_IMPORTED_MODULE_64__components_tools_options_gradient_tools_options_gradient_component__["a" /* ToolsOptionsGradientComponent */],
                __WEBPACK_IMPORTED_MODULE_65__components_tools_options_shapes_tools_options_shapes_component__["a" /* ToolsOptionsShapesComponent */],
            ],
            imports: [
                __WEBPACK_IMPORTED_MODULE_9_ngx_bootstrap__["c" /* BsDropdownModule */].forRoot(),
                __WEBPACK_IMPORTED_MODULE_9_ngx_bootstrap__["h" /* TabsModule */].forRoot(),
                __WEBPACK_IMPORTED_MODULE_9_ngx_bootstrap__["f" /* ModalModule */].forRoot(),
                __WEBPACK_IMPORTED_MODULE_9_ngx_bootstrap__["i" /* TooltipModule */].forRoot(),
                __WEBPACK_IMPORTED_MODULE_9_ngx_bootstrap__["g" /* PopoverModule */].forRoot(),
                __WEBPACK_IMPORTED_MODULE_9_ngx_bootstrap__["e" /* CollapseModule */].forRoot(),
                __WEBPACK_IMPORTED_MODULE_9_ngx_bootstrap__["a" /* AccordionModule */].forRoot(),
                __WEBPACK_IMPORTED_MODULE_9_ngx_bootstrap__["d" /* ButtonsModule */].forRoot(),
                __WEBPACK_IMPORTED_MODULE_9_ngx_bootstrap__["b" /* AlertModule */].forRoot(),
                __WEBPACK_IMPORTED_MODULE_14_ng2_dnd__["a" /* DndModule */].forRoot(),
                __WEBPACK_IMPORTED_MODULE_7__angular_platform_browser_animations__["a" /* BrowserAnimationsModule */],
                __WEBPACK_IMPORTED_MODULE_8_angular_busy2__["CgBusyModule"],
                __WEBPACK_IMPORTED_MODULE_2__angular_platform_browser__["a" /* BrowserModule */],
                __WEBPACK_IMPORTED_MODULE_4__angular_forms__["g" /* ReactiveFormsModule */],
                __WEBPACK_IMPORTED_MODULE_4__angular_forms__["c" /* FormsModule */],
                __WEBPACK_IMPORTED_MODULE_5__angular_http__["b" /* HttpModule */],
                __WEBPACK_IMPORTED_MODULE_6__angular_router__["a" /* RouterModule */].forRoot([]),
                __WEBPACK_IMPORTED_MODULE_11__modulesext_autocomplete__["a" /* AutoCompleteModule */],
                __WEBPACK_IMPORTED_MODULE_10__modulesext_color_picker__["b" /* ColorPickerModule */],
                __WEBPACK_IMPORTED_MODULE_12_angular2_virtual_scroll__["VirtualScrollModule"],
                __WEBPACK_IMPORTED_MODULE_13_angular2_draggable__["a" /* AngularDraggableModule */]
            ],
            providers: [__WEBPACK_IMPORTED_MODULE_24__services_project_service__["a" /* ProjectService */], __WEBPACK_IMPORTED_MODULE_25__services_keyboard_service__["a" /* KeyboardService */], __WEBPACK_IMPORTED_MODULE_26__services_app_service__["a" /* AppService */], __WEBPACK_IMPORTED_MODULE_27__services_font_service__["a" /* FontService */], __WEBPACK_IMPORTED_MODULE_28__services_user_service__["a" /* UserService */], __WEBPACK_IMPORTED_MODULE_29__services_effect_service__["a" /* EffectService */], __WEBPACK_IMPORTED_MODULE_62__services_clipboard_service__["b" /* ClipboardService */], __WEBPACK_IMPORTED_MODULE_66__services_shapes_service__["a" /* ShapesService */]],
            bootstrap: [__WEBPACK_IMPORTED_MODULE_15__app_component__["a" /* AppComponent */]]
        })
    ], AppModule);
    return AppModule;
}());



/***/ }),

/***/ "../../../../../src/app/commands/cmdAddTextLayer.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CmdAddTextLayer; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__command__ = __webpack_require__("../../../../../src/app/commands/command.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__models_photoedit_layerText__ = __webpack_require__("../../../../../src/app/models/photoedit/layerText.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__entities_text__ = __webpack_require__("../../../../../src/app/entities/text.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__models_photoedit_history_history__ = __webpack_require__("../../../../../src/app/models/photoedit/history/history.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__lib_callback__ = __webpack_require__("../../../../../src/app/lib/callback.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();





var CmdAddTextLayer = /** @class */ (function (_super) {
    __extends(CmdAddTextLayer, _super);
    function CmdAddTextLayer(projectService, appService) {
        var _this = _super.call(this) || this;
        _this.projectService = projectService;
        return _this;
    }
    CmdAddTextLayer.prototype.execute = function () {
        if (this.projectService.currentProject)
            if (this.projectService.currentProject.activeWorkspace) {
                var workspace = this.projectService.currentProject.activeWorkspace;
                if (workspace) {
                    var text = new __WEBPACK_IMPORTED_MODULE_2__entities_text__["a" /* Text */]();
                    text.data = "Enter text here";
                    text.color = "rgb(0,0,0)";
                    text.fontFamily = "Times New Roman";
                    text.fontSize = 32;
                    text.alignH = "left";
                    text.alignV = "top";
                    text.isStroked = false;
                    text.strokedColor = "rgb(0,0,0)";
                    var textLayer = new __WEBPACK_IMPORTED_MODULE_1__models_photoedit_layerText__["a" /* LayerText */](text, "Text");
                    workspace.addLayer(textLayer);
                    workspace.makeLayerSelected(textLayer);
                    this.history(workspace, textLayer.uuid, textLayer.clone());
                }
            }
    };
    CmdAddTextLayer.prototype.history = function (workspace, uuid, textLayer) {
        var history = __WEBPACK_IMPORTED_MODULE_3__models_photoedit_history_history__["a" /* History */].create().setUndo(__WEBPACK_IMPORTED_MODULE_4__lib_callback__["a" /* Callback */].from(function () {
            //find the layer with same name and remove it
            var findedLayer = workspace.layers.findIndex(function (p) { return p.uuid == uuid; });
            if (findedLayer >= 0)
                workspace.layers.splice(findedLayer, 1);
        }));
        var clonedtextLayer = textLayer.clone();
        workspace.historyManager.add(history, __WEBPACK_IMPORTED_MODULE_4__lib_callback__["a" /* Callback */].from(function () {
            var templayer = clonedtextLayer;
            workspace.addLayer(templayer);
            workspace.makeLayerSelected(templayer);
            templayer.invalidate();
        }));
    };
    return CmdAddTextLayer;
}(__WEBPACK_IMPORTED_MODULE_0__command__["a" /* Command */]));



/***/ }),

/***/ "../../../../../src/app/commands/cmdChangeBackgroundLayerColor.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CmdChangeBackgroundLayerColor; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__models_photoedit_layerBackground__ = __webpack_require__("../../../../../src/app/models/photoedit/layerBackground.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__commandBusy__ = __webpack_require__("../../../../../src/app/commands/commandBusy.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();


var CmdChangeBackgroundLayerColor = /** @class */ (function (_super) {
    __extends(CmdChangeBackgroundLayerColor, _super);
    function CmdChangeBackgroundLayerColor(projectService, appService) {
        return _super.call(this, projectService, appService) || this;
    }
    CmdChangeBackgroundLayerColor.prototype.execute = function () {
        if (this.projectService.currentProject)
            if (this.projectService.currentProject.activeWorkspace) {
                var workspace = this.projectService.currentProject.activeWorkspace;
                if (workspace && workspace.backgroundLayer instanceof __WEBPACK_IMPORTED_MODULE_0__models_photoedit_layerBackground__["a" /* LayerBackground */]) {
                    workspace.backgroundLayer.changeColors();
                }
            }
    };
    return CmdChangeBackgroundLayerColor;
}(__WEBPACK_IMPORTED_MODULE_1__commandBusy__["b" /* CommandNotBusy */]));



/***/ }),

/***/ "../../../../../src/app/commands/cmdClear.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CmdClear; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__lib_imagealgorithm_imageAlgorithmCrop__ = __webpack_require__("../../../../../src/app/lib/imagealgorithm/imageAlgorithmCrop.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__command__ = __webpack_require__("../../../../../src/app/commands/command.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__lib_graphics__ = __webpack_require__("../../../../../src/app/lib/graphics.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__lib_draw_rect__ = __webpack_require__("../../../../../src/app/lib/draw/rect.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__entities_alertItem__ = __webpack_require__("../../../../../src/app/entities/alertItem.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__lib_callback__ = __webpack_require__("../../../../../src/app/lib/callback.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__lib_draw_polygon__ = __webpack_require__("../../../../../src/app/lib/draw/polygon.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__lib_draw_point__ = __webpack_require__("../../../../../src/app/lib/draw/point.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__lib_hMath__ = __webpack_require__("../../../../../src/app/lib/hMath.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__models_photoedit_history_history__ = __webpack_require__("../../../../../src/app/models/photoedit/history/history.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();










var CmdClear = /** @class */ (function (_super) {
    __extends(CmdClear, _super);
    function CmdClear(projectService, appService, clipboardService) {
        var _this = _super.call(this) || this;
        _this.projectService = projectService;
        _this.appService = appService;
        _this.clipboardService = clipboardService;
        return _this;
    }
    CmdClear.prototype.execute = function () {
        if (this.projectService.currentProject) {
            var workspace = this.projectService.currentProject.activeWorkspace;
            if (workspace && workspace.layers.length > 0) {
                var indexOfSelected = workspace.layers.findIndex(function (item) { return item.isSelected; });
                if (indexOfSelected < 0)
                    indexOfSelected = 0;
                var selectedLayer = workspace.layers[indexOfSelected];
                var selectionLayer = workspace.selectionLayer;
                if (!selectionLayer) {
                    //selectionLayer yok ise, bir alan seçili değildi ne yapacağız peki
                    this.appService.showAlert(new __WEBPACK_IMPORTED_MODULE_4__entities_alertItem__["a" /* AlertItem */]('warning', 'Please intersect with selected layer', 2000));
                    return;
                }
                if (selectionLayer.polygons.length == 0) {
                    this.appService.showAlert(new __WEBPACK_IMPORTED_MODULE_4__entities_alertItem__["a" /* AlertItem */]('warning', 'Please select a region', 2000));
                    return;
                }
                //history operations
                var history_1 = this.createHistory(workspace, selectedLayer.clone(), selectionLayer.clone());
                this.executeClear(workspace, selectionLayer, selectedLayer, history_1);
            }
        }
    };
    CmdClear.prototype.executeClear = function (workspace, selectionLayer, selectedLayer, history) {
        var _this = this;
        var polygons = selectionLayer.polygons;
        polygons.forEach(function (poly) {
            var rectLayer = selectedLayer.rectRotated2D;
            var polygonSelectedLayer = __WEBPACK_IMPORTED_MODULE_8__lib_hMath__["a" /* HMath */].rect2DToPolygon(rectLayer);
            var intersectedPoly = poly.intersect(polygonSelectedLayer);
            if (intersectedPoly.points.length == 0) {
                //eğer selected layer ile  kesişim yok ise
                _this.appService.showAlert(new __WEBPACK_IMPORTED_MODULE_4__entities_alertItem__["a" /* AlertItem */]("warning", "Please intersect with selected layer"));
                return;
            }
            if (selectedLayer.rotateAngleDeg != 0) {
                var centerPoint_1 = new __WEBPACK_IMPORTED_MODULE_7__lib_draw_point__["a" /* Point */](selectedLayer.rectRotated.x + selectedLayer.rectRotated.width / 2, selectedLayer.rectRotated.y + selectedLayer.rectRotated.height / 2);
                var temp = intersectedPoly.points.map(function (point) {
                    return __WEBPACK_IMPORTED_MODULE_8__lib_hMath__["a" /* HMath */].rotatePoint(point, -selectedLayer.rotateAngleDeg, centerPoint_1);
                });
                intersectedPoly = new __WEBPACK_IMPORTED_MODULE_6__lib_draw_polygon__["a" /* Polygon */](temp);
            }
            intersectedPoly = intersectedPoly.translate(-(selectedLayer.marginLeft), -(selectedLayer.marginTop));
            var rect = intersectedPoly.bounds;
            var crop = new __WEBPACK_IMPORTED_MODULE_0__lib_imagealgorithm_imageAlgorithmCrop__["a" /* ImageAlgorithmCrop */](rect);
            var cropedImage = crop.process(selectedLayer.getImage());
            //intersectedPoly=intersectedPoly.translate(-rect.x,-rect.y);
            //rect=intersectedPoly.bounds;
            var canvas = document.createElement('canvas');
            canvas.width = cropedImage.width;
            canvas.height = cropedImage.height;
            var graphics = new __WEBPACK_IMPORTED_MODULE_2__lib_graphics__["a" /* Graphics */](canvas, canvas.width, canvas.height, 1);
            graphics.save();
            var tempPoly = intersectedPoly.translate(-rect.x, -rect.y);
            //rect=intersectedPoly.bounds;
            graphics.drawPolygon(tempPoly, false);
            graphics.clip();
            graphics.drawImageRect(cropedImage, new __WEBPACK_IMPORTED_MODULE_3__lib_draw_rect__["a" /* Rect */](0, 0, canvas.width, canvas.height), new __WEBPACK_IMPORTED_MODULE_3__lib_draw_rect__["a" /* Rect */](0, 0, canvas.width, canvas.height), __WEBPACK_IMPORTED_MODULE_5__lib_callback__["a" /* Callback */].from(function () {
                //this is inside of 
                graphics.restore();
                var maskedImage = graphics.getImage();
                graphics.dispose();
                canvas = null;
                selectedLayer.graphics.save();
                selectedLayer.graphics.drawPolygon(intersectedPoly, false);
                selectedLayer.graphics.clip();
                selectedLayer.graphics.setBlendMode('destination-out');
                selectedLayer.graphics.fillRect(rect, "FFFFFF");
                selectedLayer.graphics.restore();
                //history için çizim yapıldığında son yapılan resmin clone oluşturulması        
                /* let tempwindow= window.open("","a");
                let img=new Image();
                img.src=selectedLayer.exportToURI();
                tempwindow.document.body.appendChild(img);  */
                _this.historyRedo(history, workspace, selectedLayer.clone(), selectionLayer.clone());
            }));
        });
    };
    CmdClear.prototype.historyRedo = function (history, workspace, selectedLayer, selectionLayer) {
        ///test codes
        /*  let tempwindow=window.open("","a");
         let canvas=tempwindow.document.createElement('canvas');
         canvas.width=selectedLayer.width;
         canvas.height=selectedLayer.height;
         tempwindow.document.body.appendChild(canvas);
         let graphics=new Graphics(canvas,canvas.width,canvas.height,1);
         let img=(selectedLayer as LayerImage).hImage;
         graphics.save();
         graphics.drawImageRect(img,new Rect(0,0,img.width,img.height),new Rect(0,0,img.width,img.height));
         graphics.restore();
    */
        workspace.historyManager.add(history, __WEBPACK_IMPORTED_MODULE_5__lib_callback__["a" /* Callback */].from(function () {
            var clonedLayer = selectedLayer.clone();
            workspace.replaceHistoryLayer(clonedLayer.uuid, clonedLayer);
            workspace.makeLayerSelected(clonedLayer);
            workspace.replaceSelectionLayer(selectionLayer.clone());
        }));
    };
    CmdClear.prototype.createHistory = function (workspace, selectedLayer, selectionLayer) {
        //test codes
        /*  let tempwindow=window.open("","a");
         let canvas=tempwindow.document.createElement('canvas');
         canvas.width=selectedLayer.width;
         canvas.height=selectedLayer.height;
         tempwindow.document.body.appendChild(canvas);
         let graphics=new Graphics(canvas,canvas.width,canvas.height,1);
         let img=(selectedLayer as LayerImage).hImage;
         graphics.save();
         graphics.drawImageRect(img,new Rect(0,0,img.width,img.height),new Rect(0,0,img.width,img.height));
         graphics.restore(); */
        var history = __WEBPACK_IMPORTED_MODULE_9__models_photoedit_history_history__["a" /* History */].create().setUndo(__WEBPACK_IMPORTED_MODULE_5__lib_callback__["a" /* Callback */].from(function () {
            var clonedLayer = selectedLayer.clone();
            workspace.replaceHistoryLayer(clonedLayer.uuid, clonedLayer);
            workspace.makeLayerSelected(clonedLayer);
            workspace.replaceSelectionLayer(selectionLayer.clone());
        }));
        return history;
    };
    return CmdClear;
}(__WEBPACK_IMPORTED_MODULE_1__command__["a" /* Command */]));



/***/ }),

/***/ "../../../../../src/app/commands/cmdCloneLayer.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CmdCloneLayer; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__lib_utility__ = __webpack_require__("../../../../../src/app/lib/utility.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__lib_callback__ = __webpack_require__("../../../../../src/app/lib/callback.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__commandBusy__ = __webpack_require__("../../../../../src/app/commands/commandBusy.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__models_photoedit_history_history__ = __webpack_require__("../../../../../src/app/models/photoedit/history/history.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();




var CmdCloneLayer = /** @class */ (function (_super) {
    __extends(CmdCloneLayer, _super);
    function CmdCloneLayer(projectService, appService) {
        return _super.call(this, projectService, appService) || this;
    }
    CmdCloneLayer.prototype.execute = function () {
        if (this.projectService.currentProject)
            if (this.projectService.currentProject.activeWorkspace) {
                var workspace_1 = this.projectService.currentProject.activeWorkspace;
                if (workspace_1 && workspace_1.hasLayer) {
                    var selectedIndex = 0;
                    var temp = workspace_1.layers.findIndex(function (p) { return p.isSelected; });
                    if (temp >= 0)
                        selectedIndex = temp;
                    var selectedLayer = workspace_1.layers[selectedIndex];
                    var newLayer_1 = selectedLayer.clone();
                    newLayer_1.setuuid(__WEBPACK_IMPORTED_MODULE_0__lib_utility__["a" /* Utility */].uuid());
                    var clonedSelected = selectedLayer.clone();
                    var clonednewLayer = newLayer_1.clone();
                    var history_1 = __WEBPACK_IMPORTED_MODULE_3__models_photoedit_history_history__["a" /* History */].create().setUndo(__WEBPACK_IMPORTED_MODULE_1__lib_callback__["a" /* Callback */].from(function () {
                        workspace_1.removeLayer2(newLayer_1.uuid);
                    }));
                    workspace_1.historyManager.add(history_1, __WEBPACK_IMPORTED_MODULE_1__lib_callback__["a" /* Callback */].from(function () {
                        workspace_1.addLayer(newLayer_1.clone());
                    }));
                    workspace_1.addLayer(newLayer_1.clone());
                }
            }
    };
    return CmdCloneLayer;
}(__WEBPACK_IMPORTED_MODULE_2__commandBusy__["b" /* CommandNotBusy */]));



/***/ }),

/***/ "../../../../../src/app/commands/cmdColorRemap.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CmdColorRemap; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__lib_callback__ = __webpack_require__("../../../../../src/app/lib/callback.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__commandBusy__ = __webpack_require__("../../../../../src/app/commands/commandBusy.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__models_photoedit_layerImage__ = __webpack_require__("../../../../../src/app/models/photoedit/layerImage.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__lib_imagealgorithm_imageAlgorithmColorRemap__ = __webpack_require__("../../../../../src/app/lib/imagealgorithm/imageAlgorithmColorRemap.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__models_photoedit_history_history__ = __webpack_require__("../../../../../src/app/models/photoedit/history/history.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();





var CmdColorRemap = /** @class */ (function (_super) {
    __extends(CmdColorRemap, _super);
    function CmdColorRemap(effectName, projectService, appService, effectService) {
        var _this = _super.call(this, projectService, appService) || this;
        _this._effectService = effectService;
        _this._effectName = effectName;
        return _this;
    }
    CmdColorRemap.prototype.execute = function () {
        var _this = this;
        if (this.projectService.currentProject)
            if (this.projectService.currentProject.activeWorkspace) {
                var workspace = this.projectService.currentProject.activeWorkspace;
                if (workspace && workspace.layers.length > 0
                    && this._effectService.effects && this._effectService.effects.items) {
                    var effectValue = this._effectService.effects.items.find(function (p) { return p.name === _this._effectName; });
                    if (effectValue) {
                        var selectedLayer = workspace.layers.find(function (layer) { return layer.isSelected; });
                        if (!selectedLayer) {
                            //selected layer yok ise layer 0 crop yapılacak
                            selectedLayer = workspace.layers[0];
                        }
                        if (selectedLayer) {
                            var effect = new __WEBPACK_IMPORTED_MODULE_3__lib_imagealgorithm_imageAlgorithmColorRemap__["a" /* ImageAlgorithmColorRemap */](effectValue);
                            var img = effect.process(selectedLayer.getImage());
                            var newLayer = new __WEBPACK_IMPORTED_MODULE_2__models_photoedit_layerImage__["a" /* LayerImage */](img, selectedLayer.name);
                            this.history(workspace, selectedLayer.clone(), newLayer.clone());
                            workspace.replaceLayer(selectedLayer, newLayer);
                        }
                    }
                }
            }
    };
    CmdColorRemap.prototype.history = function (workspace, selectedLayer, newLayer) {
        var histo = __WEBPACK_IMPORTED_MODULE_4__models_photoedit_history_history__["a" /* History */].create().setUndo(__WEBPACK_IMPORTED_MODULE_0__lib_callback__["a" /* Callback */].from(function () {
            var temp = selectedLayer.clone();
            workspace.replaceLayer(newLayer, temp);
        }));
        workspace.historyManager.add(histo, __WEBPACK_IMPORTED_MODULE_0__lib_callback__["a" /* Callback */].from(function () {
            workspace.replaceLayer(selectedLayer, newLayer.clone());
        }));
    };
    return CmdColorRemap;
}(__WEBPACK_IMPORTED_MODULE_1__commandBusy__["a" /* CommandBusy */]));



/***/ }),

/***/ "../../../../../src/app/commands/cmdCopy.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CmdCopy; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__services_clipboard_service__ = __webpack_require__("../../../../../src/app/services/clipboard.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__lib_imagealgorithm_imageAlgorithmCrop__ = __webpack_require__("../../../../../src/app/lib/imagealgorithm/imageAlgorithmCrop.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__entities_alertItem__ = __webpack_require__("../../../../../src/app/entities/alertItem.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__lib_draw_point__ = __webpack_require__("../../../../../src/app/lib/draw/point.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__lib_graphics__ = __webpack_require__("../../../../../src/app/lib/graphics.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__lib_draw_rect__ = __webpack_require__("../../../../../src/app/lib/draw/rect.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__lib_callback__ = __webpack_require__("../../../../../src/app/lib/callback.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__commandBusy__ = __webpack_require__("../../../../../src/app/commands/commandBusy.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__lib_draw_polygon__ = __webpack_require__("../../../../../src/app/lib/draw/polygon.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__lib_hMath__ = __webpack_require__("../../../../../src/app/lib/hMath.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();










var CmdCopy = /** @class */ (function (_super) {
    __extends(CmdCopy, _super);
    function CmdCopy(projectService, appService, clipboardService) {
        var _this = _super.call(this, projectService, appService) || this;
        _this.clipboardService = clipboardService;
        return _this;
    }
    CmdCopy.prototype.execute = function () {
        var _this = this;
        if (this.projectService.currentProject) {
            var workspace = this.projectService.currentProject.activeWorkspace;
            if (workspace && workspace.layers.length > 0) {
                var indexOfSelected = workspace.layers.findIndex(function (item) { return item.isSelected; });
                if (indexOfSelected < 0)
                    indexOfSelected = 0;
                var selectedLayer_1 = workspace.layers[indexOfSelected];
                var selectionLayer = workspace.selectionLayer;
                if (!selectionLayer && selectedLayer_1) {
                    //var olan layerdan bir kopya çıkardık
                    this.clipboardService.set(new __WEBPACK_IMPORTED_MODULE_0__services_clipboard_service__["a" /* ClipboardData */](__WEBPACK_IMPORTED_MODULE_0__services_clipboard_service__["a" /* ClipboardData */].Types.Image, selectedLayer_1.getImage()));
                    this.appService.showAlert(new __WEBPACK_IMPORTED_MODULE_2__entities_alertItem__["a" /* AlertItem */]('info', 'Copied', 2000));
                    return;
                }
                var polygons = selectionLayer.polygons;
                polygons.forEach(function (poly) {
                    var rectLayer = selectedLayer_1.rectRotated2D;
                    var polygonSelectedLayer = __WEBPACK_IMPORTED_MODULE_9__lib_hMath__["a" /* HMath */].rect2DToPolygon(rectLayer);
                    var intersectedPoly = poly.intersect(polygonSelectedLayer);
                    if (intersectedPoly.points.length == 0) {
                        //eğer selected layer ile  kesişim yok ise
                        _this.appService.showAlert(new __WEBPACK_IMPORTED_MODULE_2__entities_alertItem__["a" /* AlertItem */]("warning", "Please intersect with selected layer"));
                        return;
                    }
                    if (selectedLayer_1.rotateAngleDeg != 0) {
                        var centerPoint_1 = new __WEBPACK_IMPORTED_MODULE_3__lib_draw_point__["a" /* Point */](selectedLayer_1.rectRotated.x + selectedLayer_1.rectRotated.width / 2, selectedLayer_1.rectRotated.y + selectedLayer_1.rectRotated.height / 2);
                        var temp = intersectedPoly.points.map(function (point) {
                            return __WEBPACK_IMPORTED_MODULE_9__lib_hMath__["a" /* HMath */].rotatePoint(point, -selectedLayer_1.rotateAngleDeg, centerPoint_1);
                        });
                        intersectedPoly = new __WEBPACK_IMPORTED_MODULE_8__lib_draw_polygon__["a" /* Polygon */](temp);
                    }
                    intersectedPoly = intersectedPoly.translate(-(selectedLayer_1.marginLeft), -(selectedLayer_1.marginTop));
                    var rect = intersectedPoly.bounds;
                    var crop = new __WEBPACK_IMPORTED_MODULE_1__lib_imagealgorithm_imageAlgorithmCrop__["a" /* ImageAlgorithmCrop */](rect);
                    var cropedImage = crop.process(selectedLayer_1.getImage());
                    intersectedPoly = intersectedPoly.translate(-rect.x, -rect.y);
                    rect = intersectedPoly.bounds;
                    //intersectedPoly=intersectedPoly.translate(-(selectedLayer.marginLeft),-(selectedLayer.marginTop));
                    //let rect=intersectedPoly.bounds;
                    var canvas = document.createElement('canvas');
                    canvas.width = cropedImage.width;
                    canvas.height = cropedImage.height;
                    var graphics = new __WEBPACK_IMPORTED_MODULE_4__lib_graphics__["a" /* Graphics */](canvas, canvas.width, canvas.height, 1);
                    graphics.save();
                    graphics.drawPolygon(intersectedPoly, false);
                    graphics.clip();
                    graphics.drawImageRect(cropedImage, new __WEBPACK_IMPORTED_MODULE_5__lib_draw_rect__["a" /* Rect */](0, 0, canvas.width, canvas.height), new __WEBPACK_IMPORTED_MODULE_5__lib_draw_rect__["a" /* Rect */](0, 0, canvas.width, canvas.height), __WEBPACK_IMPORTED_MODULE_6__lib_callback__["a" /* Callback */].from(function () {
                        //this is inside of 
                        graphics.restore();
                        var maskedImage = graphics.getImage();
                        graphics.dispose();
                        _this.clipboardService.set(new __WEBPACK_IMPORTED_MODULE_0__services_clipboard_service__["a" /* ClipboardData */](__WEBPACK_IMPORTED_MODULE_0__services_clipboard_service__["a" /* ClipboardData */].Types.Image, maskedImage));
                        _this.appService.showAlert(new __WEBPACK_IMPORTED_MODULE_2__entities_alertItem__["a" /* AlertItem */]('info', 'Copied', 2000));
                        canvas = null;
                        //let newLayer=new LayerImage(maskedImage,'copy');
                        //workspace.addLayer(newLayer);
                    }));
                });
            }
        }
    };
    return CmdCopy;
}(__WEBPACK_IMPORTED_MODULE_7__commandBusy__["b" /* CommandNotBusy */]));



/***/ }),

/***/ "../../../../../src/app/commands/cmdCreateInstagramFilter.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CmdCreateInstagramFilter; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__commandBusy__ = __webpack_require__("../../../../../src/app/commands/commandBusy.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var CmdCreateInstagramFilter = /** @class */ (function (_super) {
    __extends(CmdCreateInstagramFilter, _super);
    function CmdCreateInstagramFilter(projectService, appService) {
        return _super.call(this, projectService, appService) || this;
    }
    CmdCreateInstagramFilter.prototype.execute = function () {
        if (this.projectService.currentProject)
            if (this.projectService.currentProject.activeWorkspace) {
                var workspace = this.projectService.currentProject.activeWorkspace;
                if (workspace && workspace.layers.length > 0) {
                    var selectedLayer = workspace.layers.find(function (p) { return p.isSelected; });
                    if (selectedLayer == undefined) {
                        console.warn("select a layer");
                        return;
                    }
                    var filteredImage = selectedLayer.getImage();
                    if (filteredImage.Pixels.length < 256 * 256 * 4) {
                        console.warn("filtered is not valid");
                        return;
                    }
                    var filtering = { r: [], g: [], b: [] };
                    for (var i = 0; i < 256; ++i) {
                        var r = filteredImage.Pixels[i * 4 + 0];
                        var g = filteredImage.Pixels[i * 4 + 1];
                        var b = filteredImage.Pixels[i * 4 + 2];
                        filtering.r[i] = r;
                        filtering.g[i] = g;
                        filtering.b[i] = b;
                    }
                    // console.log(JSON.stringify(filtering));
                }
            }
    };
    return CmdCreateInstagramFilter;
}(__WEBPACK_IMPORTED_MODULE_0__commandBusy__["a" /* CommandBusy */]));



/***/ }),

/***/ "../../../../../src/app/commands/cmdCrop.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CmdCrop; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__models_photoedit_history_history__ = __webpack_require__("../../../../../src/app/models/photoedit/history/history.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__lib_imageprocess_imageProcessCrop__ = __webpack_require__("../../../../../src/app/lib/imageprocess/imageProcessCrop.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__lib_callback__ = __webpack_require__("../../../../../src/app/lib/callback.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__commandBusy__ = __webpack_require__("../../../../../src/app/commands/commandBusy.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__models_photoedit_layerImage__ = __webpack_require__("../../../../../src/app/models/photoedit/layerImage.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();





var CmdCrop = /** @class */ (function (_super) {
    __extends(CmdCrop, _super);
    function CmdCrop(projectService, appService) {
        return _super.call(this, projectService, appService) || this;
    }
    CmdCrop.prototype.execute = function () {
        if (this.projectService.currentProject)
            if (this.projectService.currentProject.activeWorkspace) {
                var workspace = this.projectService.currentProject.activeWorkspace;
                if (workspace && workspace.workLayer && workspace.layers.length > 0) {
                    //zaten döndürme olmadığı için sorun yok
                    var cropLayerRect = workspace.workLayer.rect;
                    var isLayer0Crop = false;
                    var selectedLayer = workspace.layers.find(function (layer) { return layer.isSelected; });
                    if (!selectedLayer) {
                        //selected layer yok ise layer 0 crop yapılacak
                        selectedLayer = workspace.layers[0];
                        isLayer0Crop = true;
                    }
                    var selectedLayerRect = selectedLayer.rect;
                    var cropedImage = __WEBPACK_IMPORTED_MODULE_1__lib_imageprocess_imageProcessCrop__["a" /* ImageProcessCrop */].process(selectedLayer.getImage(), selectedLayerRect, cropLayerRect, 0);
                    if (cropedImage) {
                        var newLayer = new __WEBPACK_IMPORTED_MODULE_4__models_photoedit_layerImage__["a" /* LayerImage */](cropedImage, "cropedimage", selectedLayer.uuid);
                        newLayer.scale = selectedLayer.scale;
                        newLayer.marginLeft = cropLayerRect.x;
                        newLayer.marginTop = cropLayerRect.y;
                        if (workspace.layers.length == 1) {
                            newLayer.marginLeft = 0;
                            newLayer.marginTop = 0;
                        }
                        workspace.removeWorkLayer();
                        // workspace.addLayer(newLayer);
                        this.createHistory(workspace, newLayer.clone(), selectedLayer.clone());
                        if (workspace.layers.length > 1)
                            workspace.replaceLayer(selectedLayer, newLayer, cropLayerRect.x, cropLayerRect.y);
                        else {
                            workspace.replaceLayer(selectedLayer, newLayer, 0, 0);
                            workspace.resize(newLayer.width, newLayer.height, __WEBPACK_IMPORTED_MODULE_2__lib_callback__["a" /* Callback */].empty());
                        }
                    }
                }
            }
    };
    CmdCrop.prototype.createHistory = function (workspace, cropedLayer, selectedLayer) {
        var wswidth = workspace.width;
        var wsheight = workspace.height;
        var history = __WEBPACK_IMPORTED_MODULE_0__models_photoedit_history_history__["a" /* History */].create().setUndo(__WEBPACK_IMPORTED_MODULE_2__lib_callback__["a" /* Callback */].from(function () {
            workspace.replaceHistoryLayer(selectedLayer.uuid, selectedLayer);
            workspace.resize(wswidth, wsheight, __WEBPACK_IMPORTED_MODULE_2__lib_callback__["a" /* Callback */].empty());
        }));
        workspace.historyManager.add(history, __WEBPACK_IMPORTED_MODULE_2__lib_callback__["a" /* Callback */].from(function () {
            workspace.replaceHistoryLayer(cropedLayer.uuid, cropedLayer);
            if (workspace.layers.length == 1) {
                workspace.resize(cropedLayer.width, cropedLayer.height, __WEBPACK_IMPORTED_MODULE_2__lib_callback__["a" /* Callback */].empty());
            }
        }));
    };
    return CmdCrop;
}(__WEBPACK_IMPORTED_MODULE_3__commandBusy__["b" /* CommandNotBusy */]));



/***/ }),

/***/ "../../../../../src/app/commands/cmdCut.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CmdCut; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__lib_imagealgorithm_imageAlgorithmCrop__ = __webpack_require__("../../../../../src/app/lib/imagealgorithm/imageAlgorithmCrop.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__lib_graphics__ = __webpack_require__("../../../../../src/app/lib/graphics.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__lib_draw_rect__ = __webpack_require__("../../../../../src/app/lib/draw/rect.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__services_clipboard_service__ = __webpack_require__("../../../../../src/app/services/clipboard.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__entities_alertItem__ = __webpack_require__("../../../../../src/app/entities/alertItem.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__lib_callback__ = __webpack_require__("../../../../../src/app/lib/callback.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__commandBusy__ = __webpack_require__("../../../../../src/app/commands/commandBusy.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__lib_draw_polygon__ = __webpack_require__("../../../../../src/app/lib/draw/polygon.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__lib_draw_point__ = __webpack_require__("../../../../../src/app/lib/draw/point.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__lib_hMath__ = __webpack_require__("../../../../../src/app/lib/hMath.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__models_photoedit_history_history__ = __webpack_require__("../../../../../src/app/models/photoedit/history/history.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();











var CmdCut = /** @class */ (function (_super) {
    __extends(CmdCut, _super);
    function CmdCut(projectService, appService, clipboardService) {
        var _this = _super.call(this, projectService, appService) || this;
        _this.clipboardService = clipboardService;
        return _this;
    }
    CmdCut.prototype.execute = function () {
        if (this.projectService.currentProject) {
            var workspace = this.projectService.currentProject.activeWorkspace;
            if (workspace && workspace.layers.length > 0) {
                var indexOfSelected = workspace.layers.findIndex(function (item) { return item.isSelected; });
                if (indexOfSelected < 0)
                    indexOfSelected = 0;
                var selectedLayer = workspace.layers[indexOfSelected];
                var selectionLayer = workspace.selectionLayer;
                if (!selectionLayer) {
                    //selectionLayer yok ise, bir alan seçili değildi ne yapacağız peki
                    this.appService.showAlert(new __WEBPACK_IMPORTED_MODULE_4__entities_alertItem__["a" /* AlertItem */]('warning', 'Please intersect with selected layer', 2000));
                    return;
                }
                var history_1 = this.history(workspace, selectedLayer.clone(), selectionLayer.clone());
                this.process(history_1, workspace, selectionLayer, selectedLayer);
            }
        }
    };
    CmdCut.prototype.process = function (history, workspace, selectionLayer, selectedLayer) {
        var _this = this;
        var polygons = selectionLayer.polygons;
        polygons.forEach(function (poly) {
            var rectLayer = selectedLayer.rectRotated2D;
            var polygonSelectedLayer = __WEBPACK_IMPORTED_MODULE_9__lib_hMath__["a" /* HMath */].rect2DToPolygon(rectLayer);
            var intersectedPoly = poly.intersect(polygonSelectedLayer);
            if (intersectedPoly.points.length == 0) {
                //eğer selected layer ile  kesişim yok ise
                _this.appService.showAlert(new __WEBPACK_IMPORTED_MODULE_4__entities_alertItem__["a" /* AlertItem */]("warning", "Please intersect with selected layer"));
                return;
            }
            if (selectedLayer.rotateAngleDeg != 0) {
                var centerPoint_1 = new __WEBPACK_IMPORTED_MODULE_8__lib_draw_point__["a" /* Point */](selectedLayer.rectRotated.x + selectedLayer.rectRotated.width / 2, selectedLayer.rectRotated.y + selectedLayer.rectRotated.height / 2);
                var temp = intersectedPoly.points.map(function (point) {
                    return __WEBPACK_IMPORTED_MODULE_9__lib_hMath__["a" /* HMath */].rotatePoint(point, -selectedLayer.rotateAngleDeg, centerPoint_1);
                });
                intersectedPoly = new __WEBPACK_IMPORTED_MODULE_7__lib_draw_polygon__["a" /* Polygon */](temp);
            }
            intersectedPoly = intersectedPoly.translate(-(selectedLayer.marginLeft), -(selectedLayer.marginTop));
            var rect = intersectedPoly.bounds;
            var crop = new __WEBPACK_IMPORTED_MODULE_0__lib_imagealgorithm_imageAlgorithmCrop__["a" /* ImageAlgorithmCrop */](rect);
            var cropedImage = crop.process(selectedLayer.getImage());
            //intersectedPoly=intersectedPoly.translate(-rect.x,-rect.y);
            //rect=intersectedPoly.bounds;
            var canvas = document.createElement('canvas');
            canvas.width = cropedImage.width;
            canvas.height = cropedImage.height;
            var graphics = new __WEBPACK_IMPORTED_MODULE_1__lib_graphics__["a" /* Graphics */](canvas, canvas.width, canvas.height, 1);
            graphics.save();
            var tempPoly = intersectedPoly.translate(-rect.x, -rect.y);
            //rect=intersectedPoly.bounds;
            graphics.drawPolygon(tempPoly, false);
            graphics.clip();
            graphics.drawImageRect(cropedImage, new __WEBPACK_IMPORTED_MODULE_2__lib_draw_rect__["a" /* Rect */](0, 0, canvas.width, canvas.height), new __WEBPACK_IMPORTED_MODULE_2__lib_draw_rect__["a" /* Rect */](0, 0, canvas.width, canvas.height), __WEBPACK_IMPORTED_MODULE_5__lib_callback__["a" /* Callback */].from(function () {
                //this is inside of 
                graphics.restore();
                var maskedImage = graphics.getImage();
                graphics.dispose();
                canvas = null;
                selectedLayer.graphics.save();
                selectedLayer.graphics.drawPolygon(intersectedPoly, false);
                selectedLayer.graphics.clip();
                selectedLayer.graphics.setBlendMode('destination-out');
                selectedLayer.graphics.fillRect(rect, "FFFFFF");
                selectedLayer.graphics.restore();
                _this.historyRedo(history, workspace, selectedLayer.clone(), selectionLayer.clone());
                _this.clipboardService.set(new __WEBPACK_IMPORTED_MODULE_3__services_clipboard_service__["a" /* ClipboardData */](__WEBPACK_IMPORTED_MODULE_3__services_clipboard_service__["a" /* ClipboardData */].Types.Image, maskedImage));
                _this.appService.showAlert(new __WEBPACK_IMPORTED_MODULE_4__entities_alertItem__["a" /* AlertItem */]('info', 'Cutted', 2000));
                //let newLayer=new LayerImage(maskedImage,'cut');
                //workspace.addLayer(newLayer);
            }));
        });
    };
    CmdCut.prototype.historyRedo = function (history, workspace, selectedLayer, selectionLayer) {
        ///test codes
        /*  let tempwindow=window.open("","a");
         let canvas=tempwindow.document.createElement('canvas');
         canvas.width=selectedLayer.width;
         canvas.height=selectedLayer.height;
         tempwindow.document.body.appendChild(canvas);
         let graphics=new Graphics(canvas,canvas.width,canvas.height,1);
         let img=(selectedLayer as LayerImage).hImage;
         graphics.save();
         graphics.drawImageRect(img,new Rect(0,0,img.width,img.height),new Rect(0,0,img.width,img.height));
         graphics.restore();
    */
        workspace.historyManager.add(history, __WEBPACK_IMPORTED_MODULE_5__lib_callback__["a" /* Callback */].from(function () {
            var clonedLayer = selectedLayer.clone();
            workspace.replaceHistoryLayer(clonedLayer.uuid, clonedLayer);
            workspace.makeLayerSelected(clonedLayer);
            workspace.replaceSelectionLayer(selectionLayer.clone());
        }));
    };
    CmdCut.prototype.history = function (workspace, selectedLayer, selectionLayer) {
        //test codes
        /*  let tempwindow=window.open("","a");
         let canvas=tempwindow.document.createElement('canvas');
         canvas.width=selectedLayer.width;
         canvas.height=selectedLayer.height;
         tempwindow.document.body.appendChild(canvas);
         let graphics=new Graphics(canvas,canvas.width,canvas.height,1);
         let img=(selectedLayer as LayerImage).hImage;
         graphics.save();
         graphics.drawImageRect(img,new Rect(0,0,img.width,img.height),new Rect(0,0,img.width,img.height));
         graphics.restore(); */
        var history = __WEBPACK_IMPORTED_MODULE_10__models_photoedit_history_history__["a" /* History */].create().setUndo(__WEBPACK_IMPORTED_MODULE_5__lib_callback__["a" /* Callback */].from(function () {
            var clonedLayer = selectedLayer.clone();
            workspace.replaceHistoryLayer(clonedLayer.uuid, clonedLayer);
            workspace.makeLayerSelected(clonedLayer);
            workspace.replaceSelectionLayer(selectionLayer.clone());
        }));
        return history;
    };
    return CmdCut;
}(__WEBPACK_IMPORTED_MODULE_6__commandBusy__["b" /* CommandNotBusy */]));



/***/ }),

/***/ "../../../../../src/app/commands/cmdExecuteImageAlgorithms.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CmdExecuteImageAlgorithms; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__lib_callback__ = __webpack_require__("../../../../../src/app/lib/callback.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__commandBusy__ = __webpack_require__("../../../../../src/app/commands/commandBusy.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__models_photoedit_layerImage__ = __webpack_require__("../../../../../src/app/models/photoedit/layerImage.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__models_photoedit_history_history__ = __webpack_require__("../../../../../src/app/models/photoedit/history/history.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();




var CmdExecuteImageAlgorithms = /** @class */ (function (_super) {
    __extends(CmdExecuteImageAlgorithms, _super);
    function CmdExecuteImageAlgorithms(algorithms, projectService, appService) {
        var _this = _super.call(this, projectService, appService) || this;
        _this._algorithms = algorithms;
        return _this;
    }
    CmdExecuteImageAlgorithms.prototype.execute = function () {
        if (this.projectService.currentProject)
            if (this.projectService.currentProject.activeWorkspace) {
                var workspace = this.projectService.currentProject.activeWorkspace;
                if (workspace && workspace.hasLayer) {
                    var selectedLayer = workspace.layers.find(function (layer) { return layer.isSelected; });
                    if (!selectedLayer) {
                        //selected layer yok ise layer 0 crop yapılacak
                        selectedLayer = workspace.layers[0];
                    }
                    if (selectedLayer) {
                        var img = selectedLayer.getImage();
                        for (var i = 0; i < this._algorithms.length; ++i) {
                            img = this._algorithms[i].process(img);
                        }
                        var newLayer = new __WEBPACK_IMPORTED_MODULE_2__models_photoedit_layerImage__["a" /* LayerImage */](img, selectedLayer.name, selectedLayer.uuid);
                        this.history(workspace, selectedLayer.clone(), newLayer.clone());
                        workspace.replaceLayer(selectedLayer, newLayer);
                    }
                }
            }
    };
    CmdExecuteImageAlgorithms.prototype.history = function (workspace, selectedLayer, newLayer) {
        var histo = __WEBPACK_IMPORTED_MODULE_3__models_photoedit_history_history__["a" /* History */].create().setUndo(__WEBPACK_IMPORTED_MODULE_0__lib_callback__["a" /* Callback */].from(function () {
            var temp = selectedLayer.clone();
            workspace.replaceLayer(newLayer, temp);
        }));
        workspace.historyManager.add(histo, __WEBPACK_IMPORTED_MODULE_0__lib_callback__["a" /* Callback */].from(function () {
            workspace.replaceLayer(selectedLayer, newLayer.clone());
        }));
    };
    return CmdExecuteImageAlgorithms;
}(__WEBPACK_IMPORTED_MODULE_1__commandBusy__["a" /* CommandBusy */]));



/***/ }),

/***/ "../../../../../src/app/commands/cmdExportWorkspace.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CmdExportWorkspace; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__lib_utility__ = __webpack_require__("../../../../../src/app/lib/utility.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__lib_callback__ = __webpack_require__("../../../../../src/app/lib/callback.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__commandBusy__ = __webpack_require__("../../../../../src/app/commands/commandBusy.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__lib_draw_rect__ = __webpack_require__("../../../../../src/app/lib/draw/rect.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__lib_graphics__ = __webpack_require__("../../../../../src/app/lib/graphics.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_icoimagejs__ = __webpack_require__("../../../../icoimagejs/lib/index.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_icoimagejs___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_icoimagejs__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__cmdShowError__ = __webpack_require__("../../../../../src/app/commands/cmdShowError.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();







var exts = [{ mime: "png", ext: "png" }, { mime: "jpeg", ext: "jpg" }, { mime: "ico", ext: "ico" }];
var CmdExportWorkspace = /** @class */ (function (_super) {
    __extends(CmdExportWorkspace, _super);
    function CmdExportWorkspace(format, isPreview, projectService, appService) {
        if (isPreview === void 0) { isPreview = false; }
        var _this = _super.call(this, projectService, appService) || this;
        _this._format = format;
        _this._isPreview = isPreview;
        return _this;
    }
    CmdExportWorkspace.prototype.createJpegOrPngImage = function () {
        var workspace = this.projectService.currentProject.activeWorkspace;
        var canvas = window.document.createElement("canvas");
        canvas.width = workspace.width;
        canvas.height = workspace.height;
        var graphics = new __WEBPACK_IMPORTED_MODULE_4__lib_graphics__["a" /* Graphics */](canvas, canvas.width, canvas.height, 1);
        var promise = Promise.resolve(graphics);
        var i = 0;
        var _loop_1 = function () {
            var tempi = i;
            promise = promise.then(function () {
                var layer = workspace.layers[tempi];
                graphics.save();
                graphics.setGlobalAlpha(layer.globalAlpha);
                graphics.setBlendMode(layer.blendMode);
                graphics.translate(layer.marginLeft, layer.marginTop);
                graphics.translate(layer.width / 2, layer.height / 2);
                graphics.rotate(layer.rotateAngleDeg);
                var img = layer.getImage();
                graphics.drawImageRect(img, new __WEBPACK_IMPORTED_MODULE_3__lib_draw_rect__["a" /* Rect */](0, 0, img.width, img.height), new __WEBPACK_IMPORTED_MODULE_3__lib_draw_rect__["a" /* Rect */](-layer.width / 2, -layer.height / 2, layer.width, layer.height), __WEBPACK_IMPORTED_MODULE_1__lib_callback__["a" /* Callback */].from(function () {
                    graphics.restore();
                }));
                return graphics;
            });
            ++i;
        };
        while (i < workspace.layers.length) {
            _loop_1();
        }
        return promise;
    };
    CmdExportWorkspace.prototype.showPreview = function (uri) {
        var tempwindow = window.open("", __WEBPACK_IMPORTED_MODULE_0__lib_utility__["a" /* Utility */].guid());
        tempwindow.document.title = "ImageEditor-Preview";
        try {
            tempwindow.history.pushState("", "ImageEditor-Preview", "/preview");
        }
        catch (err) { }
        ;
        var img = new Image();
        img.src = uri;
        tempwindow.document.body.appendChild(img);
    };
    CmdExportWorkspace.prototype.downloadFile = function (uri, filenameExt) {
        var link = window.document.querySelector("#downloadlink");
        if (!link) {
            link = window.document.createElement("a");
            link.id = "downloadlink";
            link.hidden = true;
            window.document.body.appendChild(link);
        }
        link.href = uri;
        link.download = "imageeditor_" + this.formatDate(new Date(Date.now())) + (filenameExt ? filenameExt : "") + "." + this.fileExt();
        link.click();
    };
    CmdExportWorkspace.prototype.execute = function () {
        var _this = this;
        if (this.projectService.currentProject)
            if (this.projectService.currentProject.activeWorkspace) {
                var workspace = this.projectService.currentProject.activeWorkspace;
                if (workspace && workspace.hasLayer) {
                    if (this._format.mimetype.includes("jpg") || this._format.mimetype.includes("jpeg") || this._format.mimetype.includes("png")) {
                        var promisegraphics = this.createJpegOrPngImage();
                        promisegraphics.then(function (graphics) {
                            var uri = graphics.exportToURI(_this._format.mimetype);
                            if (_this._isPreview)
                                _this.showPreview(uri);
                            else
                                _this.downloadFile(uri);
                        });
                    }
                    if (this._format.mimetype.includes("ico")) {
                        var promisegraphics = this.createJpegOrPngImage();
                        promisegraphics.then(function (graphics) {
                            var image = graphics.getImage();
                            var whes = [16, 24, 32, 64, 128, 256];
                            whes.forEach(function (wh) {
                                var canvas = document.createElement('canvas');
                                canvas.width = wh;
                                canvas.height = wh;
                                var grp = new __WEBPACK_IMPORTED_MODULE_4__lib_graphics__["a" /* Graphics */](canvas, wh, wh, 1);
                                grp.drawImageRect(image, new __WEBPACK_IMPORTED_MODULE_3__lib_draw_rect__["a" /* Rect */](0, 0, image.width, image.height), new __WEBPACK_IMPORTED_MODULE_3__lib_draw_rect__["a" /* Rect */](0, 0, wh, wh));
                                var whimage = grp.getImage();
                                var buffer = __WEBPACK_IMPORTED_MODULE_5_icoimagejs__["encode"](wh, whimage.Pixels);
                                var base64 = btoa(buffer);
                                _this.downloadFile(window.URL.createObjectURL(new Blob([buffer])), "_" + wh);
                                grp.dispose();
                            });
                        }).catch(function (e) {
                            var err = new __WEBPACK_IMPORTED_MODULE_6__cmdShowError__["a" /* CmdShowError */](e.message);
                            err.executeAsync();
                        });
                    }
                }
            }
    };
    CmdExportWorkspace.prototype.base64ToArrayBuffer = function (base64) {
        var binaryString = window.atob(base64);
        var binaryLen = binaryString.length;
        var bytes = new Uint8Array(binaryLen);
        for (var i = 0; i < binaryLen; i++) {
            var ascii = binaryString.charCodeAt(i);
            bytes[i] = ascii;
        }
        return bytes;
    };
    CmdExportWorkspace.prototype.fileExt = function () {
        for (var i = 0; i < exts.length; ++i) {
            if (this._format.mimetype.includes(exts[i].mime))
                return exts[i].ext;
        }
        return "jpg";
    };
    CmdExportWorkspace.prototype.formatDate = function (date) {
        var hours = date.getHours();
        var minutes = date.getMinutes();
        var seconds = date.getSeconds();
        //let ampm = hours >= 12 ? 'pm' : 'am';
        //hours = hours % 12;
        //hours = hours ? hours : 12; // the hour '0' should be '12'
        var minutesstr = minutes < 10 ? '0' + minutes : minutes;
        var secondsstr = seconds < 10 ? '0' + seconds : seconds;
        var strTime = hours + ':' + minutesstr + ':' + secondsstr;
        return date.getFullYear() + "-" + (date.getMonth() + 1) + "-" + date.getDate() + "  " + strTime;
    };
    return CmdExportWorkspace;
}(__WEBPACK_IMPORTED_MODULE_2__commandBusy__["a" /* CommandBusy */]));



/***/ }),

/***/ "../../../../../src/app/commands/cmdFlipImage.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CmdFlipImage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__lib_imagealgorithm_imageAlgorithmFlip__ = __webpack_require__("../../../../../src/app/lib/imagealgorithm/imageAlgorithmFlip.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__lib_callback__ = __webpack_require__("../../../../../src/app/lib/callback.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__commandBusy__ = __webpack_require__("../../../../../src/app/commands/commandBusy.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__models_photoedit_layerImage__ = __webpack_require__("../../../../../src/app/models/photoedit/layerImage.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__models_photoedit_history_history__ = __webpack_require__("../../../../../src/app/models/photoedit/history/history.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();





var CmdFlipImage = /** @class */ (function (_super) {
    __extends(CmdFlipImage, _super);
    function CmdFlipImage(isHorizontal, projectService, appService) {
        var _this = _super.call(this, projectService, appService) || this;
        _this._isHorizontal = isHorizontal;
        _this.findedLayerIndex = -1;
        return _this;
    }
    CmdFlipImage.prototype.execute = function () {
        if (this.projectService.currentProject)
            if (this.projectService.currentProject.activeWorkspace) {
                var workspace_1 = this.projectService.currentProject.activeWorkspace;
                if (workspace_1 && workspace_1.hasLayer) {
                    if (this.findedLayerIndex < 0) {
                        this.findedLayerIndex = workspace_1.layers.findIndex(function (p) { return p.isSelected; });
                    }
                    if (this.findedLayerIndex >= 0) {
                        var selectedLayer = workspace_1.layers[this.findedLayerIndex];
                        var algorithm = new __WEBPACK_IMPORTED_MODULE_0__lib_imagealgorithm_imageAlgorithmFlip__["a" /* ImageAlgorithmFlip */](this._isHorizontal);
                        var img = algorithm.process(selectedLayer.getImage());
                        var newLayer = new __WEBPACK_IMPORTED_MODULE_3__models_photoedit_layerImage__["a" /* LayerImage */](img, selectedLayer.name, selectedLayer.uuid);
                        newLayer.marginLeft = selectedLayer.marginLeft;
                        newLayer.marginTop = selectedLayer.marginTop;
                        newLayer.rotateAngleDeg = selectedLayer.rotateAngleDeg;
                        var clonedSelected_1 = selectedLayer.clone();
                        var clonednewLayer_1 = newLayer.clone();
                        var history_1 = __WEBPACK_IMPORTED_MODULE_4__models_photoedit_history_history__["a" /* History */].create().setUndo(__WEBPACK_IMPORTED_MODULE_1__lib_callback__["a" /* Callback */].from(function () {
                            workspace_1.replaceHistoryLayer(clonedSelected_1.uuid, clonedSelected_1.clone());
                        }));
                        workspace_1.historyManager.add(history_1, __WEBPACK_IMPORTED_MODULE_1__lib_callback__["a" /* Callback */].from(function () {
                            workspace_1.replaceHistoryLayer(clonednewLayer_1.uuid, clonednewLayer_1.clone());
                        }));
                        workspace_1.replaceHistoryLayer(newLayer.uuid, newLayer);
                    }
                }
            }
    };
    return CmdFlipImage;
}(__WEBPACK_IMPORTED_MODULE_2__commandBusy__["b" /* CommandNotBusy */]));



/***/ }),

/***/ "../../../../../src/app/commands/cmdFlipWorkspace.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CmdFlipWorkspace; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__cmdFlipImage__ = __webpack_require__("../../../../../src/app/commands/cmdFlipImage.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var CmdFlipWorkspace = /** @class */ (function (_super) {
    __extends(CmdFlipWorkspace, _super);
    function CmdFlipWorkspace(isHorizontal, projectService, appService) {
        var _this = _super.call(this, isHorizontal, projectService, appService) || this;
        _this.findedLayerIndex = 0; //with this base class will not try to find selected layer, it will use this index
        return _this;
    }
    return CmdFlipWorkspace;
}(__WEBPACK_IMPORTED_MODULE_0__cmdFlipImage__["a" /* CmdFlipImage */]));



/***/ }),

/***/ "../../../../../src/app/commands/cmdLayerRemove.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CmdLayerRemove; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__lib_callback__ = __webpack_require__("../../../../../src/app/lib/callback.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__commandBusy__ = __webpack_require__("../../../../../src/app/commands/commandBusy.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__models_photoedit_history_history__ = __webpack_require__("../../../../../src/app/models/photoedit/history/history.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();



var CmdLayerRemove = /** @class */ (function (_super) {
    __extends(CmdLayerRemove, _super);
    function CmdLayerRemove(layer, projectService, appService) {
        var _this = _super.call(this, projectService, appService) || this;
        _this._layer = layer;
        return _this;
    }
    CmdLayerRemove.prototype.execute = function () {
        var _this = this;
        if (this.projectService.currentProject)
            if (this.projectService.currentProject.activeWorkspace) {
                var workspace_1 = this.projectService.currentProject.activeWorkspace;
                if (workspace_1 && workspace_1.hasLayer) {
                    var findedLayerIndex_1 = workspace_1.layers.findIndex(function (layer) { return layer.uuid == _this._layer.uuid; });
                    if (findedLayerIndex_1 >= 0) {
                        var cloned_1 = workspace_1.layers[findedLayerIndex_1].clone();
                        var history_1 = __WEBPACK_IMPORTED_MODULE_2__models_photoedit_history_history__["a" /* History */].create().setUndo(__WEBPACK_IMPORTED_MODULE_0__lib_callback__["a" /* Callback */].from(function () {
                            workspace_1.layers.splice(findedLayerIndex_1, 0, cloned_1.clone());
                        }));
                        workspace_1.historyManager.add(history_1, __WEBPACK_IMPORTED_MODULE_0__lib_callback__["a" /* Callback */].from(function () {
                            workspace_1.removeLayer2(cloned_1.uuid);
                        }));
                        workspace_1.removeLayer2(cloned_1.uuid);
                    }
                }
            }
    };
    return CmdLayerRemove;
}(__WEBPACK_IMPORTED_MODULE_1__commandBusy__["b" /* CommandNotBusy */]));



/***/ }),

/***/ "../../../../../src/app/commands/cmdNewLayer.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CmdNewLayer; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__lib_callback__ = __webpack_require__("../../../../../src/app/lib/callback.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__command__ = __webpack_require__("../../../../../src/app/commands/command.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__models_photoedit_layerEmpty__ = __webpack_require__("../../../../../src/app/models/photoedit/layerEmpty.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__models_photoedit_history_history__ = __webpack_require__("../../../../../src/app/models/photoedit/history/history.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();




var CmdNewLayer = /** @class */ (function (_super) {
    __extends(CmdNewLayer, _super);
    function CmdNewLayer(projectService) {
        var _this = _super.call(this) || this;
        _this.projectService = projectService;
        return _this;
    }
    CmdNewLayer.prototype.execute = function () {
        if (this.projectService.currentProject) {
            var workspace_1 = this.projectService.currentProject.activeWorkspace;
            if (workspace_1) {
                var layer = new __WEBPACK_IMPORTED_MODULE_2__models_photoedit_layerEmpty__["a" /* LayerEmpty */]('new layer', workspace_1.width, workspace_1.height);
                var layerCloned_1 = layer.clone();
                var history_1 = __WEBPACK_IMPORTED_MODULE_3__models_photoedit_history_history__["a" /* History */].create().setUndo(__WEBPACK_IMPORTED_MODULE_0__lib_callback__["a" /* Callback */].from(function () {
                    workspace_1.removeLayer2(layerCloned_1.uuid);
                }));
                workspace_1.historyManager.add(history_1, __WEBPACK_IMPORTED_MODULE_0__lib_callback__["a" /* Callback */].from(function () {
                    workspace_1.addLayer(layerCloned_1.clone());
                }));
                workspace_1.addLayer(layer);
            }
        }
    };
    return CmdNewLayer;
}(__WEBPACK_IMPORTED_MODULE_1__command__["a" /* Command */]));



/***/ }),

/***/ "../../../../../src/app/commands/cmdNewLayerFromSelection.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CmdNewLayerFromSelection; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__entities_alertItem__ = __webpack_require__("../../../../../src/app/entities/alertItem.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__lib_callback__ = __webpack_require__("../../../../../src/app/lib/callback.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__commandBusy__ = __webpack_require__("../../../../../src/app/commands/commandBusy.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__models_photoedit_layerImage__ = __webpack_require__("../../../../../src/app/models/photoedit/layerImage.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__lib_draw_rect__ = __webpack_require__("../../../../../src/app/lib/draw/rect.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__lib_imagealgorithm_imageAlgorithmCrop__ = __webpack_require__("../../../../../src/app/lib/imagealgorithm/imageAlgorithmCrop.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__lib_graphics__ = __webpack_require__("../../../../../src/app/lib/graphics.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__models_photoedit_history_history__ = __webpack_require__("../../../../../src/app/models/photoedit/history/history.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();








var CmdNewLayerFromSelection = /** @class */ (function (_super) {
    __extends(CmdNewLayerFromSelection, _super);
    function CmdNewLayerFromSelection(projectService, appService) {
        return _super.call(this, projectService, appService) || this;
    }
    CmdNewLayerFromSelection.prototype.execute = function () {
        var _this = this;
        if (this.projectService.currentProject) {
            var workspace_1 = this.projectService.currentProject.activeWorkspace;
            if (workspace_1 && workspace_1.layers.length > 0) {
                var indexOfSelected = workspace_1.layers.findIndex(function (item) { return item.isSelected; });
                if (indexOfSelected < 0)
                    indexOfSelected = 0;
                var selectedLayer_1 = workspace_1.layers[indexOfSelected];
                var selectionLayer = workspace_1.selectionLayer;
                if (!selectionLayer) {
                    this.appService.showAlert(new __WEBPACK_IMPORTED_MODULE_0__entities_alertItem__["a" /* AlertItem */]('warning', "There is no selected area"));
                    return;
                }
                var polygons = selectionLayer.polygons;
                polygons.forEach(function (poly) {
                    var rect = poly.bounds;
                    var translatedPoly = poly.translate(-rect.x, -rect.y);
                    var crop = new __WEBPACK_IMPORTED_MODULE_5__lib_imagealgorithm_imageAlgorithmCrop__["a" /* ImageAlgorithmCrop */](rect);
                    var cropedImage = crop.process(selectedLayer_1.getImage());
                    var canvas = document.createElement('canvas');
                    canvas.width = cropedImage.width;
                    canvas.height = cropedImage.height;
                    var graphics = new __WEBPACK_IMPORTED_MODULE_6__lib_graphics__["a" /* Graphics */](canvas, canvas.width, canvas.height, 1);
                    graphics.save();
                    graphics.drawPolygon(translatedPoly, false);
                    graphics.clip();
                    graphics.drawImageRect(cropedImage, new __WEBPACK_IMPORTED_MODULE_4__lib_draw_rect__["a" /* Rect */](0, 0, canvas.width, canvas.height), new __WEBPACK_IMPORTED_MODULE_4__lib_draw_rect__["a" /* Rect */](0, 0, canvas.width, canvas.height), __WEBPACK_IMPORTED_MODULE_1__lib_callback__["a" /* Callback */].from(function () {
                        //this is inside of 
                        graphics.restore();
                        var maskedImage = graphics.getImage();
                        graphics.dispose();
                        canvas = null;
                        var newLayer = new __WEBPACK_IMPORTED_MODULE_3__models_photoedit_layerImage__["a" /* LayerImage */](maskedImage, 'selection');
                        _this.history(workspace_1, newLayer.clone());
                        workspace_1.addLayer(newLayer);
                    }));
                });
            }
        }
    };
    CmdNewLayerFromSelection.prototype.history = function (workspace, layer) {
        var history = __WEBPACK_IMPORTED_MODULE_7__models_photoedit_history_history__["a" /* History */].create().setUndo(__WEBPACK_IMPORTED_MODULE_1__lib_callback__["a" /* Callback */].from(function () {
            workspace.removeLayer2(layer.uuid);
        }));
        workspace.historyManager.add(history, __WEBPACK_IMPORTED_MODULE_1__lib_callback__["a" /* Callback */].from(function () {
            workspace.addLayer(layer.clone());
        }));
    };
    return CmdNewLayerFromSelection;
}(__WEBPACK_IMPORTED_MODULE_2__commandBusy__["b" /* CommandNotBusy */]));



/***/ }),

/***/ "../../../../../src/app/commands/cmdPaste.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CmdPaste; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__lib_callback__ = __webpack_require__("../../../../../src/app/lib/callback.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__services_clipboard_service__ = __webpack_require__("../../../../../src/app/services/clipboard.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__models_photoedit_layerImage__ = __webpack_require__("../../../../../src/app/models/photoedit/layerImage.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__command__ = __webpack_require__("../../../../../src/app/commands/command.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__lib_imagealgorithm_imageAlgorithmClone__ = __webpack_require__("../../../../../src/app/lib/imagealgorithm/imageAlgorithmClone.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__models_photoedit_history_history__ = __webpack_require__("../../../../../src/app/models/photoedit/history/history.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();






var CmdPaste = /** @class */ (function (_super) {
    __extends(CmdPaste, _super);
    function CmdPaste(projectService, clipboardService) {
        var _this = _super.call(this) || this;
        _this._projectService = projectService;
        _this._clipboardService = clipboardService;
        return _this;
    }
    CmdPaste.prototype.execute = function () {
        if (this._projectService.currentProject) {
            var workspace = this._projectService.currentProject.activeWorkspace;
            if (workspace) {
                var boardData = this._clipboardService.data;
                if (boardData && boardData.type == __WEBPACK_IMPORTED_MODULE_1__services_clipboard_service__["a" /* ClipboardData */].Types.Image) {
                    var image = boardData.data;
                    var clone = new __WEBPACK_IMPORTED_MODULE_4__lib_imagealgorithm_imageAlgorithmClone__["a" /* ImageAlgorithmClone */]();
                    var cloned = clone.process(image);
                    var newLayer = new __WEBPACK_IMPORTED_MODULE_2__models_photoedit_layerImage__["a" /* LayerImage */](cloned, 'paste');
                    workspace.addLayer(newLayer);
                    this.history(workspace, newLayer.clone());
                }
                else {
                    //belkide clipboardservice te bir şey yok diye mesaj vermek lazım
                }
            }
        }
    };
    CmdPaste.prototype.history = function (workspace, layer) {
        var history = __WEBPACK_IMPORTED_MODULE_5__models_photoedit_history_history__["a" /* History */].create().setUndo(__WEBPACK_IMPORTED_MODULE_0__lib_callback__["a" /* Callback */].from(function () {
            workspace.removeLayer2(layer.uuid);
        }));
        workspace.historyManager.add(history, __WEBPACK_IMPORTED_MODULE_0__lib_callback__["a" /* Callback */].from(function () {
            workspace.addLayer(layer.clone());
        }));
    };
    return CmdPaste;
}(__WEBPACK_IMPORTED_MODULE_3__command__["a" /* Command */]));



/***/ }),

/***/ "../../../../../src/app/commands/cmdReadImageFromBufferorUrl.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CmdReadImageFromBufferorUrl; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__lib_callback__ = __webpack_require__("../../../../../src/app/lib/callback.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__models_photoedit_history_history__ = __webpack_require__("../../../../../src/app/models/photoedit/history/history.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__command__ = __webpack_require__("../../../../../src/app/commands/command.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__entities_message__ = __webpack_require__("../../../../../src/app/entities/message.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__lib_messageBus__ = __webpack_require__("../../../../../src/app/lib/messageBus.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__models_photoedit_workSpace__ = __webpack_require__("../../../../../src/app/models/photoedit/workSpace.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__models_photoedit_layerHtmlImage__ = __webpack_require__("../../../../../src/app/models/photoedit/layerHtmlImage.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();







var CmdReadImageFromBufferorUrl = /** @class */ (function (_super) {
    __extends(CmdReadImageFromBufferorUrl, _super);
    function CmdReadImageFromBufferorUrl(data, fileName, appService, projectService, createWorkspace) {
        if (createWorkspace === void 0) { createWorkspace = true; }
        var _this = _super.call(this) || this;
        _this._appService = appService;
        _this.createWorkspace = createWorkspace;
        _this.buffer = data;
        _this.projectService = projectService;
        _this.fileName = fileName;
        return _this;
    }
    CmdReadImageFromBufferorUrl.prototype.execute = function () {
        var _this = this;
        if (!this.buffer)
            return;
        var img = new Image();
        img.onload = function () {
            if (_this.createWorkspace) {
                var ws = new __WEBPACK_IMPORTED_MODULE_5__models_photoedit_workSpace__["a" /* Workspace */](img.width, img.height, _this._appService, _this.fileName);
                //let imageData=this.createImageData(img);
                var ly = new __WEBPACK_IMPORTED_MODULE_6__models_photoedit_layerHtmlImage__["a" /* LayerHtmlImage */](img, _this.fileName);
                //let ly=new LayerImage(new HImage(imageData.width,imageData.height,new Uint8ClampedArray(imageData.data)),this.fileName);
                ws.addLayer(ly);
                _this.history(ws, ly.clone());
                _this.projectService.currentProject.addWorkspace(ws);
            }
            else {
                if (_this.projectService.currentProject.activeWorkspace) {
                    //  let imageData=this.createImageData(img);
                    var ly = new __WEBPACK_IMPORTED_MODULE_6__models_photoedit_layerHtmlImage__["a" /* LayerHtmlImage */](img, _this.fileName);
                    //let ly=new LayerImage(new HImage(imageData.width,imageData.height,new Uint8ClampedArray(imageData.data)),this.fileName);
                    _this.projectService.currentProject.activeWorkspace.addLayer(ly);
                    _this.history(_this.projectService.currentProject.activeWorkspace, ly.clone());
                }
            }
        };
        img.onerror = function (error) {
            __WEBPACK_IMPORTED_MODULE_4__lib_messageBus__["a" /* MessageBus */].publish(__WEBPACK_IMPORTED_MODULE_3__entities_message__["a" /* Message */].ShowError, { msg: "Image could not load" });
        };
        img.src = this.buffer;
        /*
              let stream = new iskilip_memoryStream(this.buffer);
              let dec = new iskilip_bmpDecoder();
              //on event finished data
              dec.onEvent(iskilip_decoder.EVENT_ONFINISHED, new iskilip_callback((img) => {
        
                       let ws = new workspace(img.width(),img.height(),this.fileName);
                       let ly = new layerImage(img,'background');
                       ws.addLayer(ly);
                       this.projectService.currentProject.addWorkspace(ws);
        
        
        
        
        
                    }));
                    //on error
                    dec.onEvent(iskilip_decoder.EVENT_ONERROR, new iskilip_callback((err) => {
                       let cmd = new cmdShowError(err.msg);
                       cmd.executeAsync();
        
                    }));
        
        
                    //start from decoding
                    dec.decodeFromStreamAsync(stream);*/
    };
    CmdReadImageFromBufferorUrl.prototype.history = function (workspace, layer) {
        var history = __WEBPACK_IMPORTED_MODULE_1__models_photoedit_history_history__["a" /* History */].create().setUndo(__WEBPACK_IMPORTED_MODULE_0__lib_callback__["a" /* Callback */].from(function () {
            workspace.removeLayer2(layer.uuid);
        }));
        workspace.historyManager.add(history, __WEBPACK_IMPORTED_MODULE_0__lib_callback__["a" /* Callback */].from(function () {
            workspace.addLayer(layer.clone());
        }));
    };
    CmdReadImageFromBufferorUrl.prototype.createImageData = function (img) {
        var canvas = document.createElement('canvas');
        canvas.width = img.naturalWidth;
        canvas.height = img.naturalHeight;
        var context = canvas.getContext('2d');
        context.drawImage(img, 0, 0);
        return context.getImageData(0, 0, canvas.width, canvas.height);
    };
    return CmdReadImageFromBufferorUrl;
}(__WEBPACK_IMPORTED_MODULE_2__command__["a" /* Command */]));



/***/ }),

/***/ "../../../../../src/app/commands/cmdRedo.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CmdRedo; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__commandBusy__ = __webpack_require__("../../../../../src/app/commands/commandBusy.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var CmdRedo = /** @class */ (function (_super) {
    __extends(CmdRedo, _super);
    function CmdRedo(projectService, appService) {
        return _super.call(this, projectService, appService) || this;
    }
    CmdRedo.prototype.execute = function () {
        if (this.projectService.currentProject) {
            var workspace = this.projectService.currentProject.activeWorkspace;
            if (workspace) {
                workspace.historyManager.redo();
            }
        }
    };
    return CmdRedo;
}(__WEBPACK_IMPORTED_MODULE_0__commandBusy__["b" /* CommandNotBusy */]));



/***/ }),

/***/ "../../../../../src/app/commands/cmdResizeWorkspace.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CmdResizeWorkspace; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__command__ = __webpack_require__("../../../../../src/app/commands/command.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__lib_callback__ = __webpack_require__("../../../../../src/app/lib/callback.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__models_photoedit_history_history__ = __webpack_require__("../../../../../src/app/models/photoedit/history/history.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();



var CmdResizeWorkspace = /** @class */ (function (_super) {
    __extends(CmdResizeWorkspace, _super);
    function CmdResizeWorkspace(projectService, newWidth, newHeight) {
        var _this = _super.call(this) || this;
        _this.projectService = projectService;
        if (newWidth)
            _this.width = newWidth;
        else {
            if (_this.projectService.currentProject && _this.projectService.currentProject.activeWorkspace) {
                _this.width = _this.projectService.currentProject.activeWorkspace.width * 0.9;
            }
        }
        if (newHeight)
            _this.height = newHeight;
        else {
            if (_this.projectService.currentProject && _this.projectService.currentProject.activeWorkspace) {
                _this.height = _this.projectService.currentProject.activeWorkspace.height * 0.9;
            }
        }
        return _this;
    }
    CmdResizeWorkspace.prototype.execute = function () {
        if (this.projectService.currentProject) {
            var workspace = this.projectService.currentProject.activeWorkspace;
            if (workspace) {
                //let layer = new LayerEmpty('new layer', workspace.width, workspace.height);
                var beforeWH = { w: workspace.width, h: workspace.height };
                var afterWH = { w: this.width, h: this.height };
                workspace.resize(this.width, this.height, __WEBPACK_IMPORTED_MODULE_1__lib_callback__["a" /* Callback */].empty());
                this.history(workspace, beforeWH, afterWH);
            }
        }
    };
    CmdResizeWorkspace.prototype.history = function (workspace, before, after) {
        var history = __WEBPACK_IMPORTED_MODULE_2__models_photoedit_history_history__["a" /* History */].create().setUndo(__WEBPACK_IMPORTED_MODULE_1__lib_callback__["a" /* Callback */].from(function () {
            workspace.resize(before.w, before.h, __WEBPACK_IMPORTED_MODULE_1__lib_callback__["a" /* Callback */].empty());
        }));
        workspace.historyManager.add(history, __WEBPACK_IMPORTED_MODULE_1__lib_callback__["a" /* Callback */].from(function () {
            workspace.resize(after.w, after.h, __WEBPACK_IMPORTED_MODULE_1__lib_callback__["a" /* Callback */].empty());
        }));
    };
    return CmdResizeWorkspace;
}(__WEBPACK_IMPORTED_MODULE_0__command__["a" /* Command */]));



/***/ }),

/***/ "../../../../../src/app/commands/cmdRotateWorkspace.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CmdRotateWorkspace; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__lib_callback__ = __webpack_require__("../../../../../src/app/lib/callback.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__models_photoedit_history_history__ = __webpack_require__("../../../../../src/app/models/photoedit/history/history.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__commandBusy__ = __webpack_require__("../../../../../src/app/commands/commandBusy.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();



var CmdRotateWorkspace = /** @class */ (function (_super) {
    __extends(CmdRotateWorkspace, _super);
    function CmdRotateWorkspace(projectService, appService) {
        return _super.call(this, projectService, appService) || this;
    }
    CmdRotateWorkspace.prototype.execute = function () {
        if (this.projectService.currentProject)
            if (this.projectService.currentProject.activeWorkspace) {
                var workspace = this.projectService.currentProject.activeWorkspace;
                if (workspace) {
                    workspace.rotate90();
                    this.history(workspace);
                }
            }
    };
    CmdRotateWorkspace.prototype.history = function (workspace) {
        /** history part starts */
        var history = __WEBPACK_IMPORTED_MODULE_1__models_photoedit_history_history__["a" /* History */].create().setUndo(__WEBPACK_IMPORTED_MODULE_0__lib_callback__["a" /* Callback */].from(function () {
            workspace.rotate90();
            workspace.rotate90();
            workspace.rotate90();
        }));
        workspace.historyManager.add(history, __WEBPACK_IMPORTED_MODULE_0__lib_callback__["a" /* Callback */].from(function () {
            workspace.rotate90();
        }));
        /** history part ends */
    };
    return CmdRotateWorkspace;
}(__WEBPACK_IMPORTED_MODULE_2__commandBusy__["b" /* CommandNotBusy */]));



/***/ }),

/***/ "../../../../../src/app/commands/cmdShowAlert.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CmdShowAlert; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__command__ = __webpack_require__("../../../../../src/app/commands/command.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var CmdShowAlert = /** @class */ (function (_super) {
    __extends(CmdShowAlert, _super);
    function CmdShowAlert(alert, appService) {
        var _this = _super.call(this) || this;
        _this.alert = alert;
        _this.appService = appService;
        return _this;
    }
    CmdShowAlert.prototype.execute = function () {
        if (!this.alert)
            return;
        // debugger;
        this.appService.showAlert(this.alert);
    };
    return CmdShowAlert;
}(__WEBPACK_IMPORTED_MODULE_0__command__["a" /* Command */]));



/***/ }),

/***/ "../../../../../src/app/commands/cmdShowError.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CmdShowError; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__command__ = __webpack_require__("../../../../../src/app/commands/command.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__entities_message__ = __webpack_require__("../../../../../src/app/entities/message.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__lib_messageBus__ = __webpack_require__("../../../../../src/app/lib/messageBus.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();



var CmdShowError = /** @class */ (function (_super) {
    __extends(CmdShowError, _super);
    function CmdShowError(msg) {
        var _this = _super.call(this) || this;
        _this.msg = msg;
        return _this;
    }
    CmdShowError.prototype.execute = function () {
        if (!this.msg)
            return;
        __WEBPACK_IMPORTED_MODULE_2__lib_messageBus__["a" /* MessageBus */].publish(__WEBPACK_IMPORTED_MODULE_1__entities_message__["a" /* Message */].ShowError, { msg: this.msg });
    };
    return CmdShowError;
}(__WEBPACK_IMPORTED_MODULE_0__command__["a" /* Command */]));



/***/ }),

/***/ "../../../../../src/app/commands/cmdShowFormAbout.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CmdShowFormAbout; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__command__ = __webpack_require__("../../../../../src/app/commands/command.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__entities_message__ = __webpack_require__("../../../../../src/app/entities/message.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__lib_messageBus__ = __webpack_require__("../../../../../src/app/lib/messageBus.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();



var CmdShowFormAbout = /** @class */ (function (_super) {
    __extends(CmdShowFormAbout, _super);
    function CmdShowFormAbout() {
        return _super.call(this) || this;
    }
    CmdShowFormAbout.prototype.execute = function () {
        __WEBPACK_IMPORTED_MODULE_2__lib_messageBus__["a" /* MessageBus */].publish(__WEBPACK_IMPORTED_MODULE_1__entities_message__["a" /* Message */].ShowFormAbout, undefined);
    };
    return CmdShowFormAbout;
}(__WEBPACK_IMPORTED_MODULE_0__command__["a" /* Command */]));



/***/ }),

/***/ "../../../../../src/app/commands/cmdShowFormCartoon.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CmdShowFormCartoon; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__command__ = __webpack_require__("../../../../../src/app/commands/command.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__entities_message__ = __webpack_require__("../../../../../src/app/entities/message.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__lib_messageBus__ = __webpack_require__("../../../../../src/app/lib/messageBus.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();



var CmdShowFormCartoon = /** @class */ (function (_super) {
    __extends(CmdShowFormCartoon, _super);
    function CmdShowFormCartoon() {
        return _super.call(this) || this;
    }
    CmdShowFormCartoon.prototype.execute = function () {
        __WEBPACK_IMPORTED_MODULE_2__lib_messageBus__["a" /* MessageBus */].publish(__WEBPACK_IMPORTED_MODULE_1__entities_message__["a" /* Message */].ShowFormCartoon, undefined);
    };
    return CmdShowFormCartoon;
}(__WEBPACK_IMPORTED_MODULE_0__command__["a" /* Command */]));



/***/ }),

/***/ "../../../../../src/app/commands/cmdShowFormColorAdjustment.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CmdShowFormColorAdjustments; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__command__ = __webpack_require__("../../../../../src/app/commands/command.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__entities_message__ = __webpack_require__("../../../../../src/app/entities/message.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__lib_messageBus__ = __webpack_require__("../../../../../src/app/lib/messageBus.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();



var CmdShowFormColorAdjustments = /** @class */ (function (_super) {
    __extends(CmdShowFormColorAdjustments, _super);
    function CmdShowFormColorAdjustments() {
        return _super.call(this) || this;
    }
    CmdShowFormColorAdjustments.prototype.execute = function () {
        __WEBPACK_IMPORTED_MODULE_2__lib_messageBus__["a" /* MessageBus */].publish(__WEBPACK_IMPORTED_MODULE_1__entities_message__["a" /* Message */].ShowFormColorAdjustments, undefined);
    };
    return CmdShowFormColorAdjustments;
}(__WEBPACK_IMPORTED_MODULE_0__command__["a" /* Command */]));



/***/ }),

/***/ "../../../../../src/app/commands/cmdShowFormColorRemap.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CmdShowFormColorRemap; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__command__ = __webpack_require__("../../../../../src/app/commands/command.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__entities_message__ = __webpack_require__("../../../../../src/app/entities/message.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__lib_messageBus__ = __webpack_require__("../../../../../src/app/lib/messageBus.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();



var CmdShowFormColorRemap = /** @class */ (function (_super) {
    __extends(CmdShowFormColorRemap, _super);
    function CmdShowFormColorRemap() {
        return _super.call(this) || this;
    }
    CmdShowFormColorRemap.prototype.execute = function () {
        __WEBPACK_IMPORTED_MODULE_2__lib_messageBus__["a" /* MessageBus */].publish(__WEBPACK_IMPORTED_MODULE_1__entities_message__["a" /* Message */].ShowFormColorRemap, undefined);
    };
    return CmdShowFormColorRemap;
}(__WEBPACK_IMPORTED_MODULE_0__command__["a" /* Command */]));



/***/ }),

/***/ "../../../../../src/app/commands/cmdShowFormConvolution.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CmdShowFormConvolution; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__command__ = __webpack_require__("../../../../../src/app/commands/command.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__entities_message__ = __webpack_require__("../../../../../src/app/entities/message.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__lib_messageBus__ = __webpack_require__("../../../../../src/app/lib/messageBus.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();



var CmdShowFormConvolution = /** @class */ (function (_super) {
    __extends(CmdShowFormConvolution, _super);
    function CmdShowFormConvolution(nameOfForm, isBusy, convolutions) {
        var _this = _super.call(this) || this;
        _this._convolutions = convolutions;
        _this._isBusy = isBusy;
        _this._nameOfForm = nameOfForm;
        return _this;
    }
    CmdShowFormConvolution.prototype.execute = function () {
        __WEBPACK_IMPORTED_MODULE_2__lib_messageBus__["a" /* MessageBus */].publish(__WEBPACK_IMPORTED_MODULE_1__entities_message__["a" /* Message */].ShowFormConvolution, { convolutions: this._convolutions, name: this._nameOfForm, isBusy: this._isBusy });
    };
    return CmdShowFormConvolution;
}(__WEBPACK_IMPORTED_MODULE_0__command__["a" /* Command */]));



/***/ }),

/***/ "../../../../../src/app/commands/cmdShowFormEdgeGradient.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CmdShowFormEdgeGradient; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__command__ = __webpack_require__("../../../../../src/app/commands/command.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__entities_message__ = __webpack_require__("../../../../../src/app/entities/message.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__lib_messageBus__ = __webpack_require__("../../../../../src/app/lib/messageBus.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();



var CmdShowFormEdgeGradient = /** @class */ (function (_super) {
    __extends(CmdShowFormEdgeGradient, _super);
    function CmdShowFormEdgeGradient() {
        return _super.call(this) || this;
    }
    CmdShowFormEdgeGradient.prototype.execute = function () {
        __WEBPACK_IMPORTED_MODULE_2__lib_messageBus__["a" /* MessageBus */].publish(__WEBPACK_IMPORTED_MODULE_1__entities_message__["a" /* Message */].ShowFormEdgeGradient, undefined);
    };
    return CmdShowFormEdgeGradient;
}(__WEBPACK_IMPORTED_MODULE_0__command__["a" /* Command */]));



/***/ }),

/***/ "../../../../../src/app/commands/cmdShowFormErodeDilation.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CmdShowFormErodeDilation; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__command__ = __webpack_require__("../../../../../src/app/commands/command.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__entities_message__ = __webpack_require__("../../../../../src/app/entities/message.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__lib_messageBus__ = __webpack_require__("../../../../../src/app/lib/messageBus.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();



var CmdShowFormErodeDilation = /** @class */ (function (_super) {
    __extends(CmdShowFormErodeDilation, _super);
    function CmdShowFormErodeDilation() {
        return _super.call(this) || this;
    }
    CmdShowFormErodeDilation.prototype.execute = function () {
        __WEBPACK_IMPORTED_MODULE_2__lib_messageBus__["a" /* MessageBus */].publish(__WEBPACK_IMPORTED_MODULE_1__entities_message__["a" /* Message */].ShowFormErodeDilation, undefined);
    };
    return CmdShowFormErodeDilation;
}(__WEBPACK_IMPORTED_MODULE_0__command__["a" /* Command */]));



/***/ }),

/***/ "../../../../../src/app/commands/cmdShowFormFontLoad.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CmdShowFormFontLoad; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__command__ = __webpack_require__("../../../../../src/app/commands/command.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__entities_message__ = __webpack_require__("../../../../../src/app/entities/message.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__lib_messageBus__ = __webpack_require__("../../../../../src/app/lib/messageBus.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();



var CmdShowFormFontLoad = /** @class */ (function (_super) {
    __extends(CmdShowFormFontLoad, _super);
    function CmdShowFormFontLoad() {
        return _super.call(this) || this;
    }
    CmdShowFormFontLoad.prototype.execute = function () {
        __WEBPACK_IMPORTED_MODULE_2__lib_messageBus__["a" /* MessageBus */].publish(__WEBPACK_IMPORTED_MODULE_1__entities_message__["a" /* Message */].ShowFormFontLoad, undefined);
    };
    return CmdShowFormFontLoad;
}(__WEBPACK_IMPORTED_MODULE_0__command__["a" /* Command */]));



/***/ }),

/***/ "../../../../../src/app/commands/cmdShowFormGradient.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CmdShowFormGradient; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__command__ = __webpack_require__("../../../../../src/app/commands/command.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__entities_message__ = __webpack_require__("../../../../../src/app/entities/message.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__lib_messageBus__ = __webpack_require__("../../../../../src/app/lib/messageBus.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();



var CmdShowFormGradient = /** @class */ (function (_super) {
    __extends(CmdShowFormGradient, _super);
    function CmdShowFormGradient() {
        return _super.call(this) || this;
    }
    CmdShowFormGradient.prototype.execute = function () {
        __WEBPACK_IMPORTED_MODULE_2__lib_messageBus__["a" /* MessageBus */].publish(__WEBPACK_IMPORTED_MODULE_1__entities_message__["a" /* Message */].ShowFormGradient, undefined);
    };
    return CmdShowFormGradient;
}(__WEBPACK_IMPORTED_MODULE_0__command__["a" /* Command */]));



/***/ }),

/***/ "../../../../../src/app/commands/cmdShowFormGrayscale.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CmdShowFormGrayscale; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__command__ = __webpack_require__("../../../../../src/app/commands/command.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__entities_message__ = __webpack_require__("../../../../../src/app/entities/message.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__lib_messageBus__ = __webpack_require__("../../../../../src/app/lib/messageBus.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();



var CmdShowFormGrayscale = /** @class */ (function (_super) {
    __extends(CmdShowFormGrayscale, _super);
    function CmdShowFormGrayscale() {
        return _super.call(this) || this;
    }
    CmdShowFormGrayscale.prototype.execute = function () {
        __WEBPACK_IMPORTED_MODULE_2__lib_messageBus__["a" /* MessageBus */].publish(__WEBPACK_IMPORTED_MODULE_1__entities_message__["a" /* Message */].ShowFormGrayscale, undefined);
    };
    return CmdShowFormGrayscale;
}(__WEBPACK_IMPORTED_MODULE_0__command__["a" /* Command */]));



/***/ }),

/***/ "../../../../../src/app/commands/cmdShowFormLayerProperties.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CmdShowFormLayerProperties; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__command__ = __webpack_require__("../../../../../src/app/commands/command.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__entities_message__ = __webpack_require__("../../../../../src/app/entities/message.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__lib_messageBus__ = __webpack_require__("../../../../../src/app/lib/messageBus.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();



var CmdShowFormLayerProperties = /** @class */ (function (_super) {
    __extends(CmdShowFormLayerProperties, _super);
    function CmdShowFormLayerProperties() {
        return _super.call(this) || this;
    }
    CmdShowFormLayerProperties.prototype.execute = function () {
        __WEBPACK_IMPORTED_MODULE_2__lib_messageBus__["a" /* MessageBus */].publish(__WEBPACK_IMPORTED_MODULE_1__entities_message__["a" /* Message */].ShowFormLayerProperties, undefined);
    };
    return CmdShowFormLayerProperties;
}(__WEBPACK_IMPORTED_MODULE_0__command__["a" /* Command */]));



/***/ }),

/***/ "../../../../../src/app/commands/cmdShowFormNewImage.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CmdShowFormNewImage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__command__ = __webpack_require__("../../../../../src/app/commands/command.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__entities_message__ = __webpack_require__("../../../../../src/app/entities/message.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__lib_messageBus__ = __webpack_require__("../../../../../src/app/lib/messageBus.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();



var CmdShowFormNewImage = /** @class */ (function (_super) {
    __extends(CmdShowFormNewImage, _super);
    function CmdShowFormNewImage() {
        return _super.call(this) || this;
    }
    CmdShowFormNewImage.prototype.execute = function () {
        __WEBPACK_IMPORTED_MODULE_2__lib_messageBus__["a" /* MessageBus */].publish(__WEBPACK_IMPORTED_MODULE_1__entities_message__["a" /* Message */].ShowFormNewImage, undefined);
    };
    return CmdShowFormNewImage;
}(__WEBPACK_IMPORTED_MODULE_0__command__["a" /* Command */]));



/***/ }),

/***/ "../../../../../src/app/commands/cmdShowFormOilPainting.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CmdShowFormOilPainting; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__command__ = __webpack_require__("../../../../../src/app/commands/command.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__entities_message__ = __webpack_require__("../../../../../src/app/entities/message.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__lib_messageBus__ = __webpack_require__("../../../../../src/app/lib/messageBus.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();



var CmdShowFormOilPainting = /** @class */ (function (_super) {
    __extends(CmdShowFormOilPainting, _super);
    function CmdShowFormOilPainting() {
        return _super.call(this) || this;
    }
    CmdShowFormOilPainting.prototype.execute = function () {
        __WEBPACK_IMPORTED_MODULE_2__lib_messageBus__["a" /* MessageBus */].publish(__WEBPACK_IMPORTED_MODULE_1__entities_message__["a" /* Message */].ShowFormOilPainting, undefined);
    };
    return CmdShowFormOilPainting;
}(__WEBPACK_IMPORTED_MODULE_0__command__["a" /* Command */]));



/***/ }),

/***/ "../../../../../src/app/commands/cmdShowFormResize.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CmdShowFormResize; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__command__ = __webpack_require__("../../../../../src/app/commands/command.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__entities_message__ = __webpack_require__("../../../../../src/app/entities/message.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__lib_messageBus__ = __webpack_require__("../../../../../src/app/lib/messageBus.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();



var CmdShowFormResize = /** @class */ (function (_super) {
    __extends(CmdShowFormResize, _super);
    function CmdShowFormResize() {
        return _super.call(this) || this;
    }
    CmdShowFormResize.prototype.execute = function () {
        __WEBPACK_IMPORTED_MODULE_2__lib_messageBus__["a" /* MessageBus */].publish(__WEBPACK_IMPORTED_MODULE_1__entities_message__["a" /* Message */].ShowFormResize, undefined);
    };
    return CmdShowFormResize;
}(__WEBPACK_IMPORTED_MODULE_0__command__["a" /* Command */]));



/***/ }),

/***/ "../../../../../src/app/commands/cmdShowFormSampleImages.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CmdShowFormSampleImages; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__command__ = __webpack_require__("../../../../../src/app/commands/command.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__entities_message__ = __webpack_require__("../../../../../src/app/entities/message.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__lib_messageBus__ = __webpack_require__("../../../../../src/app/lib/messageBus.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();



var CmdShowFormSampleImages = /** @class */ (function (_super) {
    __extends(CmdShowFormSampleImages, _super);
    function CmdShowFormSampleImages(openAsWorkspace) {
        var _this = _super.call(this) || this;
        _this._openAsWorkspace = openAsWorkspace;
        return _this;
    }
    CmdShowFormSampleImages.prototype.execute = function () {
        __WEBPACK_IMPORTED_MODULE_2__lib_messageBus__["a" /* MessageBus */].publish(__WEBPACK_IMPORTED_MODULE_1__entities_message__["a" /* Message */].ShowFormSampleImages, this._openAsWorkspace);
    };
    return CmdShowFormSampleImages;
}(__WEBPACK_IMPORTED_MODULE_0__command__["a" /* Command */]));



/***/ }),

/***/ "../../../../../src/app/commands/cmdShowFormShortcuts.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CmdShowFormShortcuts; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__command__ = __webpack_require__("../../../../../src/app/commands/command.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__entities_message__ = __webpack_require__("../../../../../src/app/entities/message.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__lib_messageBus__ = __webpack_require__("../../../../../src/app/lib/messageBus.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();



var CmdShowFormShortcuts = /** @class */ (function (_super) {
    __extends(CmdShowFormShortcuts, _super);
    function CmdShowFormShortcuts() {
        return _super.call(this) || this;
    }
    CmdShowFormShortcuts.prototype.execute = function () {
        __WEBPACK_IMPORTED_MODULE_2__lib_messageBus__["a" /* MessageBus */].publish(__WEBPACK_IMPORTED_MODULE_1__entities_message__["a" /* Message */].ShowFormShortcuts, undefined);
    };
    return CmdShowFormShortcuts;
}(__WEBPACK_IMPORTED_MODULE_0__command__["a" /* Command */]));



/***/ }),

/***/ "../../../../../src/app/commands/cmdUndo.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CmdUndo; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__commandBusy__ = __webpack_require__("../../../../../src/app/commands/commandBusy.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var CmdUndo = /** @class */ (function (_super) {
    __extends(CmdUndo, _super);
    function CmdUndo(projectService, appService) {
        return _super.call(this, projectService, appService) || this;
    }
    CmdUndo.prototype.execute = function () {
        if (this.projectService.currentProject) {
            var workspace = this.projectService.currentProject.activeWorkspace;
            if (workspace) {
                workspace.historyManager.undo();
            }
        }
    };
    return CmdUndo;
}(__WEBPACK_IMPORTED_MODULE_0__commandBusy__["b" /* CommandNotBusy */]));



/***/ }),

/***/ "../../../../../src/app/commands/cmdZoom.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CmdZoom; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__command__ = __webpack_require__("../../../../../src/app/commands/command.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var CmdZoom = /** @class */ (function (_super) {
    __extends(CmdZoom, _super);
    function CmdZoom(zoomType, projectService) {
        var _this = _super.call(this) || this;
        _this.zoomType = zoomType;
        _this.projectService = projectService;
        return _this;
    }
    CmdZoom.prototype.execute = function () {
        switch (this.zoomType) {
            case CmdZoom.In:
                if (this.projectService && this.projectService.currentProject && this.projectService.currentProject.activeWorkspace)
                    this.projectService.currentProject.activeWorkspace.zoomIn();
                break;
            case CmdZoom.Out:
                if (this.projectService && this.projectService.currentProject && this.projectService.currentProject.activeWorkspace)
                    this.projectService.currentProject.activeWorkspace.zoomOut();
                break;
        }
    };
    CmdZoom.In = 1;
    CmdZoom.Out = 2;
    return CmdZoom;
}(__WEBPACK_IMPORTED_MODULE_0__command__["a" /* Command */]));



/***/ }),

/***/ "../../../../../src/app/commands/command.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Command; });
var Command = /** @class */ (function () {
    function Command() {
    }
    Command.prototype.executeAsync = function () {
        var _this = this;
        var promise = new Promise(function (resolve, reject) {
            _this.execute();
            resolve();
        });
    };
    return Command;
}());



/***/ }),

/***/ "../../../../../src/app/commands/commandBusy.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return CommandNotBusy; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CommandBusy; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__lib_callback__ = __webpack_require__("../../../../../src/app/lib/callback.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__command__ = __webpack_require__("../../../../../src/app/commands/command.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();


var CommandNotBusy = /** @class */ (function (_super) {
    __extends(CommandNotBusy, _super);
    function CommandNotBusy(projectService, appService) {
        var _this = _super.call(this) || this;
        _this.projectService = projectService;
        _this.appService = appService;
        return _this;
    }
    CommandNotBusy.prototype.executeAsync = function () {
        var _this = this;
        var promise = new Promise(function (resolve, reject) {
            try {
                _this.execute();
                resolve();
            }
            catch (e) {
                reject(e);
            }
            ;
        });
        promise.catch(function (e) {
            console.log(e);
        });
    };
    return CommandNotBusy;
}(__WEBPACK_IMPORTED_MODULE_1__command__["a" /* Command */]));

var CommandBusy = /** @class */ (function (_super) {
    __extends(CommandBusy, _super);
    function CommandBusy(projectService, appService) {
        var _this = _super.call(this) || this;
        _this.projectService = projectService;
        _this.appService = appService;
        return _this;
    }
    CommandBusy.prototype.executeAsync = function () {
        var _this = this;
        this.appService.doBusyCallback(__WEBPACK_IMPORTED_MODULE_0__lib_callback__["a" /* Callback */].from(function () { return _this.execute(); }));
    };
    return CommandBusy;
}(__WEBPACK_IMPORTED_MODULE_1__command__["a" /* Command */]));



/***/ }),

/***/ "../../../../../src/app/components/alert/alert.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"photoeditalert\">\n    <div *ngFor=\"let alert of alerts\">\n        <alert class=\"customalert\" [type]=\"alert.type\" [dismissible]=\"false\" [dismissOnTimeout]=\"alert.timeout\" (onClosed)=\"alert.onClosed($event)\" >{{ alert.msg }}</alert>\n     </div>\n</div>\n"

/***/ }),

/***/ "../../../../../src/app/components/alert/alert.component.scss":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, ".photoeditalert {\n  position: relative;\n  display: block;\n  float: left;\n  /* height: 1rem; */\n  max-height: 1rem;\n  font-size: small; }\n", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/components/alert/alert.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AlertComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__services_app_service__ = __webpack_require__("../../../../../src/app/services/app.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var AlertComponent = /** @class */ (function () {
    function AlertComponent(appService) {
        this.appService = appService;
    }
    AlertComponent.prototype.ngOnInit = function () {
    };
    Object.defineProperty(AlertComponent.prototype, "alerts", {
        get: function () {
            return this.appService.alerts;
        },
        enumerable: true,
        configurable: true
    });
    AlertComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_1__angular_core__["Component"])({
            selector: 'alert-component',
            template: __webpack_require__("../../../../../src/app/components/alert/alert.component.html"),
            styles: [__webpack_require__("../../../../../src/app/components/alert/alert.component.scss")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_0__services_app_service__["a" /* AppService */]])
    ], AlertComponent);
    return AlertComponent;
}());



/***/ }),

/***/ "../../../../../src/app/components/busy/busy.component.html":
/***/ (function(module, exports) {

module.exports = "<div [cgBusy]=\"loading\" >\n    \n</div>"

/***/ }),

/***/ "../../../../../src/app/components/busy/busy.component.scss":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/components/busy/busy.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return BusyComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__services_app_service__ = __webpack_require__("../../../../../src/app/services/app.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_angular_busy2__ = __webpack_require__("../../../../angular-busy2/dist/index.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_angular_busy2___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_angular_busy2__);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var BusyComponent = /** @class */ (function () {
    function BusyComponent(busyDefaults, appService) {
        this.busyDefaults = busyDefaults;
        this.busyDefaults.backdrop = true;
        this.busyDefaults.message = "Busy";
        this.appService = appService;
    }
    BusyComponent.prototype.ngOnInit = function () {
    };
    Object.defineProperty(BusyComponent.prototype, "loading", {
        get: function () {
            return this.appService.busy;
        },
        enumerable: true,
        configurable: true
    });
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])('customTemplate'),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["TemplateRef"])
    ], BusyComponent.prototype, "customTemplateTpl", void 0);
    BusyComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'busy-component',
            template: __webpack_require__("../../../../../src/app/components/busy/busy.component.html"),
            styles: [__webpack_require__("../../../../../src/app/components/busy/busy.component.scss")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2_angular_busy2__["CgBusyDefaults"], __WEBPACK_IMPORTED_MODULE_1__services_app_service__["a" /* AppService */]])
    ], BusyComponent);
    return BusyComponent;
}());



/***/ }),

/***/ "../../../../../src/app/components/crop-properties/crop-properties.component.html":
/***/ (function(module, exports) {

module.exports = "<div *ngIf=\"isVisible\" class=\"cropProperties\"\n[style.margin-left.px]=\"marginLeft\"\n[style.margin-top.px]=\"marginTop\" >\n    \n     \n         \n           \n            <div class=\"container\">\n              <div class=\"row\">\n              <label class=\"btn btn-primary buttonpadding mouseoverhand btn-sm \" (click)=\"cropOk()\" tooltip=\"crop selected layer or image\"\n                placement=\"right\">\n              <i class=\"fa fa-check \"  aria-hidden=\"true\" ></i>\n              \n          </label>\n              </div>\n            <div class=\"row\">\n    \n              <label class=\"btn btn-primary  buttonpadding mouseoverhand btn-sm\" (click)=\"cropCancel()\" tooltip=\"cancel crop\" placement=\"right\">\n              <i class=\"fa fa-times\"  aria-hidden=\"true\" ></i>\n          </label>\n            </div>\n            </div>\n       \n</div>\n"

/***/ }),

/***/ "../../../../../src/app/components/crop-properties/crop-properties.component.scss":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, ".cropProperties {\n  width: 50px;\n  height: 100px;\n  position: fixed;\n  z-index: 3000; }\n", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/components/crop-properties/crop-properties.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CropPropertiesComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__models_photoedit_workSpace__ = __webpack_require__("../../../../../src/app/models/photoedit/workSpace.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__models_photoedit_layerCropRectangle__ = __webpack_require__("../../../../../src/app/models/photoedit/layerCropRectangle.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__commands_cmdCrop__ = __webpack_require__("../../../../../src/app/commands/cmdCrop.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services_project_service__ = __webpack_require__("../../../../../src/app/services/project.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_app_service__ = __webpack_require__("../../../../../src/app/services/app.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var CropPropertiesComponent = /** @class */ (function () {
    function CropPropertiesComponent(projectService, appService) {
        this._appService = appService;
        this._projectService = projectService;
    }
    CropPropertiesComponent.prototype.ngOnInit = function () {
    };
    Object.defineProperty(CropPropertiesComponent.prototype, "marginLeft", {
        get: function () {
            var layer = this.workspace.workLayer;
            return (layer.marginLeft + layer.width) * this.workspace.scale - this.workspace.scrollLeft;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(CropPropertiesComponent.prototype, "marginTop", {
        get: function () {
            var layer = this.workspace.workLayer;
            return (layer.marginTop) * this.workspace.scale - this.workspace.scrollTop;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(CropPropertiesComponent.prototype, "isVisible", {
        get: function () {
            if (this.workspace)
                if (this.workspace.workLayer)
                    if (this.workspace.workLayer instanceof __WEBPACK_IMPORTED_MODULE_2__models_photoedit_layerCropRectangle__["a" /* LayerCropRectangle */])
                        return true;
            return false;
        },
        enumerable: true,
        configurable: true
    });
    CropPropertiesComponent.prototype.cropOk = function () {
        var cmd = new __WEBPACK_IMPORTED_MODULE_3__commands_cmdCrop__["a" /* CmdCrop */](this._projectService, this._appService);
        cmd.executeAsync();
    };
    CropPropertiesComponent.prototype.cropCancel = function () {
        this.workspace.removeWorkLayer();
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1__models_photoedit_workSpace__["a" /* Workspace */])
    ], CropPropertiesComponent.prototype, "workspace", void 0);
    CropPropertiesComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'crop-properties-component',
            template: __webpack_require__("../../../../../src/app/components/crop-properties/crop-properties.component.html"),
            styles: [__webpack_require__("../../../../../src/app/components/crop-properties/crop-properties.component.scss")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_4__services_project_service__["a" /* ProjectService */], __WEBPACK_IMPORTED_MODULE_5__services_app_service__["a" /* AppService */]])
    ], CropPropertiesComponent);
    return CropPropertiesComponent;
}());



/***/ }),

/***/ "../../../../../src/app/components/form-about/form-about.component.html":
/***/ (function(module, exports) {

module.exports = "\n  <div bsModal #smModal=\"bs-modal\" class=\"modal \" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"mySmallModalLabel\" aria-hidden=\"true\">\n    <div class=\"modal-dialog modal-sm\" style=\"height:230px;color:black\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header \">\n          <h6 class=\"modal-title pull-left\">About</h6>\n          <button type=\"button\" class=\"close pull-right\" aria-label=\"Close\" (click)=\"smModal.hide()\">\n          <span aria-hidden=\"true\">&times;</span>\n          </button>\n\n        </div>\n        \n        <div class=\"modal-body \" >\n         \n            <div class=\"container-fluid\">\n              \n            \n              <div class=\"row\" *ngFor=\"let item of items\">\n                <div class=\"col-4\">\n                  <label class=\"col-form-label\">{{item.name}}<span>:</span></label>\n                </div>\n                <div class=\"col-8\">\n                  \n                  <label *ngIf=\"!item.src\" class=\"col-form-label\">{{item.detail}}</label>\n                  <label *ngIf=\"item.src\" class=\"col-form-label\" ><a href=\"{{item.src}}\" target='_blank'>{{item.detail}}</a></label>\n                                  \n                  \n                </div>\n\n              </div>\n            \n\n           \n\n            </div>\n\n          \n        </div>\n      </div>\n    </div>\n  </div>\n\n"

/***/ }),

/***/ "../../../../../src/app/components/form-about/form-about.component.scss":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/components/form-about/form-about.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FormAboutComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__lib_messageBus__ = __webpack_require__("../../../../../src/app/lib/messageBus.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ngx_bootstrap_modal__ = __webpack_require__("../../../../ngx-bootstrap/modal/index.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__lib_callback__ = __webpack_require__("../../../../../src/app/lib/callback.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__entities_message__ = __webpack_require__("../../../../../src/app/entities/message.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var FormAboutComponent = /** @class */ (function () {
    function FormAboutComponent() {
        var _this = this;
        this.callFunc = __WEBPACK_IMPORTED_MODULE_2__lib_callback__["a" /* Callback */].from(function () { _this.show(); });
        this._items = [];
        this._items.push({ name: 'version', detail: '1.0.0' });
        this._items.push({ name: 'producer', detail: 'Hamza Kılıç', src: 'http://www.hamzakilic.com' });
        //this._items.push({name:'licence',detail:'MIT Licence',src:'https://opensource.org/licenses/MIT'});
        //this._items.push({name:'source',detail:'source code',src:'https://github.com/hamzakilic/wjimg'});
    }
    FormAboutComponent.prototype.ngOnInit = function () {
        __WEBPACK_IMPORTED_MODULE_0__lib_messageBus__["a" /* MessageBus */].subscribe(__WEBPACK_IMPORTED_MODULE_4__entities_message__["a" /* Message */].ShowFormAbout, this.callFunc);
    };
    FormAboutComponent.prototype.ngOnDestroy = function () {
        __WEBPACK_IMPORTED_MODULE_0__lib_messageBus__["a" /* MessageBus */].unsubscribe(__WEBPACK_IMPORTED_MODULE_4__entities_message__["a" /* Message */].ShowFormAbout, this.callFunc);
    };
    Object.defineProperty(FormAboutComponent.prototype, "items", {
        get: function () {
            return this._items;
        },
        enumerable: true,
        configurable: true
    });
    FormAboutComponent.prototype.show = function () {
        if (!this.smModal.isShown) {
            this.smModal.show();
        }
    };
    FormAboutComponent.prototype.open = function (url) {
        //  debugger;
        window.open(url, '_blank');
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_3__angular_core__["ViewChild"])("smModal"),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1_ngx_bootstrap_modal__["a" /* ModalDirective */])
    ], FormAboutComponent.prototype, "smModal", void 0);
    FormAboutComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_3__angular_core__["Component"])({
            selector: 'form-about',
            template: __webpack_require__("../../../../../src/app/components/form-about/form-about.component.html"),
            styles: [__webpack_require__("../../../../../src/app/components/form-about/form-about.component.scss")]
        }),
        __metadata("design:paramtypes", [])
    ], FormAboutComponent);
    return FormAboutComponent;
}());



/***/ }),

/***/ "../../../../../src/app/components/form-cartoon/form-cartoon.component.html":
/***/ (function(module, exports) {

module.exports = "<div bsModal #smModal=\"bs-modal\" class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"mySmallModalLabel\" aria-hidden=\"true\">\n  <div class=\"modal-dialog\" style=\"overflow-y: initial !important\">\n    <div ngDraggable [handle]=\"modalHeader\" class=\"modal-content\" style=\"width:700px\">\n      <div #modalHeader class=\"modal-header unselectableText\">\n        <h6 class=\"modal-title pull-left\">Cartoon</h6>\n        <button type=\"button\" class=\"close pull-right\" aria-label=\"Close\" (click)=\"smModal.hide()\">\n          <span aria-hidden=\"true\">&times;</span>\n        </button>\n      </div>\n      <div class=\"modal-body unselectableText\" style=\"height:530px;overflow:hidden;color:black\">\n        <div class=\"container \">\n          <div class=\"row\">\n            <div class=\"col-md-7  imagecolumn\" #surfaceContainer>\n              <layer-component [surface]=\"layer\"></layer-component>\n            </div>\n\n            <div class=\"col-md-5  effectscolumn\" style=\"height: 460px;overflow-y: auto\">\n              <div class=\"container-fluid\">\n\n                <div class=\"row\">\n                  <div class=\"col-md-5\">\n                    <label style=\"color:#f5f5f5;\" for=\"inlineFormCustomSelect\">Smooth</label>\n                  </div>\n                  <div class=\"col-md-7\">\n                    <select class=\"custom-select mb-2 mr-sm-2 mb-sm-0 combobox\" id=\"inlineFormCustomSelect\" (change)=\"smoothFilterChanged($event)\">\n                      <option value=\"0\">None</option>                      \n                      <option value=\"1\">Gaussian3x3</option>                      \n                      <option value=\"2\">Gaussian5x5</option>                                            \n                      <option value=\"3\">Median3x3</option>\n                      <option value=\"4\">Median5x5</option>\n                      <option value=\"5\">Mean3x3</option>\n                      <option value=\"6\">Mean5x5</option>\n                      <option value=\"7\">Lowpass3x3</option>\n                      <option value=\"8\">Lowpass5x5</option>\n                      <option value=\"9\">Sharpen3x3</option>\n                    </select>\n                  </div>\n                </div>\n\n                <div class=\"row\">\n                    <div class=\"col-md-5\">\n                      <label class=\"mr-sm-2\" style=\"color:#f5f5f5;\" for=\"inlineFormCustomSelect\">Levels</label>\n                    </div>\n                    <div class=\"col-md-7\">\n                      <input type=\"range\" min=\"3\" max=\"200\" step=\"1\" (change)=\"thresholdChanged($event)\" >\n                    </div>\n                  </div>\n                 \n\n              </div>\n            </div>\n\n\n\n          </div>\n          <div class=\"row\">\n            <div class=\"col-md-9\">\n            </div>\n            <div class=\"col-md-3\">\n              <label class=\"btn btn-primary btn-sm pull-right mt-2\" role=\"button\" (click)=\"close($event)\">\n                Apply\n              </label>\n            </div>\n          </div>\n\n\n\n        </div>\n      </div>\n    </div>\n  </div>\n</div>"

/***/ }),

/***/ "../../../../../src/app/components/form-cartoon/form-cartoon.component.scss":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/components/form-cartoon/form-cartoon.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FormCartoonComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__lib_imagealgorithm_convolution_imageAlgorithmSharpen__ = __webpack_require__("../../../../../src/app/lib/imagealgorithm/convolution/imageAlgorithmSharpen.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__lib_imagealgorithm_convolution_imageAlgorithmLowpass__ = __webpack_require__("../../../../../src/app/lib/imagealgorithm/convolution/imageAlgorithmLowpass.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__lib_imagealgorithm_convolution_imageAlgorithmMean__ = __webpack_require__("../../../../../src/app/lib/imagealgorithm/convolution/imageAlgorithmMean.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__lib_imagealgorithm_convolution_imageAlgorithmMedian__ = __webpack_require__("../../../../../src/app/lib/imagealgorithm/convolution/imageAlgorithmMedian.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__lib_imagealgorithm_convolution_imageAlgorithmBlur__ = __webpack_require__("../../../../../src/app/lib/imagealgorithm/convolution/imageAlgorithmBlur.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__lib_imagealgorithm_imageAlgorithmEdgeDetectionGradient__ = __webpack_require__("../../../../../src/app/lib/imagealgorithm/imageAlgorithmEdgeDetectionGradient.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__lib_messageBus__ = __webpack_require__("../../../../../src/app/lib/messageBus.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__entities_message__ = __webpack_require__("../../../../../src/app/entities/message.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__lib_callback__ = __webpack_require__("../../../../../src/app/lib/callback.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__services_app_service__ = __webpack_require__("../../../../../src/app/services/app.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__services_project_service__ = __webpack_require__("../../../../../src/app/services/project.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12_ngx_bootstrap_modal__ = __webpack_require__("../../../../ngx-bootstrap/modal/index.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__models_photoedit_layerImageEffect__ = __webpack_require__("../../../../../src/app/models/photoedit/layerImageEffect.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__lib_image__ = __webpack_require__("../../../../../src/app/lib/image.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__commands_cmdExecuteImageAlgorithms__ = __webpack_require__("../../../../../src/app/commands/cmdExecuteImageAlgorithms.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__lib_imagealgorithm_convolution_imageAlgorithmBlur__ = __webpack_require__("../../../../../src/app/lib/imagealgorithm/convolution/imageAlgorithmBlur.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17__lib_imagealgorithm_convolution_imageAlgorithmMedian__ = __webpack_require__("../../../../../src/app/lib/imagealgorithm/convolution/imageAlgorithmMedian.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


















var FormCartoonComponent = /** @class */ (function () {
    function FormCartoonComponent(projectService, appService) {
        var _this = this;
        this._initialized = false;
        this.smothalgorithm = 0;
        this.threshold = 0;
        this.submitted = false;
        this.callFunc = __WEBPACK_IMPORTED_MODULE_9__lib_callback__["a" /* Callback */].from(function () { _this.show(); });
        this._projectService = projectService;
        this._appService = appService;
        var layer = new __WEBPACK_IMPORTED_MODULE_13__models_photoedit_layerImageEffect__["a" /* LayerImageEffect */](new __WEBPACK_IMPORTED_MODULE_14__lib_image__["a" /* HImage */](320, 240));
        layer.whenCreatedGraphicsAgain = __WEBPACK_IMPORTED_MODULE_9__lib_callback__["a" /* Callback */].from(function () { layer.render(); });
        layer.resizedAgain = false;
        this._emptyEffectLayer = layer;
        this.effectLayer = this._emptyEffectLayer;
    }
    FormCartoonComponent.prototype.ngOnInit = function () {
        __WEBPACK_IMPORTED_MODULE_7__lib_messageBus__["a" /* MessageBus */].subscribe(__WEBPACK_IMPORTED_MODULE_8__entities_message__["a" /* Message */].ShowFormCartoon, this.callFunc);
    };
    FormCartoonComponent.prototype.ngOnDestroy = function () {
        __WEBPACK_IMPORTED_MODULE_7__lib_messageBus__["a" /* MessageBus */].unsubscribe(__WEBPACK_IMPORTED_MODULE_8__entities_message__["a" /* Message */].ShowFormCartoon, this.callFunc);
    };
    FormCartoonComponent.prototype.onSubmit = function () {
        this.submitted = true;
    };
    FormCartoonComponent.prototype.ngAfterContentInit = function () {
    };
    FormCartoonComponent.prototype.show = function () {
        if (!this.smModal.isShown) {
            this.smModal.show();
            this.effectLayer = this._emptyEffectLayer;
            if (this._projectService.currentProject)
                if (this._projectService.currentProject.activeWorkspace && this._projectService.currentProject.activeWorkspace.layers.length > 0) {
                    var selectedLayer = this._projectService.currentProject.activeWorkspace.layers.find(function (p) { return p.isSelected; });
                    if (!selectedLayer) {
                        selectedLayer = this._projectService.currentProject.activeWorkspace.layers[0];
                    }
                    var layer_1 = new __WEBPACK_IMPORTED_MODULE_13__models_photoedit_layerImageEffect__["a" /* LayerImageEffect */](selectedLayer.getImage());
                    var rect = { width: 360, height: 320 };
                    var scaleX = rect.width / layer_1.width;
                    var scaleY = rect.height / layer_1.height;
                    if (scaleX < scaleY) {
                        layer_1.width = (layer_1.width * scaleX).extRound();
                        layer_1.height = (layer_1.height * scaleX).extRound();
                    }
                    else {
                        layer_1.width = (layer_1.width * scaleY).extRound();
                        layer_1.height = (layer_1.height * scaleY).extRound();
                    }
                    layer_1.whenCreatedGraphicsAgain = __WEBPACK_IMPORTED_MODULE_9__lib_callback__["a" /* Callback */].from(function () { layer_1.render(); });
                    layer_1.resizedAgain = false;
                    this.effectLayer = layer_1;
                    this._initialized = false;
                }
        }
    };
    Object.defineProperty(FormCartoonComponent.prototype, "layer", {
        get: function () {
            return this.effectLayer;
        },
        enumerable: true,
        configurable: true
    });
    FormCartoonComponent.prototype.findSmoothAlgo = function () {
        switch (this.smothalgorithm) {
            case 0: return undefined;
            case 1: return new __WEBPACK_IMPORTED_MODULE_16__lib_imagealgorithm_convolution_imageAlgorithmBlur__["c" /* ImageAlgorithmBlurGaussian3x3 */]();
            case 2: return new __WEBPACK_IMPORTED_MODULE_4__lib_imagealgorithm_convolution_imageAlgorithmBlur__["d" /* ImageAlgorithmBlurGaussian5x5 */]();
            case 3: return new __WEBPACK_IMPORTED_MODULE_17__lib_imagealgorithm_convolution_imageAlgorithmMedian__["a" /* ImageAlgorithmMedian3x3 */]();
            case 4: return new __WEBPACK_IMPORTED_MODULE_3__lib_imagealgorithm_convolution_imageAlgorithmMedian__["b" /* ImageAlgorithmMedian5x5 */]();
            case 5: return new __WEBPACK_IMPORTED_MODULE_2__lib_imagealgorithm_convolution_imageAlgorithmMean__["a" /* ImageAlgorithmMean3x3 */]();
            case 6: return new __WEBPACK_IMPORTED_MODULE_2__lib_imagealgorithm_convolution_imageAlgorithmMean__["b" /* ImageAlgorithmMean5x5 */]();
            case 7: return new __WEBPACK_IMPORTED_MODULE_1__lib_imagealgorithm_convolution_imageAlgorithmLowpass__["a" /* ImageAlgorithmLowpass3x3 */]();
            case 8: return new __WEBPACK_IMPORTED_MODULE_1__lib_imagealgorithm_convolution_imageAlgorithmLowpass__["b" /* ImageAlgorithmLowpass5x5 */]();
            case 9: return new __WEBPACK_IMPORTED_MODULE_0__lib_imagealgorithm_convolution_imageAlgorithmSharpen__["b" /* ImageAlgorithmSharpen3x3 */]();
        }
        return undefined;
    };
    FormCartoonComponent.prototype.applyFilter = function (event) {
        var _this = this;
        if (event)
            event.preventDefault();
        if (!this._initialized) {
            this.effectLayer.setOrgImage(this.effectLayer.getImage());
            this._initialized = true;
        }
        var originalImage = this.effectLayer.getOriginalImage();
        var callback = __WEBPACK_IMPORTED_MODULE_9__lib_callback__["a" /* Callback */].from(function () {
            var effect = _this.findSmoothAlgo();
            if (effect) {
                var img = effect.process(originalImage);
                var effect2 = new __WEBPACK_IMPORTED_MODULE_5__lib_imagealgorithm_imageAlgorithmEdgeDetectionGradient__["c" /* ImageAlgorithmEdgeDetectionGradient */](__WEBPACK_IMPORTED_MODULE_5__lib_imagealgorithm_imageAlgorithmEdgeDetectionGradient__["b" /* GradientEdgeFilterType */].SharpenGradient, __WEBPACK_IMPORTED_MODULE_5__lib_imagealgorithm_imageAlgorithmEdgeDetectionGradient__["a" /* GradientDerivativeLevel */].First, 1, 1, 1, _this.threshold, "", true);
                var img2 = effect2.process(img);
                _this.effectLayer.setImg(img2);
            }
            else {
                var effect2 = new __WEBPACK_IMPORTED_MODULE_5__lib_imagealgorithm_imageAlgorithmEdgeDetectionGradient__["c" /* ImageAlgorithmEdgeDetectionGradient */](__WEBPACK_IMPORTED_MODULE_5__lib_imagealgorithm_imageAlgorithmEdgeDetectionGradient__["b" /* GradientEdgeFilterType */].SharpenGradient, __WEBPACK_IMPORTED_MODULE_5__lib_imagealgorithm_imageAlgorithmEdgeDetectionGradient__["a" /* GradientDerivativeLevel */].First, 1, 1, 1, _this.threshold, "", true);
                var img2 = effect2.process(originalImage);
                _this.effectLayer.setImg(img2);
            }
        });
        this._appService.doBusyCallback(callback);
    };
    FormCartoonComponent.prototype.smoothFilterChanged = function (event) {
        this.smothalgorithm = Number(event.target.value);
        this.applyFilter(undefined);
    };
    FormCartoonComponent.prototype.thresholdChanged = function (event) {
        this.threshold = Number(event.target.value);
        this.applyFilter(undefined);
    };
    FormCartoonComponent.prototype.close = function (event) {
        event.preventDefault();
        var algorithms = [];
        var smooth = this.findSmoothAlgo();
        if (smooth)
            algorithms.push(smooth);
        algorithms.push(new __WEBPACK_IMPORTED_MODULE_5__lib_imagealgorithm_imageAlgorithmEdgeDetectionGradient__["c" /* ImageAlgorithmEdgeDetectionGradient */](__WEBPACK_IMPORTED_MODULE_5__lib_imagealgorithm_imageAlgorithmEdgeDetectionGradient__["b" /* GradientEdgeFilterType */].SharpenGradient, __WEBPACK_IMPORTED_MODULE_5__lib_imagealgorithm_imageAlgorithmEdgeDetectionGradient__["a" /* GradientDerivativeLevel */].First, 1, 1, 1, this.threshold, "", true));
        var cmd = new __WEBPACK_IMPORTED_MODULE_15__commands_cmdExecuteImageAlgorithms__["a" /* CmdExecuteImageAlgorithms */](algorithms, this._projectService, this._appService);
        cmd.executeAsync();
        this.smModal.hide();
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_6__angular_core__["ViewChild"])("smModal"),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_12_ngx_bootstrap_modal__["a" /* ModalDirective */])
    ], FormCartoonComponent.prototype, "smModal", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_6__angular_core__["ViewChild"])("surfaceContainer"),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_6__angular_core__["ElementRef"])
    ], FormCartoonComponent.prototype, "surfaceDiv", void 0);
    FormCartoonComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_6__angular_core__["Component"])({
            selector: 'form-cartoon',
            template: __webpack_require__("../../../../../src/app/components/form-cartoon/form-cartoon.component.html"),
            styles: [__webpack_require__("../../../../../src/app/components/form-cartoon/form-cartoon.component.scss")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_11__services_project_service__["a" /* ProjectService */], __WEBPACK_IMPORTED_MODULE_10__services_app_service__["a" /* AppService */]])
    ], FormCartoonComponent);
    return FormCartoonComponent;
}());



/***/ }),

/***/ "../../../../../src/app/components/form-color-adjustment/form-color-adjustment.component.html":
/***/ (function(module, exports) {

module.exports = "<div bsModal #smModal=\"bs-modal\" class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"mySmallModalLabel\" aria-hidden=\"true\">\n  <div class=\"modal-dialog\" style=\"overflow-y: initial !important\">\n    <div ngDraggable [handle]=\"modalHeader\" class=\"modal-content\" style=\"width:800px\">\n      <div #modalHeader class=\"modal-header unselectableText\">\n        <h6 class=\"modal-title pull-left\">Color adjustment</h6>\n        <button type=\"button\" class=\"close pull-right\" aria-label=\"Close\" (click)=\"smModal.hide()\">\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n      </div>\n      <div class=\"modal-body unselectableText\" style=\"height:530px;overflow:hidden;color:black\">\n        <div class=\"container\">\n          <div class=\"row\">\n            <div class=\"col-md-8  imagecolumn\" #surfaceContainer>\n              <layer-component [surface]=\"layer\"></layer-component>\n            </div>\n\n            <div class=\"col-md-4 effectscolumn\" style=\"height: 460px;overflow-y: auto\">\n              <ul class=\"list-group\">\n                <li class=\"list-group-item list-group-item-action mouseover \" style=\"padding:0px;margin-bottom:5px\">\n\n                  <div class=\"trackbar\">\n                    <header class=\"trackbar-header\">\n                      <span>Brightness</span>\n                      <span>{{brightness}} </span>\n\n                    </header>\n                    <section class=\"trackbar-section\">\n                      <trackbar-component  [value]=\"brightness\" [min]=-255 [max]=255 [step]=1 (valueChanged)=\"brightnessChanged($event)\"></trackbar-component>\n                    </section>\n                  </div>\n\n\n                </li>\n\n                <li class=\"list-group-item list-group-item-action mouseover \" style=\"padding:0px;margin-bottom:5px\">\n                  <div class=\"trackbar\">\n                    <header class=\"trackbar-header\">\n                      <span>Contrast</span>\n                      <span>{{contrast}} </span>\n\n                    </header>\n                    <section class=\"trackbar-section\">\n                      <trackbar-component [value]=\"contrast\" [min]=-255 [max]=255 [step]=1 (valueChanged)=\"contrastChanged($event)\"></trackbar-component>\n                    </section>\n                  </div>\n                </li>\n\n                <li class=\"list-group-item list-group-item-action mouseover \" style=\"padding:0px;margin-bottom:5px\">\n                    <div class=\"trackbar\">\n                      <header class=\"trackbar-header\">\n                        <span>Saturation</span>\n                        <span>{{saturation}} </span>\n  \n                      </header>\n                      <section class=\"trackbar-section\">\n                        <trackbar-component [value]=\"saturation\" [min]=-100 [max]=100 [step]=1 (valueChanged)=\"saturationChanged($event)\"></trackbar-component>\n                      </section>\n                    </div>\n                  </li>\n\n                  <li class=\"list-group-item list-group-item-action mouseover \" style=\"padding:0px;margin-bottom:5px\">\n                      <div class=\"trackbar\">\n                        <header class=\"trackbar-header\">\n                          <span>Light</span>\n                          <span>{{light}} </span>\n    \n                        </header>\n                        <section class=\"trackbar-section\">\n                          <trackbar-component [value]=\"light\" [min]=-100 [max]=100 [step]=1 (valueChanged)=\"lightChanged($event)\"></trackbar-component>\n                        </section>\n                      </div>\n                    </li>\n\n                \n\n              </ul>\n            </div>\n\n\n\n          </div>\n          <div class=\"row\">\n            <div class=\"col-md-9\">\n            </div>\n            <div class=\"col-md-3\">\n              <label class=\"btn btn-primary btn-sm pull-right mt-2\" role=\"button\" (click)=\"close()\">\n                  Apply\n                </label>\n            </div>\n          </div>\n\n\n\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n"

/***/ }),

/***/ "../../../../../src/app/components/form-color-adjustment/form-color-adjustment.component.scss":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, ".trackbar {\n  width: 100%;\n  color: #F5F5F5;\n  background-color: #535353;\n  border-color: #656565;\n  font-size: medium; }\n\n.trackbar-header {\n  font-size: 0.8rem;\n  padding-left: 5px; }\n", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/components/form-color-adjustment/form-color-adjustment.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FormColorAdjustmentComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__lib_messageBus__ = __webpack_require__("../../../../../src/app/lib/messageBus.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__entities_message__ = __webpack_require__("../../../../../src/app/entities/message.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__lib_callback__ = __webpack_require__("../../../../../src/app/lib/callback.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services_app_service__ = __webpack_require__("../../../../../src/app/services/app.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_project_service__ = __webpack_require__("../../../../../src/app/services/project.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_ngx_bootstrap_modal__ = __webpack_require__("../../../../ngx-bootstrap/modal/index.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__models_photoedit_layerImageEffect__ = __webpack_require__("../../../../../src/app/models/photoedit/layerImageEffect.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__lib_image__ = __webpack_require__("../../../../../src/app/lib/image.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__lib_imagealgorithm_imageAlgorithmBrightness__ = __webpack_require__("../../../../../src/app/lib/imagealgorithm/imageAlgorithmBrightness.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__lib_imagealgorithm_imageAlgorithmContrast__ = __webpack_require__("../../../../../src/app/lib/imagealgorithm/imageAlgorithmContrast.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__lib_imagealgorithm_imageAlgorithmSaturationLight__ = __webpack_require__("../../../../../src/app/lib/imagealgorithm/imageAlgorithmSaturationLight.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__commands_cmdExecuteImageAlgorithms__ = __webpack_require__("../../../../../src/app/commands/cmdExecuteImageAlgorithms.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};













var FormColorAdjustmentComponent = /** @class */ (function () {
    function FormColorAdjustmentComponent(projectService, appService) {
        var _this = this;
        this._brightness = 0;
        this._contrast = 0;
        this._gamma = 1;
        this._saturation = 0;
        this._light = 0;
        this._initialized = false;
        this.callFunc = __WEBPACK_IMPORTED_MODULE_3__lib_callback__["a" /* Callback */].from(function () { _this.show(); });
        this._projectService = projectService;
        this._appService = appService;
        var layer = new __WEBPACK_IMPORTED_MODULE_7__models_photoedit_layerImageEffect__["a" /* LayerImageEffect */](new __WEBPACK_IMPORTED_MODULE_8__lib_image__["a" /* HImage */](320, 240));
        layer.whenCreatedGraphicsAgain = __WEBPACK_IMPORTED_MODULE_3__lib_callback__["a" /* Callback */].from(function () { layer.render(); });
        layer.resizedAgain = false;
        this._emptyEffectLayer = layer;
        this.effectLayer = this._emptyEffectLayer;
    }
    FormColorAdjustmentComponent.prototype.ngOnInit = function () {
        __WEBPACK_IMPORTED_MODULE_1__lib_messageBus__["a" /* MessageBus */].subscribe(__WEBPACK_IMPORTED_MODULE_2__entities_message__["a" /* Message */].ShowFormColorAdjustments, this.callFunc);
    };
    FormColorAdjustmentComponent.prototype.ngOnDestroy = function () {
        __WEBPACK_IMPORTED_MODULE_1__lib_messageBus__["a" /* MessageBus */].unsubscribe(__WEBPACK_IMPORTED_MODULE_2__entities_message__["a" /* Message */].ShowFormColorAdjustments, this.callFunc);
    };
    FormColorAdjustmentComponent.prototype.show = function () {
        if (!this.smModal.isShown) {
            this._brightness = 0;
            this._contrast = 0;
            this._gamma = 1;
            this._saturation = 0;
            this._light = 0;
            this.smModal.show();
            this.effectLayer = this._emptyEffectLayer;
            if (this._projectService.currentProject)
                if (this._projectService.currentProject.activeWorkspace && this._projectService.currentProject.activeWorkspace.layers.length > 0) {
                    var selectedLayer = this._projectService.currentProject.activeWorkspace.layers.find(function (p) { return p.isSelected; });
                    if (!selectedLayer) {
                        selectedLayer = this._projectService.currentProject.activeWorkspace.layers[0];
                    }
                    var layer_1 = new __WEBPACK_IMPORTED_MODULE_7__models_photoedit_layerImageEffect__["a" /* LayerImageEffect */](selectedLayer.getImage());
                    var rect = { width: 480, height: 320 };
                    var scaleX = rect.width / layer_1.width;
                    var scaleY = rect.height / layer_1.height;
                    if (scaleX < scaleY) {
                        layer_1.width = (layer_1.width * scaleX).extRound();
                        layer_1.height = (layer_1.height * scaleX).extRound();
                    }
                    else {
                        layer_1.width = (layer_1.width * scaleY).extRound();
                        layer_1.height = (layer_1.height * scaleY).extRound();
                    }
                    layer_1.whenCreatedGraphicsAgain = __WEBPACK_IMPORTED_MODULE_3__lib_callback__["a" /* Callback */].from(function () { layer_1.render(); });
                    layer_1.resizedAgain = false;
                    this.effectLayer = layer_1;
                    this._initialized = false;
                }
        }
    };
    Object.defineProperty(FormColorAdjustmentComponent.prototype, "layer", {
        get: function () {
            return this.effectLayer;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(FormColorAdjustmentComponent.prototype, "brightness", {
        get: function () {
            return this._brightness.extRound();
        },
        set: function (val) {
            this._brightness = val;
        },
        enumerable: true,
        configurable: true
    });
    FormColorAdjustmentComponent.prototype.brightnessChanged = function (value) {
        this._brightness = value;
        this.filterValues();
    };
    Object.defineProperty(FormColorAdjustmentComponent.prototype, "contrast", {
        get: function () {
            return this._contrast.extRound();
        },
        set: function (val) {
            this._contrast = val;
        },
        enumerable: true,
        configurable: true
    });
    FormColorAdjustmentComponent.prototype.contrastChanged = function (value) {
        this._contrast = value;
        this.filterValues();
    };
    Object.defineProperty(FormColorAdjustmentComponent.prototype, "gamma", {
        get: function () {
            return this._gamma.extRound();
        },
        set: function (val) {
            this._gamma = val;
        },
        enumerable: true,
        configurable: true
    });
    FormColorAdjustmentComponent.prototype.gammaChanged = function (value) {
        this.gamma = value;
        this.filterValues();
    };
    Object.defineProperty(FormColorAdjustmentComponent.prototype, "saturation", {
        get: function () {
            return this._saturation.extRound();
        },
        set: function (val) {
            this._saturation = val;
        },
        enumerable: true,
        configurable: true
    });
    FormColorAdjustmentComponent.prototype.saturationChanged = function (value) {
        this._saturation = value;
        this.filterValues();
    };
    Object.defineProperty(FormColorAdjustmentComponent.prototype, "light", {
        get: function () {
            return this._light.extRound();
        },
        set: function (val) {
            this._light = val;
        },
        enumerable: true,
        configurable: true
    });
    FormColorAdjustmentComponent.prototype.lightChanged = function (value) {
        this._light = value;
        this.filterValues();
    };
    FormColorAdjustmentComponent.prototype.filterValues = function () {
        var _this = this;
        if (!this._initialized) {
            this.effectLayer.setOrgImage(this.effectLayer.getImage());
            this._initialized = true;
        }
        if (!this._filterPromise) {
            this._filterPromise = new Promise(function (resolve, reject) {
                var img = _this.effectLayer.getOriginalImage();
                if (_this.brightness != 0) {
                    var algo = new __WEBPACK_IMPORTED_MODULE_9__lib_imagealgorithm_imageAlgorithmBrightness__["a" /* ImageAlgorithmBrightness */](_this.brightness);
                    img = algo.process(img);
                }
                if (_this.contrast != 0) {
                    var algo = new __WEBPACK_IMPORTED_MODULE_10__lib_imagealgorithm_imageAlgorithmContrast__["a" /* ImageAlgorithmContrast */](_this.contrast);
                    img = algo.process(img);
                }
                if (_this.saturation != 0) {
                    var algo = new __WEBPACK_IMPORTED_MODULE_11__lib_imagealgorithm_imageAlgorithmSaturationLight__["a" /* ImageAlgorithmSaturationLight */](_this.saturation / 100, false);
                    img = algo.process(img);
                }
                if (_this.light != 0) {
                    var algo = new __WEBPACK_IMPORTED_MODULE_11__lib_imagealgorithm_imageAlgorithmSaturationLight__["a" /* ImageAlgorithmSaturationLight */](_this.light / 100, true);
                    img = algo.process(img);
                }
                _this.effectLayer.setImg(img);
                resolve();
            }).then(function () { return _this._filterPromise = undefined; }).catch(function () { return _this._filterPromise = undefined; });
        }
    };
    FormColorAdjustmentComponent.prototype.close = function () {
        var algos = [];
        if (this.brightness != 0) {
            var algo = new __WEBPACK_IMPORTED_MODULE_9__lib_imagealgorithm_imageAlgorithmBrightness__["a" /* ImageAlgorithmBrightness */](this.brightness);
            algos.push(algo);
        }
        if (this.contrast != 0) {
            var algo = new __WEBPACK_IMPORTED_MODULE_10__lib_imagealgorithm_imageAlgorithmContrast__["a" /* ImageAlgorithmContrast */](this.contrast);
            algos.push(algo);
        }
        if (this.saturation != 0) {
            var algo = new __WEBPACK_IMPORTED_MODULE_11__lib_imagealgorithm_imageAlgorithmSaturationLight__["a" /* ImageAlgorithmSaturationLight */](this.saturation / 100, false);
            algos.push(algo);
        }
        if (this.light != 0) {
            var algo = new __WEBPACK_IMPORTED_MODULE_11__lib_imagealgorithm_imageAlgorithmSaturationLight__["a" /* ImageAlgorithmSaturationLight */](this.light / 100, true);
            algos.push(algo);
        }
        if (algos.length > 0) {
            var cmd = new __WEBPACK_IMPORTED_MODULE_12__commands_cmdExecuteImageAlgorithms__["a" /* CmdExecuteImageAlgorithms */](algos, this._projectService, this._appService);
            cmd.executeAsync();
        }
        this.smModal.hide();
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])("smModal"),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_6_ngx_bootstrap_modal__["a" /* ModalDirective */])
    ], FormColorAdjustmentComponent.prototype, "smModal", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])("surfaceContainer"),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"])
    ], FormColorAdjustmentComponent.prototype, "surfaceDiv", void 0);
    FormColorAdjustmentComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'form-color-adjustment',
            template: __webpack_require__("../../../../../src/app/components/form-color-adjustment/form-color-adjustment.component.html"),
            styles: [__webpack_require__("../../../../../src/app/components/form-color-adjustment/form-color-adjustment.component.scss")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_5__services_project_service__["a" /* ProjectService */], __WEBPACK_IMPORTED_MODULE_4__services_app_service__["a" /* AppService */]])
    ], FormColorAdjustmentComponent);
    return FormColorAdjustmentComponent;
}());



/***/ }),

/***/ "../../../../../src/app/components/form-color-remap/form-color-remap.component.html":
/***/ (function(module, exports) {

module.exports = "<div bsModal #smModal=\"bs-modal\" class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"mySmallModalLabel\" aria-hidden=\"true\">\n  <div class=\"modal-dialog\" style=\"overflow-y: initial !important\">\n    <div ngDraggable [handle]=\"modalHeader\" class=\"modal-content\" style=\"width:700px\">\n      <div #modalHeader class=\"modal-header unselectableText\">\n        <h6 class=\"modal-title pull-left\">Effects</h6>\n        <button type=\"button\" class=\"close pull-right\" aria-label=\"Close\" (click)=\"smModal.hide()\">\n            <span aria-hidden=\"true\">&times;</span>\n          </button>\n      </div>\n      <div class=\"modal-body\" style=\"height:530px;overflow:hidden;color:black\">\n        <div class=\"container\">\n          <div class=\"row\">\n            <div class=\"col-md-9  imagecolumn\" #surfaceContainer>\n              <layer-component [surface]=\"layer\"></layer-component>\n            </div>\n\n            <div class=\"col-md-3 effectscolumn filters\" style=\"height: 460px;overflow-y: auto\">\n              <ul class=\"list-group\" >\n                <li  *ngFor=\"let item of effects\" class=\"list-group-item list-group-item-action mouseover \" style=\"padding:0px;margin-bottom:5px\">\n                  <a href=\"#\" class=\"btn btn-primary btn-sm\" style=\"width:100%\" role=\"button\" (click)=\"applyEffect($event,item.name)\">\n                     {{item.name}}\n                  </a>\n\n                </li>\n              </ul>\n\n            </div>\n            \n\n\n          </div>\n          <div class=\"row\">\n            <div class=\"col-md-9\">\n            </div>\n            <div class=\"col-md-3\">\n              <label class=\"btn btn-primary btn-sm pull-right mt-2\"  role=\"button\" (click)=\"close($event)\">\n                Apply\n              </label>\n            </div>\n          </div>\n\n\n\n        </div>\n      </div>\n    </div>\n  </div>\n\n"

/***/ }),

/***/ "../../../../../src/app/components/form-color-remap/form-color-remap.component.scss":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/components/form-color-remap/form-color-remap.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FormColorRemapComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__lib_messageBus__ = __webpack_require__("../../../../../src/app/lib/messageBus.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__entities_message__ = __webpack_require__("../../../../../src/app/entities/message.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__lib_callback__ = __webpack_require__("../../../../../src/app/lib/callback.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services_app_service__ = __webpack_require__("../../../../../src/app/services/app.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_effect_service__ = __webpack_require__("../../../../../src/app/services/effect.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__services_project_service__ = __webpack_require__("../../../../../src/app/services/project.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_ngx_bootstrap_modal__ = __webpack_require__("../../../../ngx-bootstrap/modal/index.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__models_photoedit_layerImageEffect__ = __webpack_require__("../../../../../src/app/models/photoedit/layerImageEffect.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__lib_image__ = __webpack_require__("../../../../../src/app/lib/image.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__lib_imagealgorithm_imageAlgorithmColorRemap__ = __webpack_require__("../../../../../src/app/lib/imagealgorithm/imageAlgorithmColorRemap.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__commands_cmdColorRemap__ = __webpack_require__("../../../../../src/app/commands/cmdColorRemap.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};












var FormColorRemapComponent = /** @class */ (function () {
    function FormColorRemapComponent(effectService, projectService, appService) {
        var _this = this;
        this._initialized = false;
        this.submitted = false;
        this.callFunc = __WEBPACK_IMPORTED_MODULE_3__lib_callback__["a" /* Callback */].from(function () { _this.show(); });
        this._effectService = effectService;
        this._projectService = projectService;
        this._appService = appService;
        var layer = new __WEBPACK_IMPORTED_MODULE_8__models_photoedit_layerImageEffect__["a" /* LayerImageEffect */](new __WEBPACK_IMPORTED_MODULE_9__lib_image__["a" /* HImage */](320, 240));
        layer.whenCreatedGraphicsAgain = __WEBPACK_IMPORTED_MODULE_3__lib_callback__["a" /* Callback */].from(function () { layer.render(); });
        layer.resizedAgain = false;
        this._emptyEffectLayer = layer;
        this.effectLayer = this._emptyEffectLayer;
    }
    FormColorRemapComponent.prototype.ngOnInit = function () {
        __WEBPACK_IMPORTED_MODULE_1__lib_messageBus__["a" /* MessageBus */].subscribe(__WEBPACK_IMPORTED_MODULE_2__entities_message__["a" /* Message */].ShowFormColorRemap, this.callFunc);
    };
    FormColorRemapComponent.prototype.ngOnDestroy = function () {
        __WEBPACK_IMPORTED_MODULE_1__lib_messageBus__["a" /* MessageBus */].unsubscribe(__WEBPACK_IMPORTED_MODULE_2__entities_message__["a" /* Message */].ShowFormColorRemap, this.callFunc);
    };
    FormColorRemapComponent.prototype.onSubmit = function () {
        this.submitted = true;
    };
    FormColorRemapComponent.prototype.ngAfterContentInit = function () {
    };
    FormColorRemapComponent.prototype.show = function () {
        if (!this.smModal.isShown) {
            this.smModal.show();
            this.effectLayer = this._emptyEffectLayer;
            if (this._projectService.currentProject)
                if (this._projectService.currentProject.activeWorkspace && this._projectService.currentProject.activeWorkspace.layers.length > 0) {
                    var selectedLayer = this._projectService.currentProject.activeWorkspace.layers.find(function (p) { return p.isSelected; });
                    if (!selectedLayer) {
                        selectedLayer = this._projectService.currentProject.activeWorkspace.layers[0];
                    }
                    var layer_1 = new __WEBPACK_IMPORTED_MODULE_8__models_photoedit_layerImageEffect__["a" /* LayerImageEffect */](selectedLayer.getImage());
                    var rect = { width: 480, height: 320 };
                    var scaleX = rect.width / layer_1.width;
                    var scaleY = rect.height / layer_1.height;
                    if (scaleX < scaleY) {
                        layer_1.width = (layer_1.width * scaleX).extRound();
                        layer_1.height = (layer_1.height * scaleX).extRound();
                    }
                    else {
                        layer_1.width = (layer_1.width * scaleY).extRound();
                        layer_1.height = (layer_1.height * scaleY).extRound();
                    }
                    layer_1.whenCreatedGraphicsAgain = __WEBPACK_IMPORTED_MODULE_3__lib_callback__["a" /* Callback */].from(function () { layer_1.render(); });
                    layer_1.resizedAgain = false;
                    this.effectLayer = layer_1;
                    this._initialized = false;
                }
        }
    };
    Object.defineProperty(FormColorRemapComponent.prototype, "effects", {
        get: function () {
            return this._effectService.effects.items.sort(function (a, b) { return a.name.localeCompare(b.name); });
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(FormColorRemapComponent.prototype, "layer", {
        get: function () {
            return this.effectLayer;
        },
        enumerable: true,
        configurable: true
    });
    FormColorRemapComponent.prototype.applyEffect = function (event, effectName) {
        event.preventDefault();
        if (!this._initialized) {
            this.effectLayer.setOrgImage(this.effectLayer.getImage());
            this._initialized = true;
        }
        this._lastSelectedEffect = effectName;
        var originalImage = this.effectLayer.getOriginalImage();
        var effectFounded = this._effectService.effects.items.find(function (p) { return p.name == effectName; });
        if (effectFounded) {
            var effect = new __WEBPACK_IMPORTED_MODULE_10__lib_imagealgorithm_imageAlgorithmColorRemap__["a" /* ImageAlgorithmColorRemap */](effectFounded);
            var img = effect.process(originalImage);
            this.effectLayer.setImg(img);
        }
    };
    FormColorRemapComponent.prototype.close = function (event) {
        event.preventDefault();
        if (this._lastSelectedEffect) {
            var cmd = new __WEBPACK_IMPORTED_MODULE_11__commands_cmdColorRemap__["a" /* CmdColorRemap */](this._lastSelectedEffect, this._projectService, this._appService, this._effectService);
            cmd.executeAsync();
        }
        this.smModal.hide();
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])("smModal"),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_7_ngx_bootstrap_modal__["a" /* ModalDirective */])
    ], FormColorRemapComponent.prototype, "smModal", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])("surfaceContainer"),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"])
    ], FormColorRemapComponent.prototype, "surfaceDiv", void 0);
    FormColorRemapComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'form-color-remap',
            template: __webpack_require__("../../../../../src/app/components/form-color-remap/form-color-remap.component.html"),
            styles: [__webpack_require__("../../../../../src/app/components/form-color-remap/form-color-remap.component.scss")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_5__services_effect_service__["a" /* EffectService */], __WEBPACK_IMPORTED_MODULE_6__services_project_service__["a" /* ProjectService */], __WEBPACK_IMPORTED_MODULE_4__services_app_service__["a" /* AppService */]])
    ], FormColorRemapComponent);
    return FormColorRemapComponent;
}());



/***/ }),

/***/ "../../../../../src/app/components/form-convolution/form-convolution.component.html":
/***/ (function(module, exports) {

module.exports = "<div bsModal #smModal=\"bs-modal\" class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"mySmallModalLabel\" aria-hidden=\"true\">\n    <div class=\"modal-dialog\" style=\"overflow-y: initial !important\">\n      <div ngDraggable [handle]=\"modalHeader\" class=\"modal-content\" style=\"width:700px\">\n        <div #modalHeader class=\"modal-header unselectableText\">\n          <h6 class=\"modal-title pull-left\">{{nameOfForm}}</h6>\n          <button type=\"button\" class=\"close pull-right\" aria-label=\"Close\" (click)=\"smModal.hide()\">\n                <span aria-hidden=\"true\">&times;</span>\n              </button>\n        </div>\n        <div class=\"modal-body unselectableText\" style=\"height:530px;overflow:hidden;color:black\">\n          <div class=\"container\">\n            <div class=\"row\">\n              <div class=\"col-md-8  imagecolumn\" #surfaceContainer>\n                <layer-component [surface]=\"layer\"></layer-component>\n              </div>\n  \n              <div class=\"col-md-4 effectscolumn effects\" style=\"height: 460px;overflow-y: auto\">\n                <ul class=\"list-group\">\n                    <li  *ngFor=\"let item of convolutions\" class=\"list-group-item list-group-item-action mouseover \" style=\"padding:0px;margin-bottom:5px\">\n                        <a href=\"#\" class=\"btn btn-primary btn-sm\" style=\"width:100%\" role=\"button\" (click)=\"applyConvolution($event,item)\">\n                           {{item.name}}\n                        </a>\n      \n                      </li>\n                </ul>\n              </div>\n  \n  \n  \n            </div>\n            <div class=\"row\">\n              <div class=\"col-md-9\">\n              </div>\n              <div class=\"col-md-3\">\n                <label class=\"btn btn-primary btn-sm pull-right mt-2\" role=\"button\" (click)=\"close($event)\">\n                    Apply\n                  </label>\n              </div>\n            </div>\n  \n  \n  \n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  "

/***/ }),

/***/ "../../../../../src/app/components/form-convolution/form-convolution.component.scss":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/components/form-convolution/form-convolution.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FormConvolutionComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__lib_messageBus__ = __webpack_require__("../../../../../src/app/lib/messageBus.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__entities_message__ = __webpack_require__("../../../../../src/app/entities/message.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__lib_callback__ = __webpack_require__("../../../../../src/app/lib/callback.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services_app_service__ = __webpack_require__("../../../../../src/app/services/app.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_project_service__ = __webpack_require__("../../../../../src/app/services/project.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_ngx_bootstrap_modal__ = __webpack_require__("../../../../ngx-bootstrap/modal/index.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__models_photoedit_layerImageEffect__ = __webpack_require__("../../../../../src/app/models/photoedit/layerImageEffect.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__lib_image__ = __webpack_require__("../../../../../src/app/lib/image.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__commands_cmdExecuteImageAlgorithms__ = __webpack_require__("../../../../../src/app/commands/cmdExecuteImageAlgorithms.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};










var FormConvolutionComponent = /** @class */ (function () {
    function FormConvolutionComponent(projectService, appService) {
        var _this = this;
        this.nameOfForm = "Convolution";
        this.isBusy = false;
        this._initialized = false;
        this.submitted = false;
        this._convolutions = [];
        this.callFunc = __WEBPACK_IMPORTED_MODULE_3__lib_callback__["a" /* Callback */].from(function (parameters) {
            if (parameters.name)
                _this.nameOfForm = parameters.name;
            if (parameters.isBusy)
                _this.isBusy = parameters.isBusy;
            else
                _this.isBusy = false;
            _this.show(parameters.convolutions);
        });
        this._projectService = projectService;
        this._appService = appService;
        var layer = new __WEBPACK_IMPORTED_MODULE_7__models_photoedit_layerImageEffect__["a" /* LayerImageEffect */](new __WEBPACK_IMPORTED_MODULE_8__lib_image__["a" /* HImage */](320, 240));
        layer.whenCreatedGraphicsAgain = __WEBPACK_IMPORTED_MODULE_3__lib_callback__["a" /* Callback */].from(function () { layer.render(); });
        layer.resizedAgain = false;
        this._emptyEffectLayer = layer;
        this.effectLayer = this._emptyEffectLayer;
    }
    FormConvolutionComponent.prototype.ngOnInit = function () {
        __WEBPACK_IMPORTED_MODULE_1__lib_messageBus__["a" /* MessageBus */].subscribe(__WEBPACK_IMPORTED_MODULE_2__entities_message__["a" /* Message */].ShowFormConvolution, this.callFunc);
    };
    FormConvolutionComponent.prototype.ngOnDestroy = function () {
        __WEBPACK_IMPORTED_MODULE_1__lib_messageBus__["a" /* MessageBus */].unsubscribe(__WEBPACK_IMPORTED_MODULE_2__entities_message__["a" /* Message */].ShowFormConvolution, this.callFunc);
    };
    FormConvolutionComponent.prototype.onSubmit = function () {
        this.submitted = true;
    };
    FormConvolutionComponent.prototype.ngAfterContentInit = function () {
    };
    FormConvolutionComponent.prototype.show = function (prototypes) {
        if (!this.smModal.isShown) {
            this.smModal.show();
            this._convolutions = prototypes;
            this.effectLayer = this._emptyEffectLayer;
            if (this._projectService.currentProject)
                if (this._projectService.currentProject.activeWorkspace && this._projectService.currentProject.activeWorkspace.layers.length > 0) {
                    var selectedLayer = this._projectService.currentProject.activeWorkspace.layers.find(function (p) { return p.isSelected; });
                    if (!selectedLayer) {
                        selectedLayer = this._projectService.currentProject.activeWorkspace.layers[0];
                    }
                    var layer_1 = new __WEBPACK_IMPORTED_MODULE_7__models_photoedit_layerImageEffect__["a" /* LayerImageEffect */](selectedLayer.getImage());
                    var rect = { width: 360, height: 320 };
                    var scaleX = rect.width / layer_1.width;
                    var scaleY = rect.height / layer_1.height;
                    if (scaleX < scaleY) {
                        layer_1.width = (layer_1.width * scaleX).extRound();
                        layer_1.height = (layer_1.height * scaleX).extRound();
                    }
                    else {
                        layer_1.width = (layer_1.width * scaleY).extRound();
                        layer_1.height = (layer_1.height * scaleY).extRound();
                    }
                    layer_1.whenCreatedGraphicsAgain = __WEBPACK_IMPORTED_MODULE_3__lib_callback__["a" /* Callback */].from(function () { layer_1.render(); });
                    layer_1.resizedAgain = false;
                    this.effectLayer = layer_1;
                    this._initialized = false;
                }
        }
    };
    Object.defineProperty(FormConvolutionComponent.prototype, "convolutions", {
        get: function () { return this._convolutions; },
        enumerable: true,
        configurable: true
    });
    ;
    Object.defineProperty(FormConvolutionComponent.prototype, "layer", {
        get: function () {
            return this.effectLayer;
        },
        enumerable: true,
        configurable: true
    });
    FormConvolutionComponent.prototype.applyConvolution = function (event, convolutionAlgorithm) {
        var _this = this;
        event.preventDefault();
        if (!this._initialized) {
            this.effectLayer.setOrgImage(this.effectLayer.getImage());
            this._initialized = true;
        }
        var originalImage = this.effectLayer.getOriginalImage();
        this._lastSelectedConvolutionAlgorithm = convolutionAlgorithm;
        var effect = this._lastSelectedConvolutionAlgorithm;
        if (effect) {
            if (!this.isBusy) {
                var img = effect.process(originalImage);
                this.effectLayer.setImg(img);
            }
            else {
                this._appService.doBusyCallback(__WEBPACK_IMPORTED_MODULE_3__lib_callback__["a" /* Callback */].from(function () {
                    var img = effect.process(originalImage);
                    _this.effectLayer.setImg(img);
                }));
            }
        }
    };
    FormConvolutionComponent.prototype.close = function (event) {
        event.preventDefault();
        if (this._lastSelectedConvolutionAlgorithm) {
            var algo = this._lastSelectedConvolutionAlgorithm;
            if (algo) {
                var cmd = new __WEBPACK_IMPORTED_MODULE_9__commands_cmdExecuteImageAlgorithms__["a" /* CmdExecuteImageAlgorithms */]([algo], this._projectService, this._appService);
                cmd.executeAsync();
            }
        }
        this.smModal.hide();
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])("smModal"),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_6_ngx_bootstrap_modal__["a" /* ModalDirective */])
    ], FormConvolutionComponent.prototype, "smModal", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])("surfaceContainer"),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"])
    ], FormConvolutionComponent.prototype, "surfaceDiv", void 0);
    FormConvolutionComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'form-convolution',
            template: __webpack_require__("../../../../../src/app/components/form-convolution/form-convolution.component.html"),
            styles: [__webpack_require__("../../../../../src/app/components/form-convolution/form-convolution.component.scss")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_5__services_project_service__["a" /* ProjectService */], __WEBPACK_IMPORTED_MODULE_4__services_app_service__["a" /* AppService */]])
    ], FormConvolutionComponent);
    return FormConvolutionComponent;
}());



/***/ }),

/***/ "../../../../../src/app/components/form-edgegradient/form-edgegradient.component.html":
/***/ (function(module, exports) {

module.exports = "<div bsModal #smModal=\"bs-modal\" class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"mySmallModalLabel\" aria-hidden=\"true\">\n  <div class=\"modal-dialog\" style=\"overflow-y: initial !important\">\n    <div ngDraggable [handle]=\"modalHeader\" class=\"modal-content\" style=\"width:700px\">\n      <div #modalHeader class=\"modal-header unselectableText\">\n        <h6 class=\"modal-title pull-left\">Gradient Edge Detection</h6>\n        <button type=\"button\" class=\"close pull-right\" aria-label=\"Close\" (click)=\"smModal.hide()\">\n          <span aria-hidden=\"true\">&times;</span>\n        </button>\n      </div>\n      <div class=\"modal-body unselectableText\" style=\"height:530px;overflow:hidden;color:black\">\n        <div class=\"container \">\n          <div class=\"row\">\n            <div class=\"col-md-6  imagecolumn\" #surfaceContainer>\n              <layer-component [surface]=\"layer\"></layer-component>\n            </div>\n\n            <div class=\"col-md-6  effectscolumn\" style=\"height: 460px;overflow-y: auto\">\n              <div class=\"container\">\n                <div class=\"row\">\n                  <div class=\"btn-group btn-group-sm\">\n                    <label class=\"btn\"></label>\n                    <label class=\"btn btn-primary btn-sm lineheightsmall\" [(ngModel)]=\"applyRed\" btnCheckbox>Red</label>\n                    <label class=\"btn btn-primary btn-sm lineheightsmall\" [(ngModel)]=\"applyGreen\" btnCheckbox>Green</label>\n                    <label class=\"btn btn-primary btn-sm lineheightsmall\" [(ngModel)]=\"applyBlue\" btnCheckbox>Blue</label>\n                  </div>\n                </div>\n                <div class=\"row\">\n                  <div class=\"form-inline\">\n                    <label class=\"btn btn-sm\"></label>\n                    <label class=\"mr-sm-2 fontsize-sm\" style=\"color:#f5f5f5;margin-left: 4px\" for=\"inlineFormCustomSelect\">Type</label>\n                  <select class=\"custom-select mb-2 mr-sm-2 mb-sm-0 combobox\"  id=\"inlineFormCustomSelect\" (change)=\"filterTypeChanged($event)\">\n                    <option value=\"None\">None</option>\n                    <option value=\"EdgeDetectMono\">Mono</option>\n                    <option value=\"EdgeDetectGradient\">Gradient</option>\n                    <option value=\"Sharpen\">Sharpen</option>\n                    <option value=\"SharpenGradient\">Sharpen Gradient</option>\n                    \n                  </select>\n                </div>\n                </div>\n                <div class=\"row mt-1\">\n                  <div class=\"form-inline\">\n                    <label class=\"btn btn-sm\"></label>\n                    <label class=\"mr-sm-2 fontsize-sm\" style=\"color:#f5f5f5;margin-left: 4px\" for=\"inlineFormCustomSelect\">Level</label>\n                  <select class=\"custom-select mb-2 mr-sm-2 mb-sm-0 combobox\"  id=\"inlineFormCustomSelect\" (change)=\"levelChanged($event)\">\n                    <option value=\"First\">First</option>\n                    <option value=\"Second\">Second</option>                  \n                  </select>\n                </div>\n                </div>\n                <div class=\"row mt-1\">\n                  <div class=\"form-inline\">\n                      <label class=\"btn btn-sm\"></label>\n                      <label class=\"mr-sm-2 fontsize-sm\" style=\"color:#f5f5f5;margin-left: 4px\" for=\"inlineFormCustomSelect\">Threshold</label>\n                    <input type=\"range\" min=\"3\" max=\"250\" step=\"3\" (change)=\"thresholdChanged($event)\"/>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n\n\n          </div>\n          <div class=\"row\">\n            <div class=\"col-md-9\">\n            </div>\n            <div class=\"col-md-3\">\n              <label class=\"btn btn-primary btn-sm pull-right mt-2\" role=\"button\" (click)=\"close($event)\">\n                Apply\n              </label>\n            </div>\n          </div>\n\n\n\n        </div>\n      </div>\n    </div>\n  </div>\n</div>"

/***/ }),

/***/ "../../../../../src/app/components/form-edgegradient/form-edgegradient.component.scss":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/components/form-edgegradient/form-edgegradient.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FormEdgeGradientComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__lib_imagealgorithm_imageAlgorithmEdgeDetectionGradient__ = __webpack_require__("../../../../../src/app/lib/imagealgorithm/imageAlgorithmEdgeDetectionGradient.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__lib_messageBus__ = __webpack_require__("../../../../../src/app/lib/messageBus.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__entities_message__ = __webpack_require__("../../../../../src/app/entities/message.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__lib_callback__ = __webpack_require__("../../../../../src/app/lib/callback.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_app_service__ = __webpack_require__("../../../../../src/app/services/app.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__services_project_service__ = __webpack_require__("../../../../../src/app/services/project.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_ngx_bootstrap_modal__ = __webpack_require__("../../../../ngx-bootstrap/modal/index.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__models_photoedit_layerImageEffect__ = __webpack_require__("../../../../../src/app/models/photoedit/layerImageEffect.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__lib_image__ = __webpack_require__("../../../../../src/app/lib/image.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__commands_cmdExecuteImageAlgorithms__ = __webpack_require__("../../../../../src/app/commands/cmdExecuteImageAlgorithms.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__lib_imagealgorithm_imageAlgorithmEdgeDetectionGradient__ = __webpack_require__("../../../../../src/app/lib/imagealgorithm/imageAlgorithmEdgeDetectionGradient.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};












var FormEdgeGradientComponent = /** @class */ (function () {
    function FormEdgeGradientComponent(projectService, appService) {
        var _this = this;
        this._filterLevel = "First";
        this._initialized = false;
        this._applyRed = true;
        this._applyGreen = true;
        this._applyBlue = true;
        this._filterType = "None";
        this._threshold = 10;
        this.submitted = false;
        this.callFunc = __WEBPACK_IMPORTED_MODULE_4__lib_callback__["a" /* Callback */].from(function () { _this.show(); });
        this._projectService = projectService;
        this._appService = appService;
        var layer = new __WEBPACK_IMPORTED_MODULE_8__models_photoedit_layerImageEffect__["a" /* LayerImageEffect */](new __WEBPACK_IMPORTED_MODULE_9__lib_image__["a" /* HImage */](320, 240));
        layer.whenCreatedGraphicsAgain = __WEBPACK_IMPORTED_MODULE_4__lib_callback__["a" /* Callback */].from(function () { layer.render(); });
        layer.resizedAgain = false;
        this._emptyEffectLayer = layer;
        this.effectLayer = this._emptyEffectLayer;
    }
    Object.defineProperty(FormEdgeGradientComponent.prototype, "applyBlue", {
        get: function () {
            return this._applyBlue;
        },
        set: function (value) {
            this._applyBlue = value;
            this.applyFilter(undefined);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(FormEdgeGradientComponent.prototype, "applyGreen", {
        get: function () {
            return this._applyGreen;
        },
        set: function (value) {
            this._applyGreen = value;
            this.applyFilter(undefined);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(FormEdgeGradientComponent.prototype, "applyRed", {
        get: function () {
            return this._applyRed;
        },
        set: function (value) {
            this._applyRed = value;
            this.applyFilter(undefined);
        },
        enumerable: true,
        configurable: true
    });
    FormEdgeGradientComponent.prototype.ngOnInit = function () {
        __WEBPACK_IMPORTED_MODULE_2__lib_messageBus__["a" /* MessageBus */].subscribe(__WEBPACK_IMPORTED_MODULE_3__entities_message__["a" /* Message */].ShowFormEdgeGradient, this.callFunc);
    };
    FormEdgeGradientComponent.prototype.ngOnDestroy = function () {
        __WEBPACK_IMPORTED_MODULE_2__lib_messageBus__["a" /* MessageBus */].unsubscribe(__WEBPACK_IMPORTED_MODULE_3__entities_message__["a" /* Message */].ShowFormEdgeGradient, this.callFunc);
    };
    FormEdgeGradientComponent.prototype.onSubmit = function () {
        this.submitted = true;
    };
    FormEdgeGradientComponent.prototype.ngAfterContentInit = function () {
    };
    FormEdgeGradientComponent.prototype.show = function () {
        if (!this.smModal.isShown) {
            this.smModal.show();
            this.effectLayer = this._emptyEffectLayer;
            if (this._projectService.currentProject)
                if (this._projectService.currentProject.activeWorkspace && this._projectService.currentProject.activeWorkspace.layers.length > 0) {
                    var selectedLayer = this._projectService.currentProject.activeWorkspace.layers.find(function (p) { return p.isSelected; });
                    if (!selectedLayer) {
                        selectedLayer = this._projectService.currentProject.activeWorkspace.layers[0];
                    }
                    var layer_1 = new __WEBPACK_IMPORTED_MODULE_8__models_photoedit_layerImageEffect__["a" /* LayerImageEffect */](selectedLayer.getImage());
                    var rect = { width: 360, height: 320 };
                    var scaleX = rect.width / layer_1.width;
                    var scaleY = rect.height / layer_1.height;
                    if (scaleX < scaleY) {
                        layer_1.width = (layer_1.width * scaleX).extRound();
                        layer_1.height = (layer_1.height * scaleX).extRound();
                    }
                    else {
                        layer_1.width = (layer_1.width * scaleY).extRound();
                        layer_1.height = (layer_1.height * scaleY).extRound();
                    }
                    layer_1.whenCreatedGraphicsAgain = __WEBPACK_IMPORTED_MODULE_4__lib_callback__["a" /* Callback */].from(function () { layer_1.render(); });
                    layer_1.resizedAgain = false;
                    this.effectLayer = layer_1;
                    this._initialized = false;
                }
        }
    };
    Object.defineProperty(FormEdgeGradientComponent.prototype, "layer", {
        get: function () {
            return this.effectLayer;
        },
        enumerable: true,
        configurable: true
    });
    FormEdgeGradientComponent.prototype.calculateFilterType = function () {
        switch (this._filterType) {
            case "None": return __WEBPACK_IMPORTED_MODULE_11__lib_imagealgorithm_imageAlgorithmEdgeDetectionGradient__["b" /* GradientEdgeFilterType */].None;
            case "EdgeDetectMono": return __WEBPACK_IMPORTED_MODULE_11__lib_imagealgorithm_imageAlgorithmEdgeDetectionGradient__["b" /* GradientEdgeFilterType */].EdgeDetectMono;
            case "EdgeDetectGradient": return __WEBPACK_IMPORTED_MODULE_11__lib_imagealgorithm_imageAlgorithmEdgeDetectionGradient__["b" /* GradientEdgeFilterType */].EdgeDetectGradient;
            case "Sharpen": return __WEBPACK_IMPORTED_MODULE_11__lib_imagealgorithm_imageAlgorithmEdgeDetectionGradient__["b" /* GradientEdgeFilterType */].Sharpen;
            case "SharpenGradient": return __WEBPACK_IMPORTED_MODULE_11__lib_imagealgorithm_imageAlgorithmEdgeDetectionGradient__["b" /* GradientEdgeFilterType */].SharpenGradient;
        }
        return __WEBPACK_IMPORTED_MODULE_11__lib_imagealgorithm_imageAlgorithmEdgeDetectionGradient__["b" /* GradientEdgeFilterType */].None;
    };
    FormEdgeGradientComponent.prototype.calculateLevel = function () {
        switch (this._filterLevel) {
            case "First": return __WEBPACK_IMPORTED_MODULE_11__lib_imagealgorithm_imageAlgorithmEdgeDetectionGradient__["a" /* GradientDerivativeLevel */].First;
            case "Second": return __WEBPACK_IMPORTED_MODULE_11__lib_imagealgorithm_imageAlgorithmEdgeDetectionGradient__["a" /* GradientDerivativeLevel */].Second;
        }
        return __WEBPACK_IMPORTED_MODULE_11__lib_imagealgorithm_imageAlgorithmEdgeDetectionGradient__["a" /* GradientDerivativeLevel */].First;
    };
    FormEdgeGradientComponent.prototype.applyFilter = function (event) {
        if (event)
            event.preventDefault();
        if (!this._initialized) {
            this.effectLayer.setOrgImage(this.effectLayer.getImage());
            this._initialized = true;
        }
        var originalImage = this.effectLayer.getOriginalImage();
        var effect = new __WEBPACK_IMPORTED_MODULE_0__lib_imagealgorithm_imageAlgorithmEdgeDetectionGradient__["c" /* ImageAlgorithmEdgeDetectionGradient */](this.calculateFilterType(), this.calculateLevel(), this._applyRed ? 1 : 0, this.applyGreen ? 1 : 0, this.applyBlue ? 1 : 0, this._threshold);
        if (effect) {
            var img = effect.process(originalImage);
            this.effectLayer.setImg(img);
        }
    };
    FormEdgeGradientComponent.prototype.filterTypeChanged = function (event) {
        this._filterType = event.target.value;
        this.applyFilter(undefined);
    };
    FormEdgeGradientComponent.prototype.levelChanged = function (event) {
        this._filterLevel = event.target.value;
        this.applyFilter(undefined);
    };
    FormEdgeGradientComponent.prototype.thresholdChanged = function (event) {
        this._threshold = Number(event.target.value);
        this.applyFilter(undefined);
    };
    FormEdgeGradientComponent.prototype.close = function (event) {
        event.preventDefault();
        var effect = new __WEBPACK_IMPORTED_MODULE_0__lib_imagealgorithm_imageAlgorithmEdgeDetectionGradient__["c" /* ImageAlgorithmEdgeDetectionGradient */](this.calculateFilterType(), this.calculateLevel(), this._applyRed ? 1 : 0, this.applyGreen ? 1 : 0, this.applyBlue ? 1 : 0, this._threshold);
        var cmd = new __WEBPACK_IMPORTED_MODULE_10__commands_cmdExecuteImageAlgorithms__["a" /* CmdExecuteImageAlgorithms */]([effect], this._projectService, this._appService);
        cmd.executeAsync();
        this.smModal.hide();
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_1__angular_core__["ViewChild"])("smModal"),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_7_ngx_bootstrap_modal__["a" /* ModalDirective */])
    ], FormEdgeGradientComponent.prototype, "smModal", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_1__angular_core__["ViewChild"])("surfaceContainer"),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1__angular_core__["ElementRef"])
    ], FormEdgeGradientComponent.prototype, "surfaceDiv", void 0);
    FormEdgeGradientComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_1__angular_core__["Component"])({
            selector: 'form-edgegradient',
            template: __webpack_require__("../../../../../src/app/components/form-edgegradient/form-edgegradient.component.html"),
            styles: [__webpack_require__("../../../../../src/app/components/form-edgegradient/form-edgegradient.component.scss")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_6__services_project_service__["a" /* ProjectService */], __WEBPACK_IMPORTED_MODULE_5__services_app_service__["a" /* AppService */]])
    ], FormEdgeGradientComponent);
    return FormEdgeGradientComponent;
}());



/***/ }),

/***/ "../../../../../src/app/components/form-erodedilation/form-erodedilation.component.html":
/***/ (function(module, exports) {

module.exports = "<div bsModal #smModal=\"bs-modal\" class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"mySmallModalLabel\" aria-hidden=\"true\">\n  <div class=\"modal-dialog\" style=\"overflow-y: initial !important\">\n    <div ngDraggable [handle]=\"modalHeader\" class=\"modal-content\" style=\"width:700px\">\n      <div #modalHeader class=\"modal-header unselectableText\">\n        <h6 class=\"modal-title pull-left\">Erosion-Dilation</h6>\n        <button type=\"button\" class=\"close pull-right\" aria-label=\"Close\" (click)=\"smModal.hide()\">\n          <span aria-hidden=\"true\">&times;</span>\n        </button>\n      </div>\n      <div class=\"modal-body unselectableText\" style=\"height:530px;overflow:hidden;color:black\">\n        <div class=\"container \">\n          <div class=\"row\">\n            <div class=\"col-md-6  imagecolumn\" #surfaceContainer>\n              <layer-component [surface]=\"layer\"></layer-component>\n            </div>\n\n            <div class=\"col-md-6  effectscolumn\" style=\"height: 460px;overflow-y: auto\">\n              <div class=\"container\">\n                <div class=\"row\">\n                  <div class=\"btn-group btn-group-sm\">\n                    <label class=\"btn\"></label>\n                    <label class=\"btn btn-primary btn-sm lineheightsmall\" [(ngModel)]=\"applyRed\" btnCheckbox>Red</label>\n                    <label class=\"btn btn-primary btn-sm lineheightsmall\" [(ngModel)]=\"applyGreen\" btnCheckbox>Green</label>\n                    <label class=\"btn btn-primary btn-sm lineheightsmall\" [(ngModel)]=\"applyBlue\" btnCheckbox>Blue</label>\n                  </div>\n                </div>\n                <div class=\"row\">\n                  <div class=\"btn-group btn-group-sm\">\n                    <label class=\"btn btn-sm\"></label>\n                    <label class=\"btn btn-primary btn-sm\" [(ngModel)]=\"processType\" btnRadio=\"Erosion\">Erosion</label>\n                    <label class=\"btn btn-primary btn-sm\" [(ngModel)]=\"processType\" btnRadio=\"Dilation\">Dilation</label>\n                    <label class=\"btn btn-primary btn-sm\" [(ngModel)]=\"processType\" btnRadio=\"Open\">Open</label>\n                    <label class=\"btn btn-primary btn-sm\" [(ngModel)]=\"processType\" btnRadio=\"Closed\">Closed</label>\n                  </div>\n                </div>\n                <div class=\"row\">\n                  <div class=\"form-inline\">\n                      <label class=\"btn btn-sm\"></label>\n                      <label class=\"mr-sm-2\" style=\"color:#f5f5f5;margin-left: 4px\" for=\"inlineFormCustomSelect\">Size</label>\n                    <select class=\"custom-select mb-2 mr-sm-2 mb-sm-0 combobox\"  id=\"inlineFormCustomSelect\" (change)=\"matrixSizeChanged($event)\">\n                      <option value=\"3\">3</option>\n                      <option value=\"4\">4</option>\n                      <option value=\"5\">5</option>\n                      <option value=\"6\">6</option>\n                      <option value=\"7\">7</option>\n                      <option value=\"8\">8</option>\n                      <option value=\"9\">9</option>\n                      <option value=\"10\">10</option>\n                    </select>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n\n\n          </div>\n          <div class=\"row\">\n            <div class=\"col-md-9\">\n            </div>\n            <div class=\"col-md-3\">\n              <label class=\"btn btn-primary btn-sm pull-right mt-2\" role=\"button\" (click)=\"close($event)\">\n                Apply\n              </label>\n            </div>\n          </div>\n\n\n\n        </div>\n      </div>\n    </div>\n  </div>\n</div>"

/***/ }),

/***/ "../../../../../src/app/components/form-erodedilation/form-erodedilation.component.scss":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/components/form-erodedilation/form-erodedilation.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FormErodeDilationComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__lib_messageBus__ = __webpack_require__("../../../../../src/app/lib/messageBus.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__entities_message__ = __webpack_require__("../../../../../src/app/entities/message.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__lib_callback__ = __webpack_require__("../../../../../src/app/lib/callback.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services_app_service__ = __webpack_require__("../../../../../src/app/services/app.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_project_service__ = __webpack_require__("../../../../../src/app/services/project.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_ngx_bootstrap_modal__ = __webpack_require__("../../../../ngx-bootstrap/modal/index.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__models_photoedit_layerImageEffect__ = __webpack_require__("../../../../../src/app/models/photoedit/layerImageEffect.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__lib_image__ = __webpack_require__("../../../../../src/app/lib/image.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__commands_cmdExecuteImageAlgorithms__ = __webpack_require__("../../../../../src/app/commands/cmdExecuteImageAlgorithms.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__lib_imagealgorithm_morphology_imageAlgorithmErosionDelation__ = __webpack_require__("../../../../../src/app/lib/imagealgorithm/morphology/imageAlgorithmErosionDelation.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};











var FormErodeDilationComponent = /** @class */ (function () {
    function FormErodeDilationComponent(projectService, appService) {
        var _this = this;
        this._initialized = false;
        this._applyRed = true;
        this._applyGreen = true;
        this._applyBlue = true;
        this._processType = "Erosion";
        this.matrixSize = 3;
        this.submitted = false;
        this.callFunc = __WEBPACK_IMPORTED_MODULE_3__lib_callback__["a" /* Callback */].from(function () { _this.show(); });
        this._projectService = projectService;
        this._appService = appService;
        var layer = new __WEBPACK_IMPORTED_MODULE_7__models_photoedit_layerImageEffect__["a" /* LayerImageEffect */](new __WEBPACK_IMPORTED_MODULE_8__lib_image__["a" /* HImage */](320, 240));
        layer.whenCreatedGraphicsAgain = __WEBPACK_IMPORTED_MODULE_3__lib_callback__["a" /* Callback */].from(function () { layer.render(); });
        layer.resizedAgain = false;
        this._emptyEffectLayer = layer;
        this.effectLayer = this._emptyEffectLayer;
    }
    Object.defineProperty(FormErodeDilationComponent.prototype, "processType", {
        get: function () {
            return this._processType;
        },
        set: function (value) {
            this._processType = value;
            this.applyFilter(undefined);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(FormErodeDilationComponent.prototype, "applyBlue", {
        get: function () {
            return this._applyBlue;
        },
        set: function (value) {
            this._applyBlue = value;
            this.applyFilter(undefined);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(FormErodeDilationComponent.prototype, "applyGreen", {
        get: function () {
            return this._applyGreen;
        },
        set: function (value) {
            this._applyGreen = value;
            this.applyFilter(undefined);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(FormErodeDilationComponent.prototype, "applyRed", {
        get: function () {
            return this._applyRed;
        },
        set: function (value) {
            this._applyRed = value;
            this.applyFilter(undefined);
        },
        enumerable: true,
        configurable: true
    });
    FormErodeDilationComponent.prototype.ngOnInit = function () {
        __WEBPACK_IMPORTED_MODULE_1__lib_messageBus__["a" /* MessageBus */].subscribe(__WEBPACK_IMPORTED_MODULE_2__entities_message__["a" /* Message */].ShowFormErodeDilation, this.callFunc);
    };
    FormErodeDilationComponent.prototype.ngOnDestroy = function () {
        __WEBPACK_IMPORTED_MODULE_1__lib_messageBus__["a" /* MessageBus */].unsubscribe(__WEBPACK_IMPORTED_MODULE_2__entities_message__["a" /* Message */].ShowFormErodeDilation, this.callFunc);
    };
    FormErodeDilationComponent.prototype.onSubmit = function () {
        this.submitted = true;
    };
    FormErodeDilationComponent.prototype.ngAfterContentInit = function () {
    };
    FormErodeDilationComponent.prototype.show = function () {
        if (!this.smModal.isShown) {
            this.smModal.show();
            this.effectLayer = this._emptyEffectLayer;
            if (this._projectService.currentProject)
                if (this._projectService.currentProject.activeWorkspace && this._projectService.currentProject.activeWorkspace.layers.length > 0) {
                    var selectedLayer = this._projectService.currentProject.activeWorkspace.layers.find(function (p) { return p.isSelected; });
                    if (!selectedLayer) {
                        selectedLayer = this._projectService.currentProject.activeWorkspace.layers[0];
                    }
                    var layer_1 = new __WEBPACK_IMPORTED_MODULE_7__models_photoedit_layerImageEffect__["a" /* LayerImageEffect */](selectedLayer.getImage());
                    var rect = { width: 360, height: 320 };
                    var scaleX = rect.width / layer_1.width;
                    var scaleY = rect.height / layer_1.height;
                    if (scaleX < scaleY) {
                        layer_1.width = (layer_1.width * scaleX).extRound();
                        layer_1.height = (layer_1.height * scaleX).extRound();
                    }
                    else {
                        layer_1.width = (layer_1.width * scaleY).extRound();
                        layer_1.height = (layer_1.height * scaleY).extRound();
                    }
                    layer_1.whenCreatedGraphicsAgain = __WEBPACK_IMPORTED_MODULE_3__lib_callback__["a" /* Callback */].from(function () { layer_1.render(); });
                    layer_1.resizedAgain = false;
                    this.effectLayer = layer_1;
                    this._initialized = false;
                }
        }
    };
    Object.defineProperty(FormErodeDilationComponent.prototype, "layer", {
        get: function () {
            return this.effectLayer;
        },
        enumerable: true,
        configurable: true
    });
    FormErodeDilationComponent.prototype.calculateProcessType = function () {
        switch (this.processType) {
            case "Erosion": return __WEBPACK_IMPORTED_MODULE_10__lib_imagealgorithm_morphology_imageAlgorithmErosionDelation__["b" /* MorphologyProcessType */].Erosion;
            case "Dilation": return __WEBPACK_IMPORTED_MODULE_10__lib_imagealgorithm_morphology_imageAlgorithmErosionDelation__["b" /* MorphologyProcessType */].Dilation;
            case "Open": return __WEBPACK_IMPORTED_MODULE_10__lib_imagealgorithm_morphology_imageAlgorithmErosionDelation__["b" /* MorphologyProcessType */].Open;
            case "Closed": return __WEBPACK_IMPORTED_MODULE_10__lib_imagealgorithm_morphology_imageAlgorithmErosionDelation__["b" /* MorphologyProcessType */].Closed;
        }
        return __WEBPACK_IMPORTED_MODULE_10__lib_imagealgorithm_morphology_imageAlgorithmErosionDelation__["b" /* MorphologyProcessType */].Erosion;
    };
    FormErodeDilationComponent.prototype.applyFilter = function (event) {
        if (event)
            event.preventDefault();
        if (!this._initialized) {
            this.effectLayer.setOrgImage(this.effectLayer.getImage());
            this._initialized = true;
        }
        var originalImage = this.effectLayer.getOriginalImage();
        var effect = new __WEBPACK_IMPORTED_MODULE_10__lib_imagealgorithm_morphology_imageAlgorithmErosionDelation__["a" /* ImageAlgorithmErosionDelation */](this.calculateProcessType(), this.matrixSize, this.applyRed, this.applyGreen, this.applyBlue);
        if (effect) {
            var img = effect.process(originalImage);
            this.effectLayer.setImg(img);
        }
    };
    FormErodeDilationComponent.prototype.matrixSizeChanged = function (event) {
        this.matrixSize = Number(event.target.value);
        this.applyFilter(undefined);
    };
    FormErodeDilationComponent.prototype.close = function (event) {
        event.preventDefault();
        var algo = new __WEBPACK_IMPORTED_MODULE_10__lib_imagealgorithm_morphology_imageAlgorithmErosionDelation__["a" /* ImageAlgorithmErosionDelation */](this.calculateProcessType(), this.matrixSize, this.applyRed, this.applyGreen, this.applyBlue);
        if (algo) {
            var cmd = new __WEBPACK_IMPORTED_MODULE_9__commands_cmdExecuteImageAlgorithms__["a" /* CmdExecuteImageAlgorithms */]([algo], this._projectService, this._appService);
            cmd.executeAsync();
        }
        this.smModal.hide();
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])("smModal"),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_6_ngx_bootstrap_modal__["a" /* ModalDirective */])
    ], FormErodeDilationComponent.prototype, "smModal", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])("surfaceContainer"),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"])
    ], FormErodeDilationComponent.prototype, "surfaceDiv", void 0);
    FormErodeDilationComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'form-erodedilation',
            template: __webpack_require__("../../../../../src/app/components/form-erodedilation/form-erodedilation.component.html"),
            styles: [__webpack_require__("../../../../../src/app/components/form-erodedilation/form-erodedilation.component.scss")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_5__services_project_service__["a" /* ProjectService */], __WEBPACK_IMPORTED_MODULE_4__services_app_service__["a" /* AppService */]])
    ], FormErodeDilationComponent);
    return FormErodeDilationComponent;
}());



/***/ }),

/***/ "../../../../../src/app/components/form-googlefontload/form-googlefontload.component.html":
/***/ (function(module, exports) {

module.exports = "\n  <div  bsModal #smModal=\"bs-modal\" class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"mySmallModalLabel\" aria-hidden=\"true\">\n    <div  class=\"modal-dialog\" style=\"overflow-y: initial !important\">\n      <div ngDraggable [handle]=\"modalHeader\" class=\"modal-content\">\n        <div  #modalHeader  class=\"modal-header\">\n          <h6 class=\"modal-title pull-left unselectableText\">Font Loading</h6>\n          <button type=\"button\" class=\"close pull-right\" aria-label=\"Close\" (click)=\"smModal.hide()\">\n          <span aria-hidden=\"true\">&times;</span>\n        </button>\n        </div>\n        <div class=\"modal-body\" style=\"height:500px;overflow:hidden;color:black\">\n          <div class=\"container\">\n            <div class=\"row\">\n\n              <div class=\"col-md-8\">\n                <div class=\"container\">\n                  <div class=\"row\">\n                    <span class=\"white unselectableText\">Viewing {{ratioOfSearchToTotal}} </span>\n                    <input type=\"text\" class=\"form-control \" style=\"overflow: hidden; white-space: nowrap;\" placeholder=\"Enter sample text\" aria-describedby=\"sizing-addon2\"\n                      [(ngModel)]=\"sampleText\" style=\"margin-bottom:5px;\">\n                  </div>\n                </div>\n\n                <div class=\"container-fluid\" style=\"\">\n                  <div class=\"row\">\n\n                    <virtual-scroll [items]=\"googleFonts\" (update)=\"viewPortItems = $event\" (change)=\"onScrollFonts($event)\" style=\"width: 100%;height:400px\">\n\n                      <!--  <list-item *ngFor=\"let item of viewPortItems\">\n\n                      </list-item> -->\n                      <div *ngFor=\"let item of viewPortItems\" class=\"card\" style=\"margin-bottom:5px;margin-right:5px\">\n                        <div class=\"card-block\" style=\"padding:0.25rem\">\n                          <h6 class=\"card-title\">{{item}}</h6>\n                          <p class=\"card-text \" [style.font-family]=\"item\" style=\"font-size: large\">{{sampleText}}</p>\n                          <a href=\"#\" *ngIf=\"!userHasFont(item)\" class=\"btn btn-primary btn-sm\" style=\"font-size: 0.8rem\" (click)=\"addToMyFonts($event,item)\">Add to my fonts</a>\n                          <a href=\"#\" *ngIf=\"userHasFont(item)\" class=\"btn btn-primary btn-sm\" style=\"font-size: 0.8rem\" (click)=\"removeFromMyFonts($event,item)\">Remove from my fonts</a>\n                        </div>\n                      </div>\n\n                    </virtual-scroll>\n\n\n                  </div>\n                </div>\n\n              </div>\n\n              <div class=\"col-md-4 categories lineheightsmall\">\n                <div class=\"input-group input-group-sm\" style=\"margin-bottom: 5px\">\n\n                  <span class=\"input-group-addon proName\" tooltip=\"Search\" placement=\"right\">\n                    <i class=\"fa fa-search\"></i>\n                  </span>\n                  <input type=\"text\" keyboard (keyboardDown)=\"searchKeyDown($event)\" class=\"form-control \" style=\"overflow: hidden; white-space: nowrap;\"\n                    placeholder=\"Search font\" aria-describedby=\"sizing-addon2\" [(ngModel)]=\"searchFontName\">\n\n                </div>\n\n\n                <span class=\"white\" style=\"margin-bottom: 5px\">Categories</span>\n                <div class=\"input-group input-group-sm\" style=\"margin-bottom: 2px\">\n                  <span class=\"input-group-addon\">\n                    <input type=\"checkbox\" aria-label=\"Checkbox for following font family serif\" [(ngModel)]=\"isSerif\" > \n                    </span>\n                  <span class=\"white unselectableText\">Serif</span>\n\n                </div>\n\n                <div class=\"input-group input-group-sm\" style=\"margin-bottom: 2px\">\n                  <span class=\"input-group-addon\">\n                    <input type=\"checkbox\" aria-label=\"Checkbox for following font family sansserif\" [(ngModel)]=\"isSansSerif\">\n                    </span>\n                  <span class=\"white unselectableText\">Sans Serif</span>\n\n                </div>\n                <div class=\"input-group input-group-sm\" style=\"margin-bottom: 2px\">\n                  <span class=\"input-group-addon\">\n                    <input type=\"checkbox\" aria-label=\"Checkbox for following font family display\" [(ngModel)]=\"isDisplay\">\n                    </span>\n                  <span class=\"white unselectableText\">Display</span>\n\n                </div>\n                <div class=\"input-group input-group-sm\" style=\"margin-bottom: 2px\">\n                  <span class=\"input-group-addon\">\n                    <input type=\"checkbox\" aria-label=\"Checkbox for following font family handwriting\" [(ngModel)]=\"isHandwriting\">\n                    </span>\n                  <span class=\"white unselectableText\">Handwriting</span>\n\n                </div>\n                <div class=\"input-group input-group-sm\" style=\"margin-bottom: 2px\">\n                  <span class=\"input-group-addon\">\n                    <input type=\"checkbox\" aria-label=\"Checkbox for following font family monotspace\" [(ngModel)]=\"isMonospace\">\n                    </span>\n                  <span class=\"white unselectableText\">Monospace</span>\n\n                </div>\n                <div>\n                  <span class=\"white unselectableText\" style=\"margin-bottom: 5px\">Languages</span>\n                  <div class=\"input-group input-group-sm\">\n\n                    <autocomplete #autocomplete class=\"form-control  autoComplete\" [allowClear]=\"true\" [items]=\"languages\" (selected)=\"selected($event)\"\n                      [active]=\"currentLanguage()\" placeholder=\"No language selected\"></autocomplete>\n                  </div>\n                </div>\n\n              </div>\n\n\n            </div>\n\n\n\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n\n"

/***/ }),

/***/ "../../../../../src/app/components/form-googlefontload/form-googlefontload.component.scss":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, ".categories {\n  border-left-style: ridge;\n  border-left-width: 2px; }\n\n.white {\n  color: white; }\n", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/components/form-googlefontload/form-googlefontload.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FormGoogleFontloadComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__lib_messageBus__ = __webpack_require__("../../../../../src/app/lib/messageBus.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__entities_message__ = __webpack_require__("../../../../../src/app/entities/message.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__lib_callback__ = __webpack_require__("../../../../../src/app/lib/callback.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services_font_service__ = __webpack_require__("../../../../../src/app/services/font.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_app_service__ = __webpack_require__("../../../../../src/app/services/app.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__services_user_service__ = __webpack_require__("../../../../../src/app/services/user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_ngx_bootstrap_modal__ = __webpack_require__("../../../../ngx-bootstrap/modal/index.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__modulesext_autocomplete_autocomplete_component__ = __webpack_require__("../../../../../src/app/modulesext/autocomplete/autocomplete.component.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};









var FormGoogleFontloadComponent = /** @class */ (function () {
    function FormGoogleFontloadComponent(fontService, appService, userService) {
        var _this = this;
        this._languages = [];
        this._allLanguage = { id: "all", text: "All" };
        this.submitted = false;
        this._isSerif = false;
        this._isSansSerif = false;
        this._isDisplay = false;
        this._isHandwriting = false;
        this._isMonospace = false;
        this._lastSearchCount = 0;
        this._googleFontsLastSearched = [];
        //todo burası dil desteğine sahip olacak
        this.sampleText = "Sample text";
        this._fontService = fontService;
        this._appService = appService;
        this._userService = userService;
        this._allLanguage.text = "All"; //language change yapılacak
        this._currentLanguage = this._allLanguage;
        this._callbackWhenGoogleLanguagesGetted = __WEBPACK_IMPORTED_MODULE_3__lib_callback__["a" /* Callback */].from(function () { return _this.whenGoogleFontLanguagesGetted(); });
        this.callFunc = __WEBPACK_IMPORTED_MODULE_3__lib_callback__["a" /* Callback */].from(function () { return _this.show(); });
    }
    FormGoogleFontloadComponent.prototype.ngOnInit = function () {
        __WEBPACK_IMPORTED_MODULE_1__lib_messageBus__["a" /* MessageBus */].subscribe(__WEBPACK_IMPORTED_MODULE_2__entities_message__["a" /* Message */].ShowFormFontLoad, this.callFunc);
        __WEBPACK_IMPORTED_MODULE_1__lib_messageBus__["a" /* MessageBus */].subscribe(__WEBPACK_IMPORTED_MODULE_2__entities_message__["a" /* Message */].GoogleFontsLanguagesGetted, this._callbackWhenGoogleLanguagesGetted);
    };
    FormGoogleFontloadComponent.prototype.ngOnDestroy = function () {
        __WEBPACK_IMPORTED_MODULE_1__lib_messageBus__["a" /* MessageBus */].unsubscribe(__WEBPACK_IMPORTED_MODULE_2__entities_message__["a" /* Message */].ShowFormFontLoad, this.callFunc);
        __WEBPACK_IMPORTED_MODULE_1__lib_messageBus__["a" /* MessageBus */].unsubscribe(__WEBPACK_IMPORTED_MODULE_2__entities_message__["a" /* Message */].GoogleFontsLanguagesGetted, this._callbackWhenGoogleLanguagesGetted);
    };
    FormGoogleFontloadComponent.prototype.onSubmit = function () {
        this.submitted = true;
    };
    FormGoogleFontloadComponent.prototype.show = function () {
        if (!this.smModal.isShown) {
            var firstFonts = this._googleFontsLastSearched.slice(0, 5);
            this._fontService.loadGoogleFonts(firstFonts);
            this.smModal.show();
        }
    };
    FormGoogleFontloadComponent.prototype.whenGoogleFontLanguagesGetted = function () {
        var _this = this;
        this._fontService.googleLanguages().forEach(function (val, index, arr) {
            if (_this._languages.findIndex(function (elem, index, arr) { return elem.id === val.id; }) == -1)
                _this._languages.push({ id: val.id, text: val.text });
        });
        this.autocomplete.items = this._languages;
    };
    Object.defineProperty(FormGoogleFontloadComponent.prototype, "languages", {
        get: function () {
            var langs = [];
            // console.log('languages lenght:'+this._languages.length);
            var sortedItems = this._languages.sort(function (a, b) { return a.id.localeCompare(b.id); });
            langs.push(this._allLanguage);
            sortedItems.forEach(function (a) { return langs.push(a); });
            //sortedItems.forEach((a)=>{console.log(a.id)});
            return langs;
        },
        enumerable: true,
        configurable: true
    });
    FormGoogleFontloadComponent.prototype.currentLanguage = function () {
        var currents = [];
        currents.push(this._currentLanguage);
        return currents;
    };
    FormGoogleFontloadComponent.prototype.selected = function (value) {
        this._currentLanguage = value;
        this.search();
    };
    FormGoogleFontloadComponent.prototype.refreshValue = function (value) {
        this._currentLanguage = value;
    };
    Object.defineProperty(FormGoogleFontloadComponent.prototype, "isSerif", {
        get: function () {
            return this._isSerif;
        },
        set: function (val) {
            this._isSerif = val;
            this.search();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(FormGoogleFontloadComponent.prototype, "isSansSerif", {
        get: function () {
            return this._isSansSerif;
        },
        set: function (val) {
            this._isSansSerif = val;
            this.search();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(FormGoogleFontloadComponent.prototype, "isDisplay", {
        get: function () {
            return this._isDisplay;
        },
        set: function (val) {
            this._isDisplay = val;
            this.search();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(FormGoogleFontloadComponent.prototype, "isHandwriting", {
        get: function () {
            return this._isHandwriting;
        },
        set: function (val) {
            this._isHandwriting = val;
            this.search();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(FormGoogleFontloadComponent.prototype, "isMonospace", {
        get: function () {
            return this._isMonospace;
        },
        set: function (val) {
            this._isMonospace = val;
            this.search();
        },
        enumerable: true,
        configurable: true
    });
    FormGoogleFontloadComponent.prototype.search = function () {
        var familyNames = [];
        if (this.isSerif)
            familyNames.push("serif");
        if (this.isSansSerif)
            familyNames.push("sans-serif");
        if (this.isDisplay)
            familyNames.push("display");
        if (this.isHandwriting)
            familyNames.push("handwriting");
        if (this.isMonospace)
            familyNames.push("monospace");
        var items = this._fontService.searchGoogleFonts(this._currentLanguage.id, familyNames, this.searchFontName);
        this._lastSearchCount = items.length;
        var newList = [];
        items.forEach(function (val, index, arr) {
            //newList.push({familyName:val,source:"google",sampleText:this.sampleText});
            newList.push(val);
        });
        this._googleFontsLastSearched = newList;
        this._fontService.loadGoogleFonts(this._googleFontsLastSearched.slice(0, 5));
    };
    Object.defineProperty(FormGoogleFontloadComponent.prototype, "googleFonts", {
        get: function () {
            return this._googleFontsLastSearched;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(FormGoogleFontloadComponent.prototype, "ratioOfSearchToTotal", {
        get: function () {
            return this._lastSearchCount + "/" + this._fontService.totalSizeGooleFonts;
        },
        enumerable: true,
        configurable: true
    });
    FormGoogleFontloadComponent.prototype.searchKeyDown = function (event) {
        if (event.keyCode == 13)
            this.search();
        event.stopPropagation();
    };
    FormGoogleFontloadComponent.prototype.userHasFont = function (fontName) {
        return this._userService.hasFont(fontName, "google");
    };
    FormGoogleFontloadComponent.prototype.addToMyFonts = function (event, fontName) {
        event.preventDefault();
        this._userService.addFont(fontName, "google");
    };
    FormGoogleFontloadComponent.prototype.removeFromMyFonts = function (event, fontName) {
        event.preventDefault();
        this._userService.removeFont(fontName, "google");
    };
    FormGoogleFontloadComponent.prototype.onScrollFonts = function (event) {
        this._fontService.loadGoogleFonts(this._googleFontsLastSearched.slice(event.start, event.end));
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])("smModal"),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_7_ngx_bootstrap_modal__["a" /* ModalDirective */])
    ], FormGoogleFontloadComponent.prototype, "smModal", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])('autocomplete'),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_8__modulesext_autocomplete_autocomplete_component__["a" /* AutocompleteComponent */])
    ], FormGoogleFontloadComponent.prototype, "autocomplete", void 0);
    FormGoogleFontloadComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'formGoogleFontload-component',
            template: __webpack_require__("../../../../../src/app/components/form-googlefontload/form-googlefontload.component.html"),
            styles: [__webpack_require__("../../../../../src/app/components/form-googlefontload/form-googlefontload.component.scss")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_4__services_font_service__["a" /* FontService */], __WEBPACK_IMPORTED_MODULE_5__services_app_service__["a" /* AppService */], __WEBPACK_IMPORTED_MODULE_6__services_user_service__["a" /* UserService */]])
    ], FormGoogleFontloadComponent);
    return FormGoogleFontloadComponent;
}());



/***/ }),

/***/ "../../../../../src/app/components/form-grayscale/form-grayscale.component.html":
/***/ (function(module, exports) {

module.exports = "<div bsModal #smModal=\"bs-modal\" class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"mySmallModalLabel\" aria-hidden=\"true\">\n    <div class=\"modal-dialog\" style=\"overflow-y: initial !important\">\n      <div ngDraggable [handle]=\"modalHeader\" class=\"modal-content\" style=\"width:700px\">\n        <div #modalHeader class=\"modal-header unselectableText\">\n          <h6 class=\"modal-title pull-left\">Grayscale</h6>\n          <button type=\"button\" class=\"close pull-right\" aria-label=\"Close\" (click)=\"smModal.hide()\">\n                <span aria-hidden=\"true\">&times;</span>\n              </button>\n        </div>\n        <div class=\"modal-body unselectableText\" style=\"height:530px;overflow:hidden;color:black\">\n          <div class=\"container\">\n            <div class=\"row\">\n              <div class=\"col-md-8  imagecolumn\" #surfaceContainer>\n                <layer-component [surface]=\"layer\"></layer-component>\n              </div>\n  \n              <div class=\"col-md-4 effectscolumn filters\" style=\"height: 460px;overflow-y: auto\">\n                <ul class=\"list-group\">\n                    <li  *ngFor=\"let item of grayscaleVersions\" class=\"list-group-item list-group-item-action mouseover \" style=\"padding:0px;margin-bottom:5px\">\n                        <a href=\"#\" class=\"btn btn-primary btn-sm\" style=\"width:100%\" role=\"button\" (click)=\"applyGrayscale($event,item.id)\">\n                           {{item.name}}\n                        </a>\n      \n                      </li>\n                </ul>\n              </div>\n  \n  \n  \n            </div>\n            <div class=\"row\">\n              <div class=\"col-md-9\">\n              </div>\n              <div class=\"col-md-3\">\n                <label class=\"btn btn-primary btn-sm pull-right mt-2\" role=\"button\" (click)=\"close($event)\">\n                    Apply\n                  </label>\n              </div>\n            </div>\n  \n  \n  \n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  "

/***/ }),

/***/ "../../../../../src/app/components/form-grayscale/form-grayscale.component.scss":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/components/form-grayscale/form-grayscale.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FormGrayscaleComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__lib_messageBus__ = __webpack_require__("../../../../../src/app/lib/messageBus.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__entities_message__ = __webpack_require__("../../../../../src/app/entities/message.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__lib_callback__ = __webpack_require__("../../../../../src/app/lib/callback.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services_app_service__ = __webpack_require__("../../../../../src/app/services/app.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_project_service__ = __webpack_require__("../../../../../src/app/services/project.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_ngx_bootstrap_modal__ = __webpack_require__("../../../../ngx-bootstrap/modal/index.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__models_photoedit_layerImageEffect__ = __webpack_require__("../../../../../src/app/models/photoedit/layerImageEffect.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__lib_image__ = __webpack_require__("../../../../../src/app/lib/image.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__lib_imagealgorithm_imageAlgorithmGrayscale__ = __webpack_require__("../../../../../src/app/lib/imagealgorithm/imageAlgorithmGrayscale.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__entities_entityIdName__ = __webpack_require__("../../../../../src/app/entities/entityIdName.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__commands_cmdExecuteImageAlgorithms__ = __webpack_require__("../../../../../src/app/commands/cmdExecuteImageAlgorithms.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};












var FormGrayscaleComponent = /** @class */ (function () {
    function FormGrayscaleComponent(projectService, appService) {
        var _this = this;
        this._initialized = false;
        this.submitted = false;
        this._grayscaleVersions = [
            new __WEBPACK_IMPORTED_MODULE_10__entities_entityIdName__["a" /* EntityIdName */](1, "Version1"),
            new __WEBPACK_IMPORTED_MODULE_10__entities_entityIdName__["a" /* EntityIdName */](2, "Version2"),
            new __WEBPACK_IMPORTED_MODULE_10__entities_entityIdName__["a" /* EntityIdName */](3, "Version3"),
            new __WEBPACK_IMPORTED_MODULE_10__entities_entityIdName__["a" /* EntityIdName */](4, "Version4"),
            new __WEBPACK_IMPORTED_MODULE_10__entities_entityIdName__["a" /* EntityIdName */](5, "Version5"),
            new __WEBPACK_IMPORTED_MODULE_10__entities_entityIdName__["a" /* EntityIdName */](6, "Version6"),
            new __WEBPACK_IMPORTED_MODULE_10__entities_entityIdName__["a" /* EntityIdName */](7, "Version7"),
            new __WEBPACK_IMPORTED_MODULE_10__entities_entityIdName__["a" /* EntityIdName */](8, "Version8")
        ];
        this.callFunc = __WEBPACK_IMPORTED_MODULE_3__lib_callback__["a" /* Callback */].from(function () { _this.show(); });
        this._projectService = projectService;
        this._appService = appService;
        var layer = new __WEBPACK_IMPORTED_MODULE_7__models_photoedit_layerImageEffect__["a" /* LayerImageEffect */](new __WEBPACK_IMPORTED_MODULE_8__lib_image__["a" /* HImage */](320, 240));
        layer.whenCreatedGraphicsAgain = __WEBPACK_IMPORTED_MODULE_3__lib_callback__["a" /* Callback */].from(function () { layer.render(); });
        layer.resizedAgain = false;
        this._emptyEffectLayer = layer;
        this.effectLayer = this._emptyEffectLayer;
    }
    FormGrayscaleComponent.prototype.ngOnInit = function () {
        __WEBPACK_IMPORTED_MODULE_1__lib_messageBus__["a" /* MessageBus */].subscribe(__WEBPACK_IMPORTED_MODULE_2__entities_message__["a" /* Message */].ShowFormGrayscale, this.callFunc);
    };
    FormGrayscaleComponent.prototype.ngOnDestroy = function () {
        __WEBPACK_IMPORTED_MODULE_1__lib_messageBus__["a" /* MessageBus */].unsubscribe(__WEBPACK_IMPORTED_MODULE_2__entities_message__["a" /* Message */].ShowFormGrayscale, this.callFunc);
    };
    FormGrayscaleComponent.prototype.onSubmit = function () {
        this.submitted = true;
    };
    FormGrayscaleComponent.prototype.ngAfterContentInit = function () {
    };
    FormGrayscaleComponent.prototype.show = function () {
        if (!this.smModal.isShown) {
            this.smModal.show();
            this.effectLayer = this._emptyEffectLayer;
            if (this._projectService.currentProject)
                if (this._projectService.currentProject.activeWorkspace && this._projectService.currentProject.activeWorkspace.layers.length > 0) {
                    var selectedLayer = this._projectService.currentProject.activeWorkspace.layers.find(function (p) { return p.isSelected; });
                    if (!selectedLayer) {
                        selectedLayer = this._projectService.currentProject.activeWorkspace.layers[0];
                    }
                    var layer_1 = new __WEBPACK_IMPORTED_MODULE_7__models_photoedit_layerImageEffect__["a" /* LayerImageEffect */](selectedLayer.getImage());
                    var rect = { width: 360, height: 320 };
                    var scaleX = rect.width / layer_1.width;
                    var scaleY = rect.height / layer_1.height;
                    if (scaleX < scaleY) {
                        layer_1.width = (layer_1.width * scaleX).extRound();
                        layer_1.height = (layer_1.height * scaleX).extRound();
                    }
                    else {
                        layer_1.width = (layer_1.width * scaleY).extRound();
                        layer_1.height = (layer_1.height * scaleY).extRound();
                    }
                    layer_1.whenCreatedGraphicsAgain = __WEBPACK_IMPORTED_MODULE_3__lib_callback__["a" /* Callback */].from(function () { layer_1.render(); });
                    layer_1.resizedAgain = false;
                    this.effectLayer = layer_1;
                    this._initialized = false;
                }
        }
    };
    Object.defineProperty(FormGrayscaleComponent.prototype, "x", {
        get: function () {
            return this._grayscaleVersions;
            //return [1, 2, 3];
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(FormGrayscaleComponent.prototype, "grayscaleVersions", {
        get: function () {
            return this._grayscaleVersions;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(FormGrayscaleComponent.prototype, "layer", {
        get: function () {
            return this.effectLayer;
        },
        enumerable: true,
        configurable: true
    });
    FormGrayscaleComponent.prototype.applyGrayscale = function (event, versionId) {
        event.preventDefault();
        if (!this._initialized) {
            this.effectLayer.setOrgImage(this.effectLayer.getImage());
            this._initialized = true;
        }
        var originalImage = this.effectLayer.getOriginalImage();
        this._lastSelectedGrayscale = versionId;
        var effect = new __WEBPACK_IMPORTED_MODULE_9__lib_imagealgorithm_imageAlgorithmGrayscale__["a" /* ImageAlgorithmGrayscale */](versionId);
        var img = effect.process(originalImage);
        this.effectLayer.setImg(img);
    };
    FormGrayscaleComponent.prototype.close = function (event) {
        event.preventDefault();
        if (this._lastSelectedGrayscale) {
            var algo = new __WEBPACK_IMPORTED_MODULE_9__lib_imagealgorithm_imageAlgorithmGrayscale__["a" /* ImageAlgorithmGrayscale */](this._lastSelectedGrayscale);
            var cmd = new __WEBPACK_IMPORTED_MODULE_11__commands_cmdExecuteImageAlgorithms__["a" /* CmdExecuteImageAlgorithms */]([algo], this._projectService, this._appService);
            cmd.executeAsync();
        }
        this.smModal.hide();
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])("smModal"),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_6_ngx_bootstrap_modal__["a" /* ModalDirective */])
    ], FormGrayscaleComponent.prototype, "smModal", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])("surfaceContainer"),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"])
    ], FormGrayscaleComponent.prototype, "surfaceDiv", void 0);
    FormGrayscaleComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'form-grayscale',
            template: __webpack_require__("../../../../../src/app/components/form-grayscale/form-grayscale.component.html"),
            styles: [__webpack_require__("../../../../../src/app/components/form-grayscale/form-grayscale.component.scss")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_5__services_project_service__["a" /* ProjectService */], __WEBPACK_IMPORTED_MODULE_4__services_app_service__["a" /* AppService */]])
    ], FormGrayscaleComponent);
    return FormGrayscaleComponent;
}());



/***/ }),

/***/ "../../../../../src/app/components/form-new-image/form-new-image.component.html":
/***/ (function(module, exports) {

module.exports = "<div>\n  <div bsModal #smModal=\"bs-modal\" class=\"modal \" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"mySmallModalLabel\" aria-hidden=\"true\">\n    <div class=\"modal-dialog modal-sm\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header unselectableText\">\n          <h6 class=\"modal-title pull-left\">New Image</h6>\n          <button type=\"button\" class=\"close pull-right\" aria-label=\"Close\" (click)=\"smModal.hide()\">\n          <span aria-hidden=\"true\">&times;</span>\n        </button>\n\n        </div>\n        <div class=\"modal-body \">\n          <form novalidate [formGroup]=\"form\" (ngSubmit)=\"doSubmit($event)\">\n            <div class=\"container-fluid\">\n\n              <div class=\"row\">\n                <div class=\"col-3\">\n                  <label for=\"input-width\" class=\"col-form-label\">Width</label>\n                </div>\n                <div class=\"col-9\">\n                  <input  class=\"form-control\" formControlName=\"width\"  type=\"number\"  [(ngModel)]=\"width\" id=\"input-width\">\n\n                  <div class=\"error\" *ngIf=\"form.get('width').hasError('msg') \">\n                    {{validationMessages.error.msg}}\n                  </div>\n\n                </div>\n\n              </div>\n\n              <div class=\"row\">\n                <div class=\"col-3\">\n                  <label for=\"input-height\" class=\"col-form-label\">Height</label>\n                </div>\n                <div class=\"col-9\">\n                  <input class=\"form-control\" formControlName=\"height\" type=\"number\" [(ngModel)]=\"height\" id=\"input-height\">\n                   <div class=\"error\" *ngIf=\"form.get('height').hasError('msg') \">\n                    {{validationMessages.error.msg}}\n                  </div>\n                </div>\n              </div>\n              <div class=\"row\">\n                <span>        </span>\n              </div>\n              <div class=\"row justify-content-end spacer\">\n                <div class=\"col-7\">\n                </div>\n                <div class=\"col-5\">\n                  <button type=\"submit\" [disabled]=\"form.invalid\" class=\"btn btn-primary btn-sm btn-block \">   Ok  </button>\n                </div>\n              </div>\n\n            </div>\n\n          </form>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n"

/***/ }),

/***/ "../../../../../src/app/components/form-new-image/form-new-image.component.scss":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, ".ng-valid[required], .ng-valid.required {\n  border-left: 5px solid #42A948;\n  /* green */ }\n\n.ng-invalid:not(form) {\n  border-left: 5px solid #a94442;\n  /* red */ }\n\n.spacer {\n  margin-top: 10px;\n  /* define margin as you see fit */ }\n", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/components/form-new-image/form-new-image.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FormNewImageComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__services_app_service__ = __webpack_require__("../../../../../src/app/services/app.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_forms__ = __webpack_require__("../../../forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_ngx_bootstrap_modal__ = __webpack_require__("../../../../ngx-bootstrap/modal/index.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__lib_callback__ = __webpack_require__("../../../../../src/app/lib/callback.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__entities_message__ = __webpack_require__("../../../../../src/app/entities/message.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__lib_messageBus__ = __webpack_require__("../../../../../src/app/lib/messageBus.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__services_project_service__ = __webpack_require__("../../../../../src/app/services/project.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__services_validation_service__ = __webpack_require__("../../../../../src/app/services/validation.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__models_photoedit_workSpace__ = __webpack_require__("../../../../../src/app/models/photoedit/workSpace.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__models_photoedit_layerEmpty__ = __webpack_require__("../../../../../src/app/models/photoedit/layerEmpty.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};











var FormNewImageComponent = /** @class */ (function () {
    function FormNewImageComponent(fb, appService, projectService) {
        var _this = this;
        this.fb = fb;
        this.submitted = false;
        this.validationMessages = {
            error: {
                msg: 'Enter a valid number between 10-10000',
            }
        };
        this.callFunc = __WEBPACK_IMPORTED_MODULE_4__lib_callback__["a" /* Callback */].from(function () { return _this.show(); });
        this.width = 16 * 30;
        this.height = 9 * 30;
        this.projectService = projectService;
        this._appService = appService;
        this.formNewImage = fb.group({
            width: [this.width, __WEBPACK_IMPORTED_MODULE_8__services_validation_service__["a" /* ValidationService */].widthHeightValidator],
            height: [this.height, __WEBPACK_IMPORTED_MODULE_8__services_validation_service__["a" /* ValidationService */].widthHeightValidator]
        });
    }
    Object.defineProperty(FormNewImageComponent.prototype, "form", {
        get: function () {
            return this.formNewImage;
        },
        enumerable: true,
        configurable: true
    });
    FormNewImageComponent.prototype.ngOnInit = function () {
        __WEBPACK_IMPORTED_MODULE_6__lib_messageBus__["a" /* MessageBus */].subscribe(__WEBPACK_IMPORTED_MODULE_5__entities_message__["a" /* Message */].ShowFormNewImage, this.callFunc);
    };
    FormNewImageComponent.prototype.ngOnDestroy = function () {
        __WEBPACK_IMPORTED_MODULE_6__lib_messageBus__["a" /* MessageBus */].unsubscribe(__WEBPACK_IMPORTED_MODULE_5__entities_message__["a" /* Message */].ShowFormNewImage, this.callFunc);
    };
    FormNewImageComponent.prototype.onSubmit = function () {
        this.submitted = true;
    };
    FormNewImageComponent.prototype.show = function () {
        if (!this.smModal.isShown)
            this.smModal.show();
    };
    FormNewImageComponent.prototype.doSubmit = function (event) {
        if (this.formNewImage.valid) {
            var ws = new __WEBPACK_IMPORTED_MODULE_9__models_photoedit_workSpace__["a" /* Workspace */](this.width, this.height, this._appService, "new");
            var ly = new __WEBPACK_IMPORTED_MODULE_10__models_photoedit_layerEmpty__["a" /* LayerEmpty */]('image', this.width, this.height);
            ws.addLayer(ly);
            this.projectService.currentProject.addWorkspace(ws);
            this.smModal.hide();
        }
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_1__angular_core__["ViewChild"])("smModal"),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_3_ngx_bootstrap_modal__["a" /* ModalDirective */])
    ], FormNewImageComponent.prototype, "smModal", void 0);
    FormNewImageComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_1__angular_core__["Component"])({
            selector: 'formNewImage-component',
            template: __webpack_require__("../../../../../src/app/components/form-new-image/form-new-image.component.html"),
            styles: [__webpack_require__("../../../../../src/app/components/form-new-image/form-new-image.component.scss")],
            providers: []
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__angular_forms__["b" /* FormBuilder */], __WEBPACK_IMPORTED_MODULE_0__services_app_service__["a" /* AppService */], __WEBPACK_IMPORTED_MODULE_7__services_project_service__["a" /* ProjectService */]])
    ], FormNewImageComponent);
    return FormNewImageComponent;
}());

var validation = /** @class */ (function () {
    function validation() {
    }
    return validation;
}());


/***/ }),

/***/ "../../../../../src/app/components/form-oilpainting/form-oilpainting.component.html":
/***/ (function(module, exports) {

module.exports = "<div bsModal #smModal=\"bs-modal\" class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"mySmallModalLabel\" aria-hidden=\"true\">\n  <div class=\"modal-dialog\" style=\"overflow-y: initial !important\">\n    <div ngDraggable [handle]=\"modalHeader\" class=\"modal-content\" style=\"width:700px\">\n      <div #modalHeader class=\"modal-header unselectableText\">\n        <h6 class=\"modal-title pull-left\">Oil painting</h6>\n        <button type=\"button\" class=\"close pull-right\" aria-label=\"Close\" (click)=\"smModal.hide()\">\n          <span aria-hidden=\"true\">&times;</span>\n        </button>\n      </div>\n      <div class=\"modal-body unselectableText\" style=\"height:530;overflow:hidden;color:black\">\n        <div class=\"container \">\n          <div class=\"row\">\n            <div class=\"col-md-7  imagecolumn\" #surfaceContainer>\n              <layer-component [surface]=\"layer\"></layer-component>\n            </div>\n\n            <div class=\"col-md-5  effectscolumn\" style=\"height: 460px;overflow-y: auto\">\n              <div class=\"container-fluid\">\n\n                <div class=\"row\">\n                  <div class=\"col-md-5\">\n                    <label style=\"color:#f5f5f5;\" for=\"inlineFormCustomSelect\">Filter Size</label>\n                  </div>\n                  <div class=\"col-md-7\">\n                    <select class=\"custom-select mb-2 mr-sm-2 mb-sm-0 combobox\" id=\"inlineFormCustomSelect\" (change)=\"filterSizeChanged($event)\">\n                      <option value=\"3\">3</option>\n                      \n                      <option value=\"5\">5</option>\n                      \n                      <option value=\"7\">7</option>\n                      \n                      <option value=\"9\">9</option>\n                      <option value=\"11\">11</option>\n                    </select>\n                  </div>\n                </div>\n\n                <div class=\"row\">\n                    <div class=\"col-md-5\">\n                      <label class=\"mr-sm-2\" style=\"color:#f5f5f5;\" for=\"inlineFormCustomSelect\">Levels</label>\n                    </div>\n                    <div class=\"col-md-7\">\n                      <select class=\"custom-select mb-2 mr-sm-2 mb-sm-0 combobox\" id=\"inlineFormCustomSelect\" (change)=\"binSizeChanged($event)\">\n                        <option value=\"3\">3</option>\n                        <option value=\"4\">4</option>\n                        <option value=\"5\">5</option>\n                        <option value=\"6\">6</option>\n                        <option value=\"7\">7</option>\n                        <option value=\"8\">8</option>\n                        <option value=\"9\">9</option>\n                        <option value=\"10\">10</option>\n                        <option value=\"11\">11</option>\n                        <option value=\"12\">12</option>\n                        <option value=\"13\">13</option>\n                        <option value=\"14\">14</option>\n                        <option value=\"15\">15</option>\n                        <option value=\"16\">16</option>\n                        <option value=\"17\">17</option>\n                        <option value=\"18\">18</option>\n                        <option value=\"19\">19</option>\n                        <option value=\"20\">20</option>\n                        <option value=\"21\">21</option>\n                        <option value=\"22\">22</option>\n                        <option value=\"23\">23</option>\n                        <option value=\"24\">24</option>\n                        <option value=\"25\">25</option>\n                        <option value=\"26\">26</option>\n                        <option value=\"27\">27</option>\n                        <option value=\"28\">28</option>\n                        <option value=\"29\">29</option>\n                      </select>\n                    </div>\n                  </div>\n\n              </div>\n            </div>\n\n\n\n          </div>\n          <div class=\"row\">\n            <div class=\"col-md-9\">\n            </div>\n            <div class=\"col-md-3\">\n              <label class=\"btn btn-primary btn-sm pull-right mt-2\" role=\"button\" (click)=\"close($event)\">\n                Apply\n              </label>\n            </div>\n          </div>\n\n\n\n        </div>\n      </div>\n    </div>\n  </div>\n</div>"

/***/ }),

/***/ "../../../../../src/app/components/form-oilpainting/form-oilpainting.component.scss":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/components/form-oilpainting/form-oilpainting.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FormOilPaintingComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__lib_messageBus__ = __webpack_require__("../../../../../src/app/lib/messageBus.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__entities_message__ = __webpack_require__("../../../../../src/app/entities/message.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__lib_callback__ = __webpack_require__("../../../../../src/app/lib/callback.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services_app_service__ = __webpack_require__("../../../../../src/app/services/app.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_project_service__ = __webpack_require__("../../../../../src/app/services/project.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_ngx_bootstrap_modal__ = __webpack_require__("../../../../ngx-bootstrap/modal/index.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__models_photoedit_layerImageEffect__ = __webpack_require__("../../../../../src/app/models/photoedit/layerImageEffect.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__lib_image__ = __webpack_require__("../../../../../src/app/lib/image.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__commands_cmdExecuteImageAlgorithms__ = __webpack_require__("../../../../../src/app/commands/cmdExecuteImageAlgorithms.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__lib_imagealgorithm_imageAlgorithmOilPainting__ = __webpack_require__("../../../../../src/app/lib/imagealgorithm/imageAlgorithmOilPainting.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};











var FormOilPaintingComponent = /** @class */ (function () {
    function FormOilPaintingComponent(projectService, appService) {
        var _this = this;
        this._initialized = false;
        this.filterSize = 3;
        this.binSize = 3;
        this.submitted = false;
        this.callFunc = __WEBPACK_IMPORTED_MODULE_3__lib_callback__["a" /* Callback */].from(function () { _this.show(); });
        this._projectService = projectService;
        this._appService = appService;
        var layer = new __WEBPACK_IMPORTED_MODULE_7__models_photoedit_layerImageEffect__["a" /* LayerImageEffect */](new __WEBPACK_IMPORTED_MODULE_8__lib_image__["a" /* HImage */](320, 240));
        layer.whenCreatedGraphicsAgain = __WEBPACK_IMPORTED_MODULE_3__lib_callback__["a" /* Callback */].from(function () { layer.render(); });
        layer.resizedAgain = false;
        this._emptyEffectLayer = layer;
        this.effectLayer = this._emptyEffectLayer;
    }
    FormOilPaintingComponent.prototype.ngOnInit = function () {
        __WEBPACK_IMPORTED_MODULE_1__lib_messageBus__["a" /* MessageBus */].subscribe(__WEBPACK_IMPORTED_MODULE_2__entities_message__["a" /* Message */].ShowFormOilPainting, this.callFunc);
    };
    FormOilPaintingComponent.prototype.ngOnDestroy = function () {
        __WEBPACK_IMPORTED_MODULE_1__lib_messageBus__["a" /* MessageBus */].unsubscribe(__WEBPACK_IMPORTED_MODULE_2__entities_message__["a" /* Message */].ShowFormOilPainting, this.callFunc);
    };
    FormOilPaintingComponent.prototype.onSubmit = function () {
        this.submitted = true;
    };
    FormOilPaintingComponent.prototype.ngAfterContentInit = function () {
    };
    FormOilPaintingComponent.prototype.show = function () {
        if (!this.smModal.isShown) {
            this.smModal.show();
            this.effectLayer = this._emptyEffectLayer;
            if (this._projectService.currentProject)
                if (this._projectService.currentProject.activeWorkspace && this._projectService.currentProject.activeWorkspace.layers.length > 0) {
                    var selectedLayer = this._projectService.currentProject.activeWorkspace.layers.find(function (p) { return p.isSelected; });
                    if (!selectedLayer) {
                        selectedLayer = this._projectService.currentProject.activeWorkspace.layers[0];
                    }
                    var layer_1 = new __WEBPACK_IMPORTED_MODULE_7__models_photoedit_layerImageEffect__["a" /* LayerImageEffect */](selectedLayer.getImage());
                    var rect = { width: 360, height: 320 };
                    var scaleX = rect.width / layer_1.width;
                    var scaleY = rect.height / layer_1.height;
                    if (scaleX < scaleY) {
                        layer_1.width = (layer_1.width * scaleX).extRound();
                        layer_1.height = (layer_1.height * scaleX).extRound();
                    }
                    else {
                        layer_1.width = (layer_1.width * scaleY).extRound();
                        layer_1.height = (layer_1.height * scaleY).extRound();
                    }
                    layer_1.whenCreatedGraphicsAgain = __WEBPACK_IMPORTED_MODULE_3__lib_callback__["a" /* Callback */].from(function () { layer_1.render(); });
                    layer_1.resizedAgain = false;
                    this.effectLayer = layer_1;
                    this._initialized = false;
                }
        }
    };
    Object.defineProperty(FormOilPaintingComponent.prototype, "layer", {
        get: function () {
            return this.effectLayer;
        },
        enumerable: true,
        configurable: true
    });
    FormOilPaintingComponent.prototype.applyFilter = function (event) {
        var _this = this;
        if (event)
            event.preventDefault();
        if (!this._initialized) {
            this.effectLayer.setOrgImage(this.effectLayer.getImage());
            this._initialized = true;
        }
        var originalImage = this.effectLayer.getOriginalImage();
        var callback = __WEBPACK_IMPORTED_MODULE_3__lib_callback__["a" /* Callback */].from(function () {
            var effect = new __WEBPACK_IMPORTED_MODULE_10__lib_imagealgorithm_imageAlgorithmOilPainting__["a" /* ImageAlgorithmOilPainting */](_this.binSize, _this.filterSize);
            var img = effect.process(originalImage);
            _this.effectLayer.setImg(img);
        });
        this._appService.doBusyCallback(callback);
    };
    FormOilPaintingComponent.prototype.filterSizeChanged = function (event) {
        this.filterSize = Number(event.target.value);
        this.applyFilter(undefined);
    };
    FormOilPaintingComponent.prototype.binSizeChanged = function (event) {
        this.binSize = Number(event.target.value);
        this.applyFilter(undefined);
    };
    FormOilPaintingComponent.prototype.close = function (event) {
        event.preventDefault();
        var algo = new __WEBPACK_IMPORTED_MODULE_10__lib_imagealgorithm_imageAlgorithmOilPainting__["a" /* ImageAlgorithmOilPainting */](this.binSize, this.filterSize);
        var cmd = new __WEBPACK_IMPORTED_MODULE_9__commands_cmdExecuteImageAlgorithms__["a" /* CmdExecuteImageAlgorithms */]([algo], this._projectService, this._appService);
        cmd.executeAsync();
        this.smModal.hide();
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])("smModal"),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_6_ngx_bootstrap_modal__["a" /* ModalDirective */])
    ], FormOilPaintingComponent.prototype, "smModal", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])("surfaceContainer"),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"])
    ], FormOilPaintingComponent.prototype, "surfaceDiv", void 0);
    FormOilPaintingComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'form-oilpainting',
            template: __webpack_require__("../../../../../src/app/components/form-oilpainting/form-oilpainting.component.html"),
            styles: [__webpack_require__("../../../../../src/app/components/form-oilpainting/form-oilpainting.component.scss")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_5__services_project_service__["a" /* ProjectService */], __WEBPACK_IMPORTED_MODULE_4__services_app_service__["a" /* AppService */]])
    ], FormOilPaintingComponent);
    return FormOilPaintingComponent;
}());



/***/ }),

/***/ "../../../../../src/app/components/form-resize/form-resize.component.html":
/***/ (function(module, exports) {

module.exports = "<div>\n  <div bsModal #smModal=\"bs-modal\" class=\"modal \" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"mySmallModalLabel\" aria-hidden=\"true\">\n    <div class=\"modal-dialog modal-sm\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header unselectableText\">\n          <h6 class=\"modal-title pull-left\">Resize</h6>\n          <button type=\"button\" class=\"close pull-right\" aria-label=\"Close\" (click)=\"smModal.hide()\">\n          <span aria-hidden=\"true\">&times;</span>\n        </button>\n\n        </div>\n        <div class=\"modal-body \">\n          <form novalidate [formGroup]=\"Form\" (ngSubmit)=\"doSubmit($event)\">\n            <div class=\"container-fluid\">\n\n              <div class=\"row\">                \n                <div class=\"col-3\">\n                  <label for=\"input-width\" class=\"col-2 col-form-label\">Width</label>\n                </div>\n                <div class=\"col-9\">\n                  <input class=\"form-control\" formControlName=\"width\" type=\"number\" [value]=\"round(width)\" (input)=\"changeWidth($event.target.value)\" id=\"input-width\">\n                  <div class=\"error\" *ngIf=\"Form.get('width').hasError('msg') \">\n                    {{validationMessages.error.msg}}\n                  </div>\n                </div>\n              </div>\n\n              <div class=\"row\">\n                <div class=\"col-3\">\n                  <label for=\"input-height\" class=\"col-2 col-form-label\">Height</label>\n                </div>\n                <div class=\"col-9\">\n                  <input class=\"form-control\" formControlName=\"height\" type=\"number\" [value]=\"round(height)\" (input)=\"changeHeight($event.target.value)\" id=\"input-height\">\n                  <div class=\"error\" *ngIf=\"Form.get('height').hasError('msg') \">\n                    {{validationMessages.error.msg}}\n                  </div>\n                </div>\n              </div>\n\n              <div class=\"row justify-content-start align-items-center\">\n                <div class=\"col-5\">\n                  <label class=\"col-form-label\">Keep Ratio</label>\n                </div>\n                <div class=\"col-2\">\n                  <input type=\"checkbox\" formControlName=\"keepRatio\" class=\"form-control\" [(ngModel)]=\"keepRatio\">\n                </div>\n              </div>\n\n              <div class=\"row\">\n                <span>        </span>\n              </div>\n              <div class=\"row justify-content-end spacer\">\n                <div class=\"col-7\">\n                </div>\n                <div class=\"col-5\">\n                  <button type=\"submit\" [disabled]=\"Form.invalid\" class=\"btn btn-primary btn-sm btn-block \">Ok</button>\n                </div>\n              </div>\n\n            </div>\n\n          </form>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>"

/***/ }),

/***/ "../../../../../src/app/components/form-resize/form-resize.component.scss":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, ".ng-valid[required], .ng-valid.required {\n  border-left: 5px solid #42A948;\n  /* green */ }\n\n.ng-invalid:not(form) {\n  border-left: 5px solid #a94442;\n  /* red */ }\n\n.spacer {\n  margin-top: 10px;\n  /* define margin as you see fit */ }\n", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/components/form-resize/form-resize.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FormResizeComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__("../../../forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_ngx_bootstrap_modal__ = __webpack_require__("../../../../ngx-bootstrap/modal/index.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__lib_callback__ = __webpack_require__("../../../../../src/app/lib/callback.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__entities_message__ = __webpack_require__("../../../../../src/app/entities/message.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__lib_messageBus__ = __webpack_require__("../../../../../src/app/lib/messageBus.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__services_project_service__ = __webpack_require__("../../../../../src/app/services/project.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__services_validation_service__ = __webpack_require__("../../../../../src/app/services/validation.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__commands_cmdResizeWorkspace__ = __webpack_require__("../../../../../src/app/commands/cmdResizeWorkspace.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};









var FormResizeComponent = /** @class */ (function () {
    function FormResizeComponent(fb, projectService) {
        var _this = this;
        this.fb = fb;
        this.submitted = false;
        this.validationMessages = {
            error: {
                msg: 'Enter a valid number between 10-10000',
            }
        };
        this.callFunc = __WEBPACK_IMPORTED_MODULE_3__lib_callback__["a" /* Callback */].from(function () { return _this.show(); });
        this.width = 100;
        this.height = 100;
        this.scale = 1;
        this.keepRatio = true;
        this.projectService = projectService;
        this.formResize = this.fb.group({
            width: [this.width, __WEBPACK_IMPORTED_MODULE_7__services_validation_service__["a" /* ValidationService */].widthHeightValidator],
            height: [this.height, __WEBPACK_IMPORTED_MODULE_7__services_validation_service__["a" /* ValidationService */].widthHeightValidator],
            keepRatio: [this.keepRatio]
        });
    }
    Object.defineProperty(FormResizeComponent.prototype, "Form", {
        get: function () {
            return this.formResize;
        },
        enumerable: true,
        configurable: true
    });
    FormResizeComponent.prototype.ngOnInit = function () {
        //console.log("initializing subsribe");
        __WEBPACK_IMPORTED_MODULE_5__lib_messageBus__["a" /* MessageBus */].subscribe(__WEBPACK_IMPORTED_MODULE_4__entities_message__["a" /* Message */].ShowFormResize, this.callFunc);
    };
    FormResizeComponent.prototype.ngOnDestroy = function () {
        //console.log("uninitializing subsribe");
        __WEBPACK_IMPORTED_MODULE_5__lib_messageBus__["a" /* MessageBus */].unsubscribe(__WEBPACK_IMPORTED_MODULE_4__entities_message__["a" /* Message */].ShowFormResize, this.callFunc);
    };
    FormResizeComponent.prototype.onSubmit = function () {
        this.submitted = true;
    };
    FormResizeComponent.prototype.show = function () {
        if (!this.smModal.isShown) {
            if (this.projectService)
                if (this.projectService.currentProject)
                    if (this.projectService.currentProject.activeWorkspace) {
                        this.keepRatio = true;
                        this.width = this.projectService.currentProject.activeWorkspace.width;
                        this.height = this.projectService.currentProject.activeWorkspace.height;
                        this.scale = this.width / this.height;
                    }
            this.smModal.show();
        }
    };
    FormResizeComponent.prototype.doSubmit = function (event) {
        if (this.formResize.valid) {
            var cmd = new __WEBPACK_IMPORTED_MODULE_8__commands_cmdResizeWorkspace__["a" /* CmdResizeWorkspace */](this.projectService, this.width, this.height);
            cmd.executeAsync();
            this.smModal.hide();
        }
    };
    FormResizeComponent.prototype.changeWidth = function (value) {
        if (parseInt(value) > 10) {
            this.width = parseInt(value);
            if (this.keepRatio)
                this.height = this.width / this.scale;
        }
    };
    FormResizeComponent.prototype.changeHeight = function (value) {
        if (parseInt(value) > 10) {
            this.height = parseInt(value);
            if (this.keepRatio)
                this.width = this.height * this.scale;
        }
    };
    FormResizeComponent.prototype.round = function (value) {
        return Math.round(value);
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])("smModal"),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_2_ngx_bootstrap_modal__["a" /* ModalDirective */])
    ], FormResizeComponent.prototype, "smModal", void 0);
    FormResizeComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'formResize-component',
            template: __webpack_require__("../../../../../src/app/components/form-resize/form-resize.component.html"),
            styles: [__webpack_require__("../../../../../src/app/components/form-resize/form-resize.component.scss")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormBuilder */], __WEBPACK_IMPORTED_MODULE_6__services_project_service__["a" /* ProjectService */]])
    ], FormResizeComponent);
    return FormResizeComponent;
}());



/***/ }),

/***/ "../../../../../src/app/components/form-sample-images/form-sample-images.component.html":
/***/ (function(module, exports) {

module.exports = "<div bsModal #smModal=\"bs-modal\" class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"mySmallModalLabel\" aria-hidden=\"true\">\n  <div class=\"modal-dialog\" style=\"overflow-y: initial !important\">\n    <div ngDraggable [handle]=\"modalHeader \" class=\"modal-content\" style=\"width:450px\">\n      <div #modalHeader class=\"modal-header unselectableText\">\n        <h6 class=\"modal-title pull-left\">Sample images</h6>\n        <button type=\"button\" class=\"close pull-right \" aria-label=\"Close\" (click)=\"smModal.hide()\">\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n      </div>\n      <div class=\"modal-body\" >\n        <div style=\"height:450px;overflow-y:auto;color:black\">\n        <div class=\"container-fluid\">\n          <div class=\"row\">\n\n            <div *ngFor=\"let file of images\" class=\"text-center mouseoverhand sampleimagecontainer\">\n\n              \n                <img [src]=\"link(file)\" class=\"sampleimage\" width=\"160\" height=\"120\" alt=\"{{file}}\" (click)=\"loadFile(file)\">\n              \n            </div>\n          </div>\n\n          </div>\n\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n"

/***/ }),

/***/ "../../../../../src/app/components/form-sample-images/form-sample-images.component.scss":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, ".sampleimagecontainer {\n  margin: 5px;\n  background-color: white;\n  border: solid 2px white;\n  border-radius: 0.25rem; }\n\n.sampleimage {\n  margin: 5px; }\n", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/components/form-sample-images/form-sample-images.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FormSampleImagesComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__services_app_service__ = __webpack_require__("../../../../../src/app/services/app.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_ngx_bootstrap_modal__ = __webpack_require__("../../../../ngx-bootstrap/modal/index.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__lib_messageBus__ = __webpack_require__("../../../../../src/app/lib/messageBus.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__entities_message__ = __webpack_require__("../../../../../src/app/entities/message.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__lib_callback__ = __webpack_require__("../../../../../src/app/lib/callback.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_rxjs_add_operator_map__ = __webpack_require__("../../../../rxjs/_esm5/add/operator/map.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_rxjs_add_operator_catch__ = __webpack_require__("../../../../rxjs/_esm5/add/operator/catch.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__angular_http__ = __webpack_require__("../../../http/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__commands_cmdReadImageFromBufferorUrl__ = __webpack_require__("../../../../../src/app/commands/cmdReadImageFromBufferorUrl.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__services_project_service__ = __webpack_require__("../../../../../src/app/services/project.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};











var FormSampleImagesComponent = /** @class */ (function () {
    function FormSampleImagesComponent(http, projectService, appService) {
        var _this = this;
        this.callFunc = __WEBPACK_IMPORTED_MODULE_5__lib_callback__["a" /* Callback */].from(function (openAsWorkspace) { _this.show(openAsWorkspace); });
        this._http = http;
        this._projectService = projectService;
        this._appService = appService;
    }
    FormSampleImagesComponent.prototype.ngOnInit = function () {
        __WEBPACK_IMPORTED_MODULE_3__lib_messageBus__["a" /* MessageBus */].subscribe(__WEBPACK_IMPORTED_MODULE_4__entities_message__["a" /* Message */].ShowFormSampleImages, this.callFunc);
    };
    FormSampleImagesComponent.prototype.ngOnDestroy = function () {
        __WEBPACK_IMPORTED_MODULE_3__lib_messageBus__["a" /* MessageBus */].unsubscribe(__WEBPACK_IMPORTED_MODULE_4__entities_message__["a" /* Message */].ShowFormSampleImages, this.callFunc);
    };
    FormSampleImagesComponent.prototype.show = function (openAsWorkspace) {
        this._openAsWorkspace = openAsWorkspace;
        if (!this.smModal.isShown) {
            this.smModal.show();
        }
    };
    Object.defineProperty(FormSampleImagesComponent.prototype, "images", {
        get: function () {
            return ["city_320", "eagle_320", "flower_320", "love_320", "newyork_320", "sunset_320"];
        },
        enumerable: true,
        configurable: true
    });
    FormSampleImagesComponent.prototype.link = function (filename) {
        return "assets/samples/" + filename + ".jpg";
    };
    FormSampleImagesComponent.prototype.loadFile = function (filename) {
        //todo: on error what will we do
        var newFileName = filename.replace("320", "640") + ".jpg";
        var url = "assets/samples/" + newFileName;
        var cmd = new __WEBPACK_IMPORTED_MODULE_9__commands_cmdReadImageFromBufferorUrl__["a" /* CmdReadImageFromBufferorUrl */](url, filename, this._appService, this._projectService, this._openAsWorkspace);
        cmd.executeAsync();
        /*  this._http.get(url).subscribe((response)=> {
           if(response.status==200){
           let createWorkspace = this._projectService.currentProject.workspaces.length==0;
          let cmd= new CmdReadImageFromBuffer(response.arrayBuffer(),filename,this._projectService,createWorkspace);
          cmd.executeAsync();
           }else{
            MessageBus.publish(Message.ShowError,{msg: "Image could not load:"+ response.statusText});
           }
    
         },(error:any)=>{
            if(error.statusText)
              MessageBus.publish(Message.ShowError,{msg: "Image could not load:"+ error.statusText});
         }); */
        this.smModal.hide();
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_1__angular_core__["ViewChild"])("smModal"),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_2_ngx_bootstrap_modal__["a" /* ModalDirective */])
    ], FormSampleImagesComponent.prototype, "smModal", void 0);
    FormSampleImagesComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_1__angular_core__["Component"])({
            selector: 'form-sample-images',
            template: __webpack_require__("../../../../../src/app/components/form-sample-images/form-sample-images.component.html"),
            styles: [__webpack_require__("../../../../../src/app/components/form-sample-images/form-sample-images.component.scss")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_8__angular_http__["a" /* Http */], __WEBPACK_IMPORTED_MODULE_10__services_project_service__["a" /* ProjectService */], __WEBPACK_IMPORTED_MODULE_0__services_app_service__["a" /* AppService */]])
    ], FormSampleImagesComponent);
    return FormSampleImagesComponent;
}());



/***/ }),

/***/ "../../../../../src/app/components/form-shortcuts/form-shortcuts.component.html":
/***/ (function(module, exports) {

module.exports = "\n  <div bsModal #smModal=\"bs-modal\" class=\"modal \" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"mySmallModalLabel\" aria-hidden=\"true\">\n      <div class=\"modal-dialog modal-sm\" style=\"height:430px;width:450px;\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header \">\n            <h6 class=\"modal-title pull-left\">Shortcuts</h6>\n            <button type=\"button\" class=\"close pull-right\" aria-label=\"Close\" (click)=\"smModal.hide()\">\n            <span aria-hidden=\"true\">&times;</span>\n            </button>\n  \n          </div>\n          \n          <div class=\"modal-body\" style=\"max-height:500px;overflow:auto\" >\n           \n             \n              \n                  <div class=\"container-fluid\" *ngFor=\"let grObject of shortCutsList\" >\n                     <h6>{{grObject.name}}</h6>\n                    <div class=\"row \" style=\"font-size: small;padding-left:20px\" *ngFor=\"let shortcut of grObject.shortCuts\">\n                      <div class=\"col-6\" >\n                        <span>{{shortcut.desc}}</span>\n                      </div>\n                      <div class=\"col-6\">\n                          <span>{{createShortString(shortcut)}}</span>\n                        </div>\n                    </div>\n                  </div>\n                </div>\n  \n            \n          \n        </div>\n      </div>\n    </div>\n  \n  "

/***/ }),

/***/ "../../../../../src/app/components/form-shortcuts/form-shortcuts.component.scss":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/components/form-shortcuts/form-shortcuts.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FormShortcutsComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__services_keyboard_service__ = __webpack_require__("../../../../../src/app/services/keyboard.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ngx_bootstrap_modal__ = __webpack_require__("../../../../ngx-bootstrap/modal/index.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__lib_messageBus__ = __webpack_require__("../../../../../src/app/lib/messageBus.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__lib_callback__ = __webpack_require__("../../../../../src/app/lib/callback.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__entities_message__ = __webpack_require__("../../../../../src/app/entities/message.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var GroupedObject = /** @class */ (function () {
    /**
     *
     */
    function GroupedObject(name) {
        this.name = name;
        this.shortCuts = [];
    }
    return GroupedObject;
}());
var FormShortcutsComponent = /** @class */ (function () {
    function FormShortcutsComponent(keyboardService) {
        var _this = this;
        this.items = new Array();
        this.callFunc = __WEBPACK_IMPORTED_MODULE_3__lib_callback__["a" /* Callback */].from(function () { _this.show(); });
        //create shortcuts mapped list
        this.keyboardService = keyboardService;
    }
    FormShortcutsComponent.prototype.ngOnInit = function () {
        __WEBPACK_IMPORTED_MODULE_2__lib_messageBus__["a" /* MessageBus */].subscribe(__WEBPACK_IMPORTED_MODULE_5__entities_message__["a" /* Message */].ShowFormShortcuts, this.callFunc);
    };
    FormShortcutsComponent.prototype.ngOnDestroy = function () {
        __WEBPACK_IMPORTED_MODULE_2__lib_messageBus__["a" /* MessageBus */].unsubscribe(__WEBPACK_IMPORTED_MODULE_5__entities_message__["a" /* Message */].ShowFormShortcuts, this.callFunc);
    };
    Object.defineProperty(FormShortcutsComponent.prototype, "shortCutsList", {
        get: function () {
            if (this.items.length == 0) {
                this.initializeShortCuts();
            }
            return this.items;
        },
        enumerable: true,
        configurable: true
    });
    FormShortcutsComponent.prototype.initializeShortCuts = function () {
        this.keyboardService.shortcuts.reduce(function (prev, elem) {
            if (elem.category) {
                var index = prev.findIndex(function (val) { return val.name == elem.category; });
                if (index < 0) {
                    index = prev.length;
                    prev.push(new GroupedObject(elem.category));
                }
                prev[index].shortCuts.push(elem);
            }
            return prev;
        }, this.items);
    };
    FormShortcutsComponent.prototype.show = function () {
        if (!this.smModal.isShown) {
            this.smModal.show();
        }
    };
    FormShortcutsComponent.prototype.createShortString = function (shortCut) {
        if (shortCut) {
            var str = [];
            if (shortCut.isShift)
                str.push('Shift');
            if (shortCut.isCtrl)
                str.push('Ctrl');
            if (shortCut.isAlt)
                str.push('Alt');
            str.push(shortCut.key);
            return str.join("+");
        }
        return "";
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_4__angular_core__["ViewChild"])("smModal"),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1_ngx_bootstrap_modal__["a" /* ModalDirective */])
    ], FormShortcutsComponent.prototype, "smModal", void 0);
    FormShortcutsComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_4__angular_core__["Component"])({
            selector: 'form-shortcuts',
            template: __webpack_require__("../../../../../src/app/components/form-shortcuts/form-shortcuts.component.html"),
            styles: [__webpack_require__("../../../../../src/app/components/form-shortcuts/form-shortcuts.component.scss")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_0__services_keyboard_service__["a" /* KeyboardService */]])
    ], FormShortcutsComponent);
    return FormShortcutsComponent;
}());



/***/ }),

/***/ "../../../../../src/app/components/gradient/gradient.component.html":
/***/ (function(module, exports) {

module.exports = "<div  class=\"container-fluid no-gutters fontsmall  text-white\">\n\n  <div class=\"row no-gutters pt-1 lineheightsmall\">\n    <div class=\"col-md-4 \">\n      <label class=\"float-right pr-1\">Type</label>\n    </div>\n    <div class=\"col-md-8\">\n      <select #gradientTypeSelect (change)='gradientTypeChanged($event)'>\n        <option value=\"1\" [selected]='isgradientTypeSelected(1)'>Linear</option>\n        <option value=\"2\" [selected]='isgradientTypeSelected(2)'>Radial</option>\n      </select>\n    </div>\n\n  </div>\n  <div class=\"row no-gutters lineheightsmall\">\n    <div class=\"col-4\">\n      <label class=\"float-right pr-1\">Blend</label>\n    </div>\n    <div class=\"col-8\">\n      <select  (change)='blendModeChanged($event)'>\n        <option *ngFor=\"let item of blendModes\" value=\"{{item.id}}\" [selected]='isBlendModeSelected(item)' >{{item.name}}</option>\n\n      </select>\n    </div>\n  </div>\n\n  <div class=\"row no-gutters lineheightsmall\">\n      <div class=\"col-4\">\n        <label class=\"float-right pr-1\">Opacity</label>\n      </div>\n      <div class=\"col-8\">\n        <input type=\"number\" min=\"0\" max=\"100\" step=\"1\" value=\"100\" (input)='opacityChanged($event)'/>\n      </div>\n    </div>\n   \n    <div class=\"row ml-1 mb-1 mt-2\">\n        <div>\n            Colors            \n          </div>  \n          <div class=\"pl-1\" (click)=\"addNewStopColor()\">\n              <i class=\"fa fa-plus-circle\" aria-hidden=\"true\" tooltip=\"Add new color\" placement=\"right\"></i>\n          </div>   \n        \n    </div>\n    \n    <div class=\"row no-gutters lineheightsmall pt-1\" *ngFor=\"let item of colorStops\">\n        <div class=\"col-2 no-gutters pb-1 mouseoverhand mr-1\"  [style.background-color]='item.str' tooltip=\"Color {{item.str}}\" placement=\"right\" >\n  \n        </div>\n        <color-picker #foregroundpicker  [cpOutputFormat]=\"'rgba'\" [cpOKButton]=\"true\" [cpCancelButton]=\"true\"\n         (colorPickerChange)=\"changeColorStopValue($event,item)\" [cpAlphaChannel]='disabled'></color-picker>\n        \n        <div class=\"col-7 no-gutters\">\n            <input  placeholder=\"Stop position\" class=\"w-100\" type=\"number\" min=\"0\" max=\"100\" step=\"1\" value=\"{{item.nmb*100}}\" (input)='colorstopValueChanged($event,item)' tooltip=\"Stop position\" placement=\"right\"/>\n        </div>\n        <div class=\"col-2 no-gutters pl-1 mouseoverhand\" tooltip=\"Remove Color\" placement=\"right\" (click)=\"removeColorStop(item)\">\n            <i class=\"fa fa-minus-circle\" aria-hidden=\"true\"></i>\n        </div>\n      </div>\n\n\n    <div class=\"row no-gutters pt-1 pb-1\" (click)='showFormGradient()'>\n      <div>Gradient</div>\n      <div style=\"height:100px;\">\n        <canvas #render class=\"w-100 h-100\"></canvas>\n      </div>      \n\n    </div>\n   \n  \n</div>"

/***/ }),

/***/ "../../../../../src/app/components/gradient/gradient.component.scss":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/components/gradient/gradient.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return GradientComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__modulesext_color_picker_color_picker_directive__ = __webpack_require__("../../../../../src/app/modulesext/color-picker/color-picker.directive.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__entities_tuples__ = __webpack_require__("../../../../../src/app/entities/tuples.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__lib_draw_gradient__ = __webpack_require__("../../../../../src/app/lib/draw/gradient.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__lib_draw_rect__ = __webpack_require__("../../../../../src/app/lib/draw/rect.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__lib_graphics__ = __webpack_require__("../../../../../src/app/lib/graphics.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_app_service__ = __webpack_require__("../../../../../src/app/services/app.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__services_project_service__ = __webpack_require__("../../../../../src/app/services/project.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__commands_cmdShowFormGradient__ = __webpack_require__("../../../../../src/app/commands/cmdShowFormGradient.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__consts_blendModes__ = __webpack_require__("../../../../../src/app/consts/blendModes.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__lib_draw_gradient__ = __webpack_require__("../../../../../src/app/lib/draw/gradient.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};












var w = 10;
var GradientComponent = /** @class */ (function () {
    function GradientComponent(projectService, appService) {
        this.projectService = projectService;
        this.appService = appService;
        this.modelChanged = new __WEBPACK_IMPORTED_MODULE_9__angular_core__["EventEmitter"]();
        this._blendMode = 1;
        this.renderAgain = true;
        this.previousModel = undefined;
        this.model = undefined;
        this.blendModes = __WEBPACK_IMPORTED_MODULE_8__consts_blendModes__["a" /* BlendModes */].list();
    }
    GradientComponent.prototype.ngOnInit = function () {
        this.graphics = new __WEBPACK_IMPORTED_MODULE_4__lib_graphics__["a" /* Graphics */](this.canvas.nativeElement, this.canvas.nativeElement.width, this.canvas.nativeElement.height, 1);
        this.createPattern();
    };
    GradientComponent.prototype.ngAfterViewInit = function () {
    };
    GradientComponent.prototype.ngDestroy = function () {
    };
    GradientComponent.prototype.ngDoCheck = function () {
        if (this.colorpickerComponents)
            this.colorpickerComponents.forEach(function (item) {
                if (!item['isMouseAttached']) {
                    item.directiveElementRef.addEventListener('click', function () {
                        item.openDialog(item.directiveElementRef.style.backgroundColor);
                    });
                    item['isMouseAttached'] = true;
                }
            });
        if (this.model != this.ws.gradient)
            this.model = this.ws.gradient;
        this.render();
    };
    Object.defineProperty(GradientComponent.prototype, "blendMode", {
        get: function () {
            return this._blendMode;
        },
        set: function (value) {
            this._blendMode = value;
            this.renderAgain = true;
            this.render();
        },
        enumerable: true,
        configurable: true
    });
    GradientComponent.prototype.createGradientType = function (val) {
        var gradient = undefined;
        if (val == 1)
            gradient = new __WEBPACK_IMPORTED_MODULE_10__lib_draw_gradient__["a" /* LineerGradient */]();
        if (val == 2)
            gradient = new __WEBPACK_IMPORTED_MODULE_2__lib_draw_gradient__["b" /* RadialGradient */]();
        return gradient;
    };
    GradientComponent.prototype.createPattern = function () {
        var _this = this;
        var p = [255, 255, 255, 255, 180, 180, 180, 255];
        var a = [p[0], p[1], p[2], p[3]];
        var b = [p[4], p[5], p[6], p[7]];
        var array = [];
        var count = Math.round((1 < 5 ? (5 - 1) : 0) + 1);
        for (var xt = 0; xt < count; ++xt) {
            for (var x = 0; x < count; ++x) {
                a.forEach(function (item) { return array.push(item); });
            }
            for (var x = 0; x < count; ++x) {
                b.forEach(function (item) { return array.push(item); });
            }
        }
        for (var xt = 0; xt < count; ++xt) {
            for (var x = 0; x < count; ++x) {
                b.forEach(function (item) { return array.push(item); });
            }
            for (var x = 0; x < count; ++x) {
                a.forEach(function (item) { return array.push(item); });
            }
        }
        var data = new Uint8ClampedArray(array);
        var imageData = new ImageData(data, Math.sqrt(array.length / 4), Math.sqrt(array.length / 4));
        window.createImageBitmap(imageData).then(function (bitmap) {
            _this.backgroundpattern = _this.graphics.createPattern(bitmap, "");
            _this.render();
        }).catch(function (ex) {
        });
    };
    GradientComponent.prototype.render = function () {
        if (!this.model)
            return;
        if (this.renderAgain) {
            this.renderAgain = false;
            var w_1 = this.canvas.nativeElement.width;
            var h = this.canvas.nativeElement.height;
            this.graphics.clearRect(new __WEBPACK_IMPORTED_MODULE_3__lib_draw_rect__["a" /* Rect */](0, 0, w_1, h));
            if (this.backgroundpattern)
                this.graphics.fillRect(new __WEBPACK_IMPORTED_MODULE_3__lib_draw_rect__["a" /* Rect */](0, 0, w_1, h), this.backgroundpattern);
            var gradient = this.model;
            this.graphics.setBlendMode(gradient.blendMode);
            this.graphics.setGlobalAlpha(gradient.opacity);
            if (gradient instanceof __WEBPACK_IMPORTED_MODULE_10__lib_draw_gradient__["a" /* LineerGradient */]) {
                var brush_1 = this.graphics.createLinearGradient(0, h / 2, w_1, h / 2);
                gradient.colorStops.sort(function (a, b) { return a.nmb - b.nmb; }).forEach(function (cs) {
                    brush_1.addColorStop(cs.nmb, cs.str);
                });
                this.graphics.fillStyle(brush_1);
            }
            if (gradient instanceof __WEBPACK_IMPORTED_MODULE_2__lib_draw_gradient__["b" /* RadialGradient */]) {
                var brush_2 = this.graphics.createRadialGradient(w_1 / 2, h / 2, 0, w_1 / 2, h / 2, w_1 < h ? w_1 / 2 : h / 2);
                gradient.colorStops.sort(function (a, b) { return a.nmb - b.nmb; }).forEach(function (cs) {
                    brush_2.addColorStop(cs.nmb, cs.str);
                });
                this.graphics.fillStyle(brush_2);
            }
            this.graphics.fillRect(new __WEBPACK_IMPORTED_MODULE_3__lib_draw_rect__["a" /* Rect */](0, 0, w_1, h));
        }
    };
    GradientComponent.prototype.showFormGradient = function () {
        var cmd = new __WEBPACK_IMPORTED_MODULE_7__commands_cmdShowFormGradient__["a" /* CmdShowFormGradient */]();
        cmd.executeAsync();
    };
    GradientComponent.prototype.gradientTypeChanged = function (event) {
        var gradienttype = parseInt(event.target.value);
        if (this.previousModel) {
            var temp = this.model;
            this.model = this.previousModel;
            this.previousModel = temp;
            this.modelChanged.emit(this.model);
        }
        else {
            this.previousModel = this.model;
            this.model = this.createGradientType(gradienttype);
            this.modelChanged.emit(this.model);
        }
        this.renderAgain = true;
    };
    GradientComponent.prototype.blendModeChanged = function (event) {
        var blendmode = parseInt(event.target.value);
        this.blendMode = blendmode;
        this.model.blendMode = this.blendModes.find(function (p) { return p.id == blendmode; }).name;
        this.renderAgain = true;
        this.render();
    };
    GradientComponent.prototype.opacityChanged = function (event) {
        var opacity = parseInt(event.target.value);
        if (isNaN(opacity) || opacity === undefined || opacity == null)
            return;
        this.projectService.currentProject.activeWorkspace.gradient.opacity = opacity / 100;
        this.renderAgain = true;
        this.render();
    };
    GradientComponent.prototype.isgradientTypeSelected = function (val) {
        switch (val) {
            case 1: return this.model instanceof __WEBPACK_IMPORTED_MODULE_10__lib_draw_gradient__["a" /* LineerGradient */];
            case 2: return this.model instanceof __WEBPACK_IMPORTED_MODULE_2__lib_draw_gradient__["b" /* RadialGradient */];
        }
        return false;
    };
    GradientComponent.prototype.isBlendModeSelected = function (item) {
        if (!this.model)
            return false;
        return item.name == this.model.blendMode;
    };
    GradientComponent.prototype.colorstopValueChanged = function (event, item) {
        var value = parseInt(event.target.value);
        if (isNaN(value) || value === undefined || value == null)
            return;
        item.nmb = value / 100;
        this.renderAgain = true;
        this.render();
    };
    GradientComponent.prototype.calculateStopValue = function (item) {
        return item.nmb * 100;
    };
    Object.defineProperty(GradientComponent.prototype, "colorStops", {
        get: function () {
            if (!this.model || !this.model.colorStops)
                return [];
            return this.model.colorStops;
        },
        enumerable: true,
        configurable: true
    });
    GradientComponent.prototype.removeColorStop = function (item) {
        var index = this.model.colorStops.findIndex(function (p) { return p.str == item.str; });
        if (index > -1)
            this.model.colorStops.splice(index, 1);
        this.renderAgain = true;
    };
    GradientComponent.prototype.addNewStopColor = function () {
        this.model.colorStops.push(new __WEBPACK_IMPORTED_MODULE_1__entities_tuples__["a" /* TupleStringNumber */]('rgb(255,255,255)', 0));
    };
    GradientComponent.prototype.changeColorStopValue = function (event, item) {
        item.str = event;
        this.renderAgain = true;
        this.render();
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_9__angular_core__["ViewChild"])('render'),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_9__angular_core__["ElementRef"])
    ], GradientComponent.prototype, "canvas", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_9__angular_core__["Input"])('bindObject'),
        __metadata("design:type", Object)
    ], GradientComponent.prototype, "ws", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_9__angular_core__["Output"])(),
        __metadata("design:type", Object)
    ], GradientComponent.prototype, "modelChanged", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_9__angular_core__["ViewChildren"])(__WEBPACK_IMPORTED_MODULE_0__modulesext_color_picker_color_picker_directive__["a" /* ColorPickerComponent */]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_9__angular_core__["QueryList"])
    ], GradientComponent.prototype, "colorpickerComponents", void 0);
    GradientComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_9__angular_core__["Component"])({
            selector: 'gradient-component',
            template: __webpack_require__("../../../../../src/app/components/gradient/gradient.component.html"),
            styles: [__webpack_require__("../../../../../src/app/components/gradient/gradient.component.scss")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_6__services_project_service__["a" /* ProjectService */], __WEBPACK_IMPORTED_MODULE_5__services_app_service__["a" /* AppService */]])
    ], GradientComponent);
    return GradientComponent;
}());



/***/ }),

/***/ "../../../../../src/app/components/layer-color-properties/layer-color-properties.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"w-100 pl-1 pr-1 pt-1 pb-1\">\n  <div style=\"    border: solid 2px;\n  border-radius: 2px;\n  border-color: #303030;\">\n    <div class=\"input-group input-group-sm pl-1 \" style=\"width:100%\">\n\n\n      <label class=\"form-check-label d-block\">\n        <input class=\"form-check-input\" type=\"checkbox\" [checked]=\"hasBackground\" (change)=\"changeHasBackgroundColor($event)\" /> Background Color\n      </label>\n\n    </div>\n    <div class=\"input-group input-group-sm \" style=\"width:100%\">\n      <input [style.visibility]=\"disabledBackground?'hidden':'visible'\" spellcheck=\"false\" class=\"form-control\" [disabled]=\"disabledBackground\"\n        [style.background]=\"backgroundColor\" [value]=\"backgroundColor\" [style.color]=\"foregroundcolorBack\" (click)='openColorPickerBackground()'\n      />\n      <color-picker #colorpickerbackground [cpOutputFormat]=\"'rgba'\" [cpOKButton]=\"true\" [cpCancelButton]=\"true\" [cpPositionOffset]=\"0\"\n        [cpPosition]=\"'top'\" [cpAlphaChannel]=\"'hex8'\" [cpPositionRelativeToArrow]=\"false\" (colorPickerChange)=\"changeBackgroundColor($event)\"></color-picker>\n    </div>\n  </div>\n</div>\n\n\n  <div class=\"w-100 pl-1 pr-1 pt-1 pb-1\">\n    <div style=\" border: solid 2px;\n    border-radius: 2px;\n    border-color: #303030;\">\n      <div class=\"input-group input-group-sm pl-1\" style=\"width:100%\">\n\n\n        <label class=\"form-check-label d-block\">\n          <input class=\"form-check-input\" type=\"checkbox\" [checked]=\"hasForeground\" (change)=\"changeHasForegroundColor($event)\" /> Foreground Color\n        </label>\n\n      </div>\n      <div class=\"input-group input-group-sm \" style=\"width:100%\">\n        <input [style.visibility]=\"disabledForeground?'hidden':'visible'\" spellcheck=\"false\" class=\"form-control\" [disabled]=\"disabledForeground\"\n          [style.background]=\"foregroundColor\" [value]=\"foregroundColor\" [style.color]=\"foregroundcolorFore\" (click)='openColorPickerForeground()'\n        />\n        <color-picker #colorpickerforeground [cpOutputFormat]=\"'rgba'\" [cpOKButton]=\"true\" [cpCancelButton]=\"true\" [cpPositionOffset]=\"0\"\n          [cpPosition]=\"'top'\" [cpAlphaChannel]=\"'hex8'\" [cpPositionRelativeToArrow]=\"false\" (colorPickerChange)=\"changeForegroundColor($event)\"></color-picker>\n      </div>\n    </div>\n  </div>"

/***/ }),

/***/ "../../../../../src/app/components/layer-color-properties/layer-color-properties.component.scss":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, ".proName {\n  width: 40px; }\n", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/components/layer-color-properties/layer-color-properties.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LayerColorPropertiesComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__models_photoedit_layerGraphics__ = __webpack_require__("../../../../../src/app/models/photoedit/layerGraphics.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__modulesext_color_picker_index__ = __webpack_require__("../../../../../src/app/modulesext/color-picker/index.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var LayerColorPropertiesComponent = /** @class */ (function () {
    function LayerColorPropertiesComponent() {
    }
    LayerColorPropertiesComponent.prototype.ngOnInit = function () {
        this.colorBack = "rgba(0,0,0,1)";
        this.colorFore = "rgba(255,255,255,1)";
        this.foregroundcolorBack = this.calculateForegroundColor(this.colorBack);
        this.foregroundcolorFore = this.calculateForegroundColor(this.colorFore);
    };
    Object.defineProperty(LayerColorPropertiesComponent.prototype, "hasBackground", {
        get: function () {
            return !(this.layer.backgroundPattern === undefined);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(LayerColorPropertiesComponent.prototype, "hasForeground", {
        get: function () {
            return !(this.layer.foregroundPattern === undefined);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(LayerColorPropertiesComponent.prototype, "disabledBackground", {
        get: function () {
            return this.layer.backgroundPattern == undefined;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(LayerColorPropertiesComponent.prototype, "disabledForeground", {
        get: function () {
            return this.layer.foregroundPattern == undefined;
        },
        enumerable: true,
        configurable: true
    });
    LayerColorPropertiesComponent.prototype.changeHasBackgroundColor = function (event) {
        if (event.target.checked)
            this.layer.backgroundPattern = this.colorBack;
        else
            this.layer.backgroundPattern = undefined;
    };
    LayerColorPropertiesComponent.prototype.changeHasForegroundColor = function (event) {
        if (event.target.checked)
            this.layer.foregroundPattern = this.colorFore;
        else
            this.layer.foregroundPattern = undefined;
    };
    Object.defineProperty(LayerColorPropertiesComponent.prototype, "backgroundColor", {
        get: function () {
            if (this.layer.backgroundPattern)
                return this.layer.backgroundPattern;
            return "rgba(255,255,255,1)";
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(LayerColorPropertiesComponent.prototype, "foregroundColor", {
        get: function () {
            if (this.layer.foregroundPattern)
                return this.layer.foregroundPattern;
            return "rgba(255,255,255,1)";
        },
        enumerable: true,
        configurable: true
    });
    LayerColorPropertiesComponent.prototype.calculateForegroundColor = function (clr) {
        var temp = clr.replace("rgba(", "").replace("rgb(", "").replace(")", "");
        var rgba = temp.split(/,/);
        if (rgba.length >= 3) {
            var color = "rgba(";
            var r = parseInt(rgba[0]);
            if (Number.isInteger(r)) {
                color += (255 - r);
                var g = parseInt(rgba[1]);
                if (Number.isInteger(g)) {
                    color += "," + (255 - g);
                    var b = parseInt(rgba[2]);
                    if (Number.isInteger(b)) {
                        color += "," + (255 - b);
                    }
                    return color += ",1)";
                }
            }
        }
        return "rgba(255,0,255,1)";
    };
    LayerColorPropertiesComponent.prototype.changeBackgroundColor = function (val) {
        this.colorBack = val;
        this.layer.backgroundPattern = this.colorBack;
        this.foregroundcolorBack = this.calculateForegroundColor(this.colorBack);
    };
    LayerColorPropertiesComponent.prototype.openColorPickerBackground = function () {
        this.colorpickerBackground.openDialog(this.layer.backgroundPattern);
    };
    LayerColorPropertiesComponent.prototype.changeForegroundColor = function (val) {
        this.colorFore = val;
        this.layer.foregroundPattern = this.colorFore;
        this.foregroundcolorFore = this.calculateForegroundColor(this.colorFore);
    };
    LayerColorPropertiesComponent.prototype.openColorPickerForeground = function () {
        this.colorpickerForeground.openDialog(this.layer.foregroundPattern);
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1__models_photoedit_layerGraphics__["a" /* LayerGraphics */])
    ], LayerColorPropertiesComponent.prototype, "layer", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])('colorpickerbackground'),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_2__modulesext_color_picker_index__["a" /* ColorPickerComponent */])
    ], LayerColorPropertiesComponent.prototype, "colorpickerBackground", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])('colorpickerforeground'),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_2__modulesext_color_picker_index__["a" /* ColorPickerComponent */])
    ], LayerColorPropertiesComponent.prototype, "colorpickerForeground", void 0);
    LayerColorPropertiesComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'layer-color-properties',
            template: __webpack_require__("../../../../../src/app/components/layer-color-properties/layer-color-properties.component.html"),
            styles: [__webpack_require__("../../../../../src/app/components/layer-color-properties/layer-color-properties.component.scss")]
        }),
        __metadata("design:paramtypes", [])
    ], LayerColorPropertiesComponent);
    return LayerColorPropertiesComponent;
}());



/***/ }),

/***/ "../../../../../src/app/components/layer-properties/layer-properties.component.html":
/***/ (function(module, exports) {

module.exports = "<accordion *ngIf=\"hasSelectedLayer\">\n  <accordion-group  #basic [panelClass]=\"accordionClass\">\n    <div accordion-heading>\n      Basic\n      <i class=\"pull-right  float-xs-down fa\"\n      [ngClass]=\"{'fa-chevron-up': basic?.isOpen, 'fa-chevron-down': !basic?.isOpen}\"></i>\n    </div>\n    <div class=\"layersProperties\"> \n        <section class=\"layersSection\">\n          \n      \n      \n              <ul class=\"list-group\" >\n                <li class=\"list-group-item layersLi\" *ngIf=\"selectedLayer.isSelected\">\n      \n      \n                  <div class=\"laName\">{{selectedLayer.name}}</div>\n      \n      \n                  <div class=\"input-group input-group-sm\">\n                    <span class=\"input-group-addon proName\" tooltip=\"Width of layer\" placement=\"right\">W</span>\n      \n                    <input novalidate type=\"number\" class=\"form-control\" placeholder=\"Enter width of layer\" aria-describedby=\"sizing-addon2\" [value]=\"round(selectedLayer.width)\"\n                      min=\"10\" (input)=\"changeWidth($event.target.value,selectedLayer)\">\n                      <span class=\"input-group-addon proName\" tooltip=\"height of layer\" placement=\"right\">H</span>\n                      <input novalidate type=\"number\" class=\"form-control\" placeholder=\"Enter height of layer\" aria-describedby=\"sizing-addon2\" [value]=\"round(selectedLayer.height)\"\n                        min=\"10\" (input)=\"changeHeight($event.target.value,selectedLayer)\">\n                  </div>\n                  \n                  <div class=\"input-group input-group-sm\">\n                    <span class=\"input-group-addon proName\" tooltip=\"left of layer\" placement=\"right\">L</span>\n                    <input novalidate type=\"number\" class=\"form-control\" placeholder=\"Enter left of layer\" aria-describedby=\"sizing-addon2\" [value]=\"round(selectedLayer.rectRotated.x)\"\n                      (input)=\"changeLeft($event.target.value,selectedLayer)\">\n                      <span class=\"input-group-addon proName\" tooltip=\"top of layer\" placement=\"right\">T</span>\n                      <input novalidate type=\"number\" class=\"form-control\" placeholder=\"Enter top of selectedLayer\" aria-describedby=\"sizing-addon2\" [value]=\"round(selectedLayer.rectRotated.y)\"\n                        (input)=\"changeTop($event.target.value,selectedLayer)\">\n                  </div>\n                  \n                  <div class=\"input-group input-group-sm\">\n                    <span class=\"input-group-addon proName\" tooltip=\"rotate of layer\" placement=\"right\">R</span>\n                    <input novalidate type=\"number\" class=\"form-control\" placeholder=\"Enter rotate of layer\" aria-describedby=\"sizing-addon2\" [value]=\"selectedLayer.rotateAngleDeg\"\n                      min=\"-180\" max=\"180\" (input)=\"changeRotateAngle($event.target.value,selectedLayer)\">\n                      <span class=\"input-group-addon proName\" tooltip=\"Opacity of layer\" placement=\"right\">O</span>\n                      <input novalidate type=\"number\" class=\"form-control\" placeholder=\"Enter opacity of layer\" aria-describedby=\"sizing-addon2\" [value]=\"round(selectedLayer.globalAlpha*100)\"\n                        min=\"0\" max=\"100\" (input)=\"changeGlobalAlpha($event.target.value,selectedLayer)\">\n                  </div>\n                 \n      \n                  <div class=\"input-group input-group-sm\">\n      \n                    <span class=\"input-group-addon proName\" tooltip=\"Blend mode\" placement=\"right\">B</span>\n      \n                    <autocomplete class=\"form-control  autoComplete\" style=\"padding:0px\" [allowClear]=\"false\" [items]=\"blendModes\"  (data)=\"blendmodeRefreshValue($event,selectedLayer)\"\n                      (selected)=\"changeLayerBlendMode($event,selectedLayer)\"   [active]=\"getLayerBlendMode(selectedLayer)\"\n                      placeholder=\"No blend mode selected\"></autocomplete>\n                  </div>\n      \n                  <div class=\"input-group input-group-sm \">\n                    <label class=\"form-check-label\">\n                      <input class=\"form-check-input\" type=\"checkbox\" [(ngModel)]=\"selectedLayer.keepRatio\">\n                      Keep Ratio\n                    </label>\n                  \n      \n                  </div>\n                \n                  \n                   \n                </li>\n      \n              </ul>\n      \n           \n        </section>\n      </div>\n\n  </accordion-group>\n\n\n  <accordion-group *ngIf=\"isGraphicsLayer(selectedLayer)\" #text [panelClass]=\"accordionClass\">\n    <div accordion-heading>\n      Color\n      <i class=\"pull-right float-xs-down fa\"\n      [ngClass]=\"{'fa-chevron-up': text?.isOpen, 'fa-chevron-down': !text?.isOpen}\"></i>\n    </div>\n    \n    <layer-color-properties *ngIf=\"isGraphicsLayer(selectedLayer)\" class=\"layerGraphicsProperties\" [layer]=\"selectedLayer\"></layer-color-properties>\n\n  </accordion-group>\n\n  <accordion-group *ngIf=\"isTextLayer(selectedLayer)\" #text [panelClass]=\"accordionClass\">\n    <div accordion-heading>\n      Text\n      <i class=\"pull-right float-xs-down fa\"\n      [ngClass]=\"{'fa-chevron-up': text?.isOpen, 'fa-chevron-down': !text?.isOpen}\"></i>\n    </div>\n    <layer-text-properties *ngIf=\"isTextLayer(selectedLayer)\" class=\"layerTextProperties\" [layer]=\"selectedLayer\"></layer-text-properties>\n\n  </accordion-group>\n</accordion>\n\n\n"

/***/ }),

/***/ "../../../../../src/app/components/layer-properties/layer-properties.component.scss":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, ".layersProperties {\n  /* margin-top: 10px; */\n  background: -webkit-linear-gradient(top, white, #e6e5e5);\n  background-image: -webkit-linear-gradient(top, #615c5c, #887f7f); }\n\n.layersHeader {\n  line-height: 1rem;\n  color: #F5F5F5;\n  padding-left: 4px; }\n\n.layersLi {\n  background: -webkit-linear-gradient(top, white, #e6e5e5);\n  background-image: -webkit-linear-gradient(top, #646464, #947f7f); }\n\n.layerProperty {\n  margin-left: 0px !important; }\n\n.list-group-item {\n  padding: 5px;\n  white-space: nowrap; }\n\n.height30 {\n  height: 30px !important; }\n\n.laName {\n  margin-bottom: 10px; }\n\n.proName {\n  width: 25px;\n  font-size: 0.7rem;\n  font-weight: bold;\n  margin-top: 1px;\n  margin-bottom: 1px;\n  margin-left: 1px;\n  border: none; }\n\n.layerTextProperties {\n  display: inline-block;\n  position: relative;\n  width: 100%; }\n\n.layerGraphicsProperties {\n  display: inline-block;\n  position: relative;\n  width: 100%; }\n", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/components/layer-properties/layer-properties.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LayerPropertiesComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__consts_blendModes__ = __webpack_require__("../../../../../src/app/consts/blendModes.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__lib_extensions__ = __webpack_require__("../../../../../src/app/lib/extensions.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__lib_extensions___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__lib_extensions__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__services_project_service__ = __webpack_require__("../../../../../src/app/services/project.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__models_photoedit_layerText__ = __webpack_require__("../../../../../src/app/models/photoedit/layerText.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__models_photoedit_layerGraphics__ = __webpack_require__("../../../../../src/app/models/photoedit/layerGraphics.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__lib_callback__ = __webpack_require__("../../../../../src/app/lib/callback.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__models_photoedit_lib_calcLayer__ = __webpack_require__("../../../../../src/app/models/photoedit/lib/calcLayer.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var LayerPropertiesComponent = /** @class */ (function () {
    function LayerPropertiesComponent(projectService) {
        this.accordionClass = 'accordionClass';
        this.projectService = projectService;
        this.project = this.projectService.currentProject;
    }
    LayerPropertiesComponent.prototype.ngOnInit = function () {
    };
    LayerPropertiesComponent.prototype.changeRotateAngle = function (value, layer) {
        var val = parseInt(value);
        if (!isNaN(val) &&
            val <= 180 && val >= -180) {
            layer.rotateByDegrees(parseInt(value));
        }
    };
    LayerPropertiesComponent.prototype.changeWidth = function (value, layer) {
        var val = parseInt(value);
        if (!isNaN(val) && val > 10) {
            layer.setWidthHeight(parseInt(value), layer.height, __WEBPACK_IMPORTED_MODULE_6__lib_callback__["a" /* Callback */].from(function () { return layer.render(); }));
        }
    };
    LayerPropertiesComponent.prototype.changeHeight = function (value, layer) {
        var val = parseInt(value);
        if (!isNaN(val) && val > 10) {
            layer.setWidthHeight(layer.width, parseInt(value), __WEBPACK_IMPORTED_MODULE_6__lib_callback__["a" /* Callback */].from(function () { return layer.render(); }));
        }
    };
    LayerPropertiesComponent.prototype.changeTop = function (value, layer) {
        var val = parseInt(value);
        if (!isNaN(val)) {
            var point = __WEBPACK_IMPORTED_MODULE_7__models_photoedit_lib_calcLayer__["a" /* CalcLayer */].calculateTop(val, layer);
            layer.setLeft(point.x.extToInt32(), __WEBPACK_IMPORTED_MODULE_6__lib_callback__["a" /* Callback */].from(function () { return layer.render(); }));
            layer.setTop(point.y.extToInt32(), __WEBPACK_IMPORTED_MODULE_6__lib_callback__["a" /* Callback */].from(function () { return layer.render(); }));
        }
    };
    LayerPropertiesComponent.prototype.changeLeft = function (value, layer) {
        var val = parseInt(value);
        if (!isNaN(val)) {
            var point = __WEBPACK_IMPORTED_MODULE_7__models_photoedit_lib_calcLayer__["a" /* CalcLayer */].calculateLeft(val, layer);
            layer.setLeft(point.x.extToInt32(), __WEBPACK_IMPORTED_MODULE_6__lib_callback__["a" /* Callback */].from(function () { return layer.render(); }));
            layer.setTop(point.y.extToInt32(), __WEBPACK_IMPORTED_MODULE_6__lib_callback__["a" /* Callback */].from(function () { return layer.render(); }));
        }
    };
    LayerPropertiesComponent.prototype.round = function (value) {
        return value.extRound();
    };
    LayerPropertiesComponent.prototype.isTextLayer = function (layer) {
        return layer instanceof __WEBPACK_IMPORTED_MODULE_4__models_photoedit_layerText__["a" /* LayerText */];
    };
    LayerPropertiesComponent.prototype.isGraphicsLayer = function (layer) {
        return layer instanceof __WEBPACK_IMPORTED_MODULE_5__models_photoedit_layerGraphics__["a" /* LayerGraphics */];
    };
    LayerPropertiesComponent.prototype.changeGlobalAlpha = function (value, layer) {
        var val = parseInt(value);
        if (!isNaN(val)) {
            layer.globalAlpha = (val / 100);
            layer.render();
        }
    };
    Object.defineProperty(LayerPropertiesComponent.prototype, "blendModes", {
        get: function () {
            return __WEBPACK_IMPORTED_MODULE_0__consts_blendModes__["a" /* BlendModes */].orderedList().map(function (val) { return val.name; });
        },
        enumerable: true,
        configurable: true
    });
    LayerPropertiesComponent.prototype.changeLayerBlendMode = function (event, layer) {
        layer.blendMode = event.id;
    };
    LayerPropertiesComponent.prototype.blendmodeRefreshValue = function (event, layer) {
        layer.blendMode = (event.id);
    };
    LayerPropertiesComponent.prototype.getLayerBlendMode = function (layer) {
        var modes = [];
        modes.push({ id: layer.blendMode, text: layer.blendMode });
        return modes;
    };
    Object.defineProperty(LayerPropertiesComponent.prototype, "hasSelectedLayer", {
        get: function () {
            if (this.project && this.project.activeWorkspace) {
                return this.project.activeWorkspace.layers.findIndex(function (item) { return item.isSelected === true; }) > -1;
            }
            return false;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(LayerPropertiesComponent.prototype, "selectedLayer", {
        get: function () {
            if (this.project && this.project.activeWorkspace) {
                return this.project.activeWorkspace.layers.find(function (item) { return item.isSelected === true; });
            }
            return undefined;
        },
        enumerable: true,
        configurable: true
    });
    LayerPropertiesComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_1__angular_core__["Component"])({
            selector: 'layer-properties-component',
            template: __webpack_require__("../../../../../src/app/components/layer-properties/layer-properties.component.html"),
            styles: [__webpack_require__("../../../../../src/app/components/layer-properties/layer-properties.component.scss")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_3__services_project_service__["a" /* ProjectService */]])
    ], LayerPropertiesComponent);
    return LayerPropertiesComponent;
}());



/***/ }),

/***/ "../../../../../src/app/components/layer-selected/layer-selected.component.html":
/***/ (function(module, exports) {

module.exports = "\n\n\n\n\n<div  class=\"divSelectedLayer \"  left\n[style.width.px]='surface.selectPointwh * (whichMouseOver==1 ? 2:1)'\n[style.height.px]='surface.selectPointwh * (whichMouseOver==1 ? 2:1)'\n[style.margin-top.px]='left.y'\n[style.margin-left.px]='left.x'\n[ngClass]=\"selectedCss(1)\"\nmouse (mouseDown)=\"surface.mouseDownSelectedPoint($event,1)\"  (mouseOver)=\"mouseOver($event,1)\" (mouseLeave)=\"mouseLeave($event,1)\">\n</div>\n<!--<div *ngIf=\"surface.rotateAngleDeg==0\" class=\"divSelectedLayer \"  leftTop\n[style.width.px]='surface.selectPointwh * (whichMouseOver==2 ? 2:1)'\n[style.height.px]='surface.selectPointwh * (whichMouseOver==2 ? 2:1)'\n[style.margin-top.px]=\"leftTop.Y\"\n[style.margin-left.px]=\"leftTop.X\"\n[ngClass]=\"selectedCss(2)\"\nmouse (mouseDown)=\"surface.mouseDownSelectedPoint($event,2)\" (mouseOver)=\"mouseOver($event,2)\" (mouseLeave)=\"mouseLeave($event,2)\">\n</div>-->\n\n<div  class=\"divSelectedLayer \"   top\n[style.width.px]='surface.selectPointwh * (whichMouseOver==3 ? 2:1)'\n[style.height.px]='surface.selectPointwh * (whichMouseOver==3 ? 2:1)'\n[style.margin-top.px]=\"top.y\"\n[style.margin-left.px]=\"top.x\"\n[ngClass]=\"selectedCss(3)\"\nmouse (mouseDown)=\"surface.mouseDownSelectedPoint($event,3)\" (mouseOver)=\"mouseOver($event,3)\" (mouseLeave)=\"mouseLeave($event,3)\">\n</div>\n<!--<div  class=\"divSelectedLayer \"  rightTop\n[style.width.px]='surface.selectPointwh * (whichMouseOver==4 ? 2:1)'\n[style.height.px]='surface.selectPointwh * (whichMouseOver==4 ? 2:1)'\n[style.margin-top.px]=\"rightTop.Y\"\n[style.margin-left.px]=\"rightTop.X\"\n[ngClass]=\"selectedCss(4)\"\nmouse (mouseDown)=\"surface.mouseDownSelectedPoint($event,4)\" (mouseOver)=\"mouseOver($event,4)\" (mouseLeave)=\"mouseLeave($event,4)\">\n</div>-->\n\n<div  class=\"divSelectedLayer \"  right\n[style.width.px]='surface.selectPointwh * (whichMouseOver==5 ? 2:1)'\n[style.height.px]='surface.selectPointwh * (whichMouseOver==5 ? 2:1)'\n[style.margin-top.px]=\"right.y\"\n[style.margin-left.px]=\"right.x\"\n[ngClass]=\"selectedCss(5)\"\nmouse (mouseDown)=\"surface.mouseDownSelectedPoint($event,5)\" (mouseOver)=\"mouseOver($event,5)\" (mouseLeave)=\"mouseLeave($event,5)\">\n</div>\n<!--<div  class=\"divSelectedLayer \"  rightBottom\n[style.width.px]='surface.selectPointwh * (whichMouseOver==6 ? 2:1)'\n[style.height.px]='surface.selectPointwh * (whichMouseOver==6 ? 2:1)'\n[style.margin-top.px]=\"rightBottom.Y\"\n[style.margin-left.px]=\"rightBottom.X\"\n[ngClass]=\"selectedCss(6)\"\nmouse (mouseDown)=\"surface.mouseDownSelectedPoint($event,6)\" (mouseOver)=\"mouseOver($event,6)\" (mouseLeave)=\"mouseLeave($event,6)\">\n</div>-->\n\n\n<div  class=\"divSelectedLayer \"  bottom\n[style.width.px]='surface.selectPointwh * (whichMouseOver==7 ? 2:1)'\n[style.height.px]='surface.selectPointwh * (whichMouseOver==7 ? 2:1)'\n[style.margin-top.px]=\"bottom.y\"\n[style.margin-left.px]=\"bottom.x\"\n[ngClass]=\"selectedCss(7)\"\nmouse (mouseDown)=\"surface.mouseDownSelectedPoint($event,7)\" (mouseOver)=\"mouseOver($event,7)\" (mouseLeave)=\"mouseLeave($event,7)\">\n</div>\n\n\n\n<!--<div  class=\"divSelectedLayer \"  leftBottom\n[style.width.px]='surface.selectPointwh * (whichMouseOver==8 ? 2:1)'\n[style.height.px]='surface.selectPointwh * (whichMouseOver==8 ? 2:1)'\n[style.margin-top.px]='leftBottom.Y'\n[style.margin-left.px]=\"leftBottom.X\"\n[ngClass]=\"selectedCss(8)\"\nmouse (mouseDown)=\"surface.mouseDownSelectedPoint($event,8)\" (mouseOver)=\"mouseOver($event,8)\" (mouseLeave)=\"mouseLeave($event,8)\">\n</div>-->\n\n\n<div  *ngIf=\"surface.canRotate\" class=\"divSelectedLayer divRotate \"  rotate\n[style.width.px]='surface.selectPointwh * (whichMouseOver==9 ? 2:1)'\n[style.height.px]='surface.selectPointwh * (whichMouseOver==9 ? 2:1)'\n[style.margin-left.px]=\"rotate.x\"\n[style.margin-top.px]=\"rotate.y\"\nmouse (mouseDown)=\"surface.mouseDownSelectedPoint($event,9)\" (mouseOver)=\"mouseOver($event,9)\" (mouseLeave)=\"mouseLeave($event,9)\">\n\n</div>\n\n\n\n\n\n\n\n"

/***/ }),

/***/ "../../../../../src/app/components/layer-selected/layer-selected.component.scss":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, ".divSelectedLayer {\n  background: red;\n  /* For browsers that do not support gradients */\n  /* For Safari 5.1 to 6.0 */\n  /* For Opera 11.1 to 12.0 */\n  /* For Firefox 3.6 to 15 */\n  background: -webkit-gradient(linear, left top, left bottom, from(#01f7da), to(black));\n  background: linear-gradient(#01f7da, black);\n  /* Standard syntax */\n  position: absolute;\n  border-radius: 50%;\n  z-index: 200; }\n\n.divSelecRectangleLayer {\n  background: black;\n  /* For browsers that do not support gradients */\n  /* For Safari 5.1 to 6.0 */\n  /* For Opera 11.1 to 12.0 */\n  /* For Firefox 3.6 to 15 */\n  background: -webkit-gradient(linear, left top, left bottom, from(#01f7da), to(black));\n  background: linear-gradient(#01f7da, black);\n  /* Standard syntax */\n  border-radius: 20%;\n  position: absolute;\n  z-index: 200; }\n\n.cursornwse {\n  cursor: nwse-resize; }\n\n.cursornesw {\n  cursor: nesw-resize; }\n\n.cursorew {\n  cursor: ew-resize; }\n\n.cursorns {\n  cursor: ns-resize; }\n\n.divleftTop {\n  cursor: nwse-resize; }\n\n.divLeftBottom {\n  cursor: nesw-resize; }\n\n.divRightTop {\n  cursor: nesw-resize; }\n\n.divRightBottom {\n  cursor: nwse-resize; }\n\n.divLeft {\n  cursor: ew-resize; }\n\n.divRight {\n  cursor: ew-resize; }\n\n.divTop {\n  cursor: ns-resize; }\n\n.divBottom {\n  cursor: ns-resize; }\n\n.divRotate {\n  background: blueviolet;\n  /* For browsers that do not support gradients */\n  /* For Safari 5.1 to 6.0 */\n  /* For Opera 11.1 to 12.0 */\n  /* For Firefox 3.6 to 15 */\n  background: -webkit-gradient(linear, left top, left bottom, from(blueviolet), to(yellow));\n  background: linear-gradient(blueviolet, yellow);\n  /* Standard syntax */\n  position: absolute;\n  z-index: 200;\n  cursor: ew-resize; }\n", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/components/layer-selected/layer-selected.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LayerSelectedComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__models_photoedit_layer__ = __webpack_require__("../../../../../src/app/models/photoedit/layer.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__models_photoedit_layerSelect__ = __webpack_require__("../../../../../src/app/models/photoedit/layerSelect.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__lib_draw_point__ = __webpack_require__("../../../../../src/app/lib/draw/point.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__lib_hMath__ = __webpack_require__("../../../../../src/app/lib/hMath.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__models_photoedit_lib_rotationHelper__ = __webpack_require__("../../../../../src/app/models/photoedit/lib/rotationHelper.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var LayerSelectedComponent = /** @class */ (function () {
    function LayerSelectedComponent() {
    }
    LayerSelectedComponent.prototype.ngOnInit = function () {
    };
    LayerSelectedComponent.prototype.mouseOver = function (event, which) {
        //console.log("mouseover:"+which);
        this.whichMouseOver = which;
    };
    LayerSelectedComponent.prototype.mouseLeave = function (event, which) {
        this.whichMouseOver = 0;
    };
    Object.defineProperty(LayerSelectedComponent.prototype, "left", {
        get: function () {
            var y = (this.surface.height / 2) + (this.surface.marginTop);
            var x = this.surface.marginLeft;
            var wmouse = (this.whichMouseOver == 1 ? 2 : 1);
            var point = __WEBPACK_IMPORTED_MODULE_4__lib_hMath__["a" /* HMath */].rotatePoint(new __WEBPACK_IMPORTED_MODULE_3__lib_draw_point__["a" /* Point */](x, y), this.surface.rotateAngleDeg, new __WEBPACK_IMPORTED_MODULE_3__lib_draw_point__["a" /* Point */](this.surface.marginLeft + this.surface.width / 2, this.surface.marginTop + this.surface.height / 2));
            return new __WEBPACK_IMPORTED_MODULE_3__lib_draw_point__["a" /* Point */](point.x * this.surface.scale - (this.surface.selectPointwh * wmouse / 2), point.y * this.surface.scale - (this.surface.selectPointwh * wmouse / 2));
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(LayerSelectedComponent.prototype, "leftTop", {
        get: function () {
            var y = (this.surface.marginTop);
            var x = this.surface.marginLeft;
            var wmouse = (this.whichMouseOver == 2 ? 2 : 1);
            var point = __WEBPACK_IMPORTED_MODULE_4__lib_hMath__["a" /* HMath */].rotatePoint(new __WEBPACK_IMPORTED_MODULE_3__lib_draw_point__["a" /* Point */](x, y), this.surface.rotateAngleDeg, new __WEBPACK_IMPORTED_MODULE_3__lib_draw_point__["a" /* Point */](this.surface.marginLeft + this.surface.width / 2, this.surface.marginTop + this.surface.height / 2));
            return new __WEBPACK_IMPORTED_MODULE_3__lib_draw_point__["a" /* Point */](point.x * this.surface.scale - (this.surface.selectPointwh * wmouse / 2), point.y * this.surface.scale - (this.surface.selectPointwh * wmouse / 2));
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(LayerSelectedComponent.prototype, "top", {
        get: function () {
            var y = (this.surface.marginTop);
            var x = this.surface.marginLeft + (this.surface.width) / 2;
            var wmouse = (this.whichMouseOver == 3 ? 2 : 1);
            var point = __WEBPACK_IMPORTED_MODULE_4__lib_hMath__["a" /* HMath */].rotatePoint(new __WEBPACK_IMPORTED_MODULE_3__lib_draw_point__["a" /* Point */](x, y), this.surface.rotateAngleDeg, new __WEBPACK_IMPORTED_MODULE_3__lib_draw_point__["a" /* Point */](this.surface.marginLeft + this.surface.width / 2, this.surface.marginTop + this.surface.height / 2));
            return new __WEBPACK_IMPORTED_MODULE_3__lib_draw_point__["a" /* Point */](point.x * this.surface.scale - (this.surface.selectPointwh * wmouse / 2), point.y * this.surface.scale - (this.surface.selectPointwh * wmouse / 2));
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(LayerSelectedComponent.prototype, "rightTop", {
        get: function () {
            var y = (this.surface.marginTop);
            var x = this.surface.marginLeft + (this.surface.width);
            var wmouse = (this.whichMouseOver == 4 ? 2 : 1);
            var point = __WEBPACK_IMPORTED_MODULE_4__lib_hMath__["a" /* HMath */].rotatePoint(new __WEBPACK_IMPORTED_MODULE_3__lib_draw_point__["a" /* Point */](x, y), this.surface.rotateAngleDeg, new __WEBPACK_IMPORTED_MODULE_3__lib_draw_point__["a" /* Point */](this.surface.marginLeft + this.surface.width / 2, this.surface.marginTop + this.surface.height / 2));
            return new __WEBPACK_IMPORTED_MODULE_3__lib_draw_point__["a" /* Point */](point.x * this.surface.scale - (this.surface.selectPointwh * wmouse / 2), point.y * this.surface.scale - (this.surface.selectPointwh * wmouse / 2));
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(LayerSelectedComponent.prototype, "right", {
        get: function () {
            var y = (this.surface.marginTop) + (this.surface.height) / 2;
            var x = this.surface.marginLeft + (this.surface.width);
            var wmouse = (this.whichMouseOver == 5 ? 2 : 1);
            var point = __WEBPACK_IMPORTED_MODULE_4__lib_hMath__["a" /* HMath */].rotatePoint(new __WEBPACK_IMPORTED_MODULE_3__lib_draw_point__["a" /* Point */](x, y), this.surface.rotateAngleDeg, new __WEBPACK_IMPORTED_MODULE_3__lib_draw_point__["a" /* Point */](this.surface.marginLeft + this.surface.width / 2, this.surface.marginTop + this.surface.height / 2));
            return new __WEBPACK_IMPORTED_MODULE_3__lib_draw_point__["a" /* Point */](point.x * this.surface.scale - (this.surface.selectPointwh * wmouse / 2), point.y * this.surface.scale - (this.surface.selectPointwh * wmouse / 2));
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(LayerSelectedComponent.prototype, "rightBottom", {
        get: function () {
            var y = (this.surface.marginTop) + (this.surface.height);
            var x = this.surface.marginLeft + (this.surface.width);
            var wmouse = (this.whichMouseOver == 6 ? 2 : 1);
            var point = __WEBPACK_IMPORTED_MODULE_4__lib_hMath__["a" /* HMath */].rotatePoint(new __WEBPACK_IMPORTED_MODULE_3__lib_draw_point__["a" /* Point */](x, y), this.surface.rotateAngleDeg, new __WEBPACK_IMPORTED_MODULE_3__lib_draw_point__["a" /* Point */](this.surface.marginLeft + this.surface.width / 2, this.surface.marginTop + this.surface.height / 2));
            return new __WEBPACK_IMPORTED_MODULE_3__lib_draw_point__["a" /* Point */](point.x * this.surface.scale - (this.surface.selectPointwh * wmouse / 2), point.y * this.surface.scale - (this.surface.selectPointwh * wmouse / 2));
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(LayerSelectedComponent.prototype, "bottom", {
        get: function () {
            var y = (this.surface.marginTop) + (this.surface.height);
            var x = this.surface.marginLeft + (this.surface.width) / 2;
            var wmouse = (this.whichMouseOver == 7 ? 2 : 1);
            var point = __WEBPACK_IMPORTED_MODULE_4__lib_hMath__["a" /* HMath */].rotatePoint(new __WEBPACK_IMPORTED_MODULE_3__lib_draw_point__["a" /* Point */](x, y), this.surface.rotateAngleDeg, new __WEBPACK_IMPORTED_MODULE_3__lib_draw_point__["a" /* Point */](this.surface.marginLeft + this.surface.width / 2, this.surface.marginTop + this.surface.height / 2));
            return new __WEBPACK_IMPORTED_MODULE_3__lib_draw_point__["a" /* Point */](point.x * this.surface.scale - (this.surface.selectPointwh * wmouse / 2), point.y * this.surface.scale - (this.surface.selectPointwh * wmouse / 2));
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(LayerSelectedComponent.prototype, "leftBottom", {
        get: function () {
            var y = (this.surface.marginTop) + (this.surface.height);
            var x = this.surface.marginLeft;
            var wmouse = (this.whichMouseOver == 8 ? 2 : 1);
            var point = __WEBPACK_IMPORTED_MODULE_4__lib_hMath__["a" /* HMath */].rotatePoint(new __WEBPACK_IMPORTED_MODULE_3__lib_draw_point__["a" /* Point */](x, y), this.surface.rotateAngleDeg, new __WEBPACK_IMPORTED_MODULE_3__lib_draw_point__["a" /* Point */](this.surface.marginLeft + this.surface.width / 2, this.surface.marginTop + this.surface.height / 2));
            return new __WEBPACK_IMPORTED_MODULE_3__lib_draw_point__["a" /* Point */](point.x * this.surface.scale - (this.surface.selectPointwh * wmouse / 2), point.y * this.surface.scale - (this.surface.selectPointwh * wmouse / 2));
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(LayerSelectedComponent.prototype, "rotate", {
        get: function () {
            var y = (this.surface.marginTop + this.surface.height / 2);
            var x = this.surface.marginLeft + this.surface.width / 2;
            var wmouse = (this.whichMouseOver == 9 ? 2 : 1);
            var point = __WEBPACK_IMPORTED_MODULE_4__lib_hMath__["a" /* HMath */].rotatePoint(new __WEBPACK_IMPORTED_MODULE_3__lib_draw_point__["a" /* Point */](x, y), this.surface.rotateAngleDeg, new __WEBPACK_IMPORTED_MODULE_3__lib_draw_point__["a" /* Point */](this.surface.marginLeft + this.surface.width / 2, this.surface.marginTop + this.surface.height / 2));
            return new __WEBPACK_IMPORTED_MODULE_3__lib_draw_point__["a" /* Point */](point.x * this.surface.scale - (this.surface.selectPointwh * wmouse / 2), point.y * this.surface.scale - (this.surface.selectPointwh * wmouse / 2));
        },
        enumerable: true,
        configurable: true
    });
    LayerSelectedComponent.prototype.cssclass = function (val) {
        return "cursorns";
    };
    LayerSelectedComponent.prototype.selectedCss = function (val) {
        var classes = {
            divSelectedLayer: !(this.surface instanceof __WEBPACK_IMPORTED_MODULE_2__models_photoedit_layerSelect__["a" /* LayerSelect */]),
            divSelecRectangleLayer: (this.surface instanceof __WEBPACK_IMPORTED_MODULE_2__models_photoedit_layerSelect__["a" /* LayerSelect */]),
            cursornwse: false,
            cursornesw: false,
            cursorew: false,
            cursorns: false
        };
        this.calculateCursor(classes, val);
        return classes;
    };
    LayerSelectedComponent.prototype.calculateCursor = function (instance, val) {
        //console.log("Cursor:"+val);
        switch (val) {
            case 1: //left side
            case 5://right side
                __WEBPACK_IMPORTED_MODULE_5__models_photoedit_lib_rotationHelper__["a" /* RotationHelper */].calculateCursorLeftRight(instance, this.surface.rotateAngleDeg);
                break;
            case 3: //top side
            case 7://bottom side
                __WEBPACK_IMPORTED_MODULE_5__models_photoedit_lib_rotationHelper__["a" /* RotationHelper */].calculateCursorTopBottom(instance, this.surface.rotateAngleDeg);
                break;
            default: break;
        }
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1__models_photoedit_layer__["a" /* Layer */])
    ], LayerSelectedComponent.prototype, "surface", void 0);
    LayerSelectedComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'layer-selected',
            template: __webpack_require__("../../../../../src/app/components/layer-selected/layer-selected.component.html"),
            styles: [__webpack_require__("../../../../../src/app/components/layer-selected/layer-selected.component.scss")]
        }),
        __metadata("design:paramtypes", [])
    ], LayerSelectedComponent);
    return LayerSelectedComponent;
}());



/***/ }),

/***/ "../../../../../src/app/components/layer-text-properties/layer-text-properties.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"pl-1 pt-1 pb-1\">\n<div class=\"input-group input-group-sm\">\n  <span class=\"input-group-addon proName\" tooltip=\"Text of layer\" placement=\"right\">T</span>\n  <input type=\"text\" class=\"form-control \" keyboard (keyboardDown)=\"keyboardDown($event)\" style=\"overflow: hidden; white-space: nowrap;\" placeholder=\"Enter text\" aria-describedby=\"sizing-addon2\"\n    [value]=\"layer.text\" (input)=\"changeText($event.target.value,layer)\">\n</div>\n<div class=\"input-group input-group-sm\">\n\n  <span class=\"input-group-addon proName\" tooltip=\"Font\" placement=\"right\">F</span>\n\n  <autocomplete #fontchoice class=\"form-control  autoComplete\" style=\"padding:0px\" [allowClear]=\"false\" [items]=\"fontList\" [disabled]=\"disabled\" (data)=\"fontRefreshValue($event)\"\n    (selected)=\"fontSelected($event)\" (removed)=\"fontRemoved($event)\" (typed)=\"fontTyped($event)\" [active]=\"currentLayerFontFamily()\"\n    placeholder=\"No font selected\"></autocomplete>\n</div>\n\n<div class=\"input-group input-group-sm\">\n  <span class=\"input-group-addon proName\" tooltip=\"Fontsize\" placement=\"right\">FS</span>\n  <input novalidate type=\"number\" class=\"form-control\"  placeholder=\"Enter font size\" aria-describedby=\"sizing-addon2\" [value]=\"currentLayerFontSize()\"\n    min=\"0\" max=\"500\" (input)=\"changeFontSize($event.target.value)\">\n</div>\n\n\n<div class=\"input-group input-group-sm d-flex justify-content-start\" style=\"margin-top:5px\">\n\n  <label tooltip=\"Left alignment\"  placement=\"right\"  class=\"btn btn-primary btn-sm mouseoverhand \"  [ngClass]=\"isTextAlignmentH('left')?'active':''\"\n    (click)=\"changeTextAlignmentH('left')\"  >\n    <i class=\"fa fa-align-left\" aria-hidden=\"true\"></i>\n</label>\n  <label tooltip=\"Center alignment\"  placement=\"top\" class=\"btn btn-primary btn-sm mouseoverhand\"  [ngClass]=\"isTextAlignmentH('center')?'active':''\"\n     (click)=\"changeTextAlignmentH('center')\" >\n    <i class=\"fa fa-align-justify\" aria-hidden=\"true\"></i>\n</label>\n  <label  tooltip=\"Right alignment\"  placement=\"top\" class=\"btn btn-primary btn-sm mouseoverhand\"  [ngClass]=\"isTextAlignmentH('right')?'active':''\"\n    (click)=\"changeTextAlignmentH('right')\" >\n    <i class=\"fa fa-align-right\" aria-hidden=\"true\"></i>\n</label>\n\n</div>\n\n\n<div class=\"input-group input-group-sm d-flex justify-content-start\" style=\"margin-top:5px\">\n\n  <label class=\"btn btn-primary btn-sm mouseoverhand\" data-toggle=\"button\" [ngClass]=\"isTextAlignmentV('top')?'active':''\"\n   aria-pressed=\"isTextAlignmentV('top')\" (click)=\"changeTextAlignmentV('top')\" >\n   <i class=\"fa fa-angle-up\" aria-hidden=\"true\"></i>\n</label>\n  <label type=\"button\" class=\"btn btn-primary btn-sm mouseoverhand\"  [ngClass]=\"isTextAlignmentV('middle')?'active':''\"\n    aria-pressed=\"isTextAlignmentV('middle')\" (click)=\"changeTextAlignmentV('middle')\" >\n    <i class=\"fa fa-minus\" aria-hidden=\"true\"></i>\n</label>\n  <label type=\"button\" class=\"btn btn-primary btn-sm mouseoverhand\"  [ngClass]=\"isTextAlignmentV('bottom')?'active':''\"\n   aria-pressed=\"isTextAlignmentV('bottom')\" (click)=\"changeTextAlignmentV('bottom')\" >\n    <i class=\"fa fa-angle-down\" aria-hidden=\"true\"></i>\n</label>\n</div>\n\n\n<div class=\"input-group input-group-sm \">\n  <label class=\"form-check-label\">\n  <input type=\"checkbox\" class=\"form-check-input\" [value]=\"currentLayerIsBold()\" (change)=\"changeIsBold($event)\">\n  Bold\n  </label>\n</div>\n\n<div class=\"input-group \">\n  <label class=\"form-check-label\">\n    <input type=\"checkbox\" class=\"form-check-input\" [value]=\"currentLayerIsItalic()\" (change)=\"changeIsItalic($event)\">                \n   Italic\n  </label>\n</div>\n\n\n\n<div  class=\"w-100\">\n    <div style=\"border:solid 2px\">\n<div class=\"input-group input-group-sm \">\n  <label class=\"form-check-label\">\n    <input type=\"checkbox\" class=\"form-check-input\" [value]=\"isStroked\" (change)=\"changeIsStroked($event)\">                \n    Stroked\n  </label>\n</div>\n\n      <div *ngIf=\"isStroked\" class=\"input-group input-group-sm\">\n        <span class=\"input-group-addon proName\" tooltip=\"Stroke color\" placement=\"right\">SC</span>\n      \n       <input spellcheck=\"false\" class=\"form-control\" [style.background]=\"strokedColor\" [value]=\"strokedColor\"  \n        [style.color]=\"strokedcolorFore\" (click)=\"openstrokecolorPicker()\"     /> \n          <color-picker #strokecolorpicker [cpPosition]=\"'top'\" [cpOutputFormat]=\"'rgba'\" [cpOKButton]=\"true\" [cpCancelButton]=\"true\" [cpPositionOffset]=\"0\"\n          \n          [cpAlphaChannel]=\"'hex8'\" [cpPositionRelativeToArrow]=\"false\" (colorPickerChange)=\"strokedColorChanging($event)\">\n          </color-picker>\n      </div>\n    </div>\n</div>\n</div>\n"

/***/ }),

/***/ "../../../../../src/app/components/layer-text-properties/layer-text-properties.component.scss":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, ".height30 {\n  height: 30px !important; }\n\n.ngSelect {\n  width: 100% !important; }\n\n.proName {\n  width: 25px;\n  font-size: 0.7rem;\n  font-weight: bold;\n  margin-top: 1px;\n  margin-bottom: 1px;\n  margin-left: 1px;\n  border: none; }\n\n.autoComplete {\n  padding-left: 0;\n  padding-right: 0;\n  padding-top: 0;\n  padding-bottom: 0; }\n", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/components/layer-text-properties/layer-text-properties.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LayerTextPropertiesComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__models_photoedit_layerText__ = __webpack_require__("../../../../../src/app/models/photoedit/layerText.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__services_font_service__ = __webpack_require__("../../../../../src/app/services/font.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__services_user_service__ = __webpack_require__("../../../../../src/app/services/user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__modulesext_color_picker_index__ = __webpack_require__("../../../../../src/app/modulesext/color-picker/index.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__modulesext_autocomplete_index__ = __webpack_require__("../../../../../src/app/modulesext/autocomplete/index.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var LayerTextPropertiesComponent = /** @class */ (function () {
    function LayerTextPropertiesComponent(fontService, userService) {
        this._fontList = [];
        this.value = {};
        this._disabledV = '0';
        this.disabled = false;
        this._fontService = fontService;
        this._userService = userService;
    }
    LayerTextPropertiesComponent.prototype.ngOnInit = function () {
    };
    LayerTextPropertiesComponent.prototype.changeText = function (value, layer) {
        if (!value) {
            value = "";
        }
        layer.setText(value);
        this.colorFore = this.calculateForegroundColor(layer.color);
        this.strokedcolorFore = this.calculateForegroundColor(layer.strokedColor);
    };
    Object.defineProperty(LayerTextPropertiesComponent.prototype, "fontList", {
        get: function () {
            var _this = this;
            var items = [];
            this._fontService.genericFonts.forEach(function (val, index, arr) {
                if (_this._fontList.findIndex(function (p) { return p.id == val; }) < 0)
                    items.push({ id: val, fontFamily: val, text: val });
            });
            this._userService.extraFonts.forEach(function (val, index, arr) {
                if (_this._fontList.findIndex(function (p) { return p.id == val.familyName; }) < 0)
                    items.push({ id: val.familyName, fontFamily: val.familyName, text: val.familyName });
            });
            items.forEach(function (x) { return _this._fontList.push(x); });
            if (items.length > 0)
                this._fontService.loadGoogleFonts(this._userService.extraFonts.map(function (item) { return item.familyName; }));
            return this._fontList;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(LayerTextPropertiesComponent.prototype, "disabledV", {
        get: function () {
            return this._disabledV;
        },
        set: function (value) {
            this._disabledV = value;
            this.disabled = this._disabledV === '1';
        },
        enumerable: true,
        configurable: true
    });
    LayerTextPropertiesComponent.prototype.currentLayerFontFamily = function () {
        var fonts = [];
        fonts.push(this.layer.fontFamily);
        return fonts;
    };
    LayerTextPropertiesComponent.prototype.currentLayerFontSize = function () {
        return this.layer.fontSize;
    };
    LayerTextPropertiesComponent.prototype.currentLayerIsBold = function () {
        return this.layer.isBold;
    };
    LayerTextPropertiesComponent.prototype.currentLayerIsItalic = function () {
        return this.layer.isItalic;
    };
    LayerTextPropertiesComponent.prototype.changeIsItalic = function (value) {
        this.layer.setIsItalic(value.target.checked);
    };
    LayerTextPropertiesComponent.prototype.changeIsStroked = function (value) {
        this.layer.setIsStroked(value.target.checked);
    };
    Object.defineProperty(LayerTextPropertiesComponent.prototype, "isStroked", {
        get: function () {
            return this.layer.isStroked;
        },
        enumerable: true,
        configurable: true
    });
    LayerTextPropertiesComponent.prototype.changeIsBold = function (value) {
        this.layer.setIsBold(value.target.checked);
    };
    LayerTextPropertiesComponent.prototype.changeFontSize = function (value) {
        if (parseInt(value))
            this.layer.setFontSize(parseInt(value));
    };
    LayerTextPropertiesComponent.prototype.fontSelected = function (value) {
        this.layer.setFontFamily(value.id);
    };
    LayerTextPropertiesComponent.prototype.fontRemoved = function (value) {
        // console.log('Removed value is: ', value);
    };
    LayerTextPropertiesComponent.prototype.fontTyped = function (value) {
        // console.log('New search input: ', value);
    };
    LayerTextPropertiesComponent.prototype.fontRefreshValue = function (value) {
        this.value = value;
    };
    Object.defineProperty(LayerTextPropertiesComponent.prototype, "color", {
        get: function () {
            return this.layer.color;
        },
        set: function (value) {
            this.layer.setColor(value);
            this.colorFore = this.calculateForegroundColor(value);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(LayerTextPropertiesComponent.prototype, "strokedColor", {
        get: function () {
            return this.layer.strokedColor;
        },
        set: function (value) {
            this.layer.setStrokedColor(value);
            this.strokedcolorFore = this.calculateForegroundColor(value);
        },
        enumerable: true,
        configurable: true
    });
    LayerTextPropertiesComponent.prototype.colorChanging = function (value) {
        this.color = value;
    };
    LayerTextPropertiesComponent.prototype.strokedColorChanging = function (value) {
        this.strokedColor = value;
    };
    LayerTextPropertiesComponent.prototype.calculateForegroundColor = function (color) {
        var temp = color.replace("rgba(", "").replace("rgb(", "").replace(")", "");
        var rgba = temp.split(/,/);
        if (rgba.length >= 3) {
            var temp_1 = "rgba(";
            var r = parseInt(rgba[0]);
            if (Number.isInteger(r)) {
                temp_1 += (255 - r);
                var g = parseInt(rgba[1]);
                if (Number.isInteger(g)) {
                    temp_1 += "," + (255 - g);
                    var b = parseInt(rgba[2]);
                    if (Number.isInteger(b)) {
                        temp_1 += "," + (255 - b);
                    }
                    return temp_1 += ",1)";
                }
            }
        }
        return "rgba(255,0,255,1)";
    };
    LayerTextPropertiesComponent.prototype.keyboardDown = function (event) {
        if (event.keyCode == 13) {
            this.layer.setText(this.layer.text + "\n");
            event.stopPropagation();
        }
    };
    LayerTextPropertiesComponent.prototype.changeTextAlignmentH = function (val) {
        //["left" , "right" , "center" , ]
        this.layer.setTextAlignH(val);
    };
    LayerTextPropertiesComponent.prototype.isTextAlignmentH = function (val) {
        return this.layer.textAlignH == val;
    };
    LayerTextPropertiesComponent.prototype.changeTextAlignmentV = function (val) {
        //["top" , "middle" , "bottom" ,]
        this.layer.setTextAlignV(val);
    };
    LayerTextPropertiesComponent.prototype.isTextAlignmentV = function (val) {
        return this.layer.textAlignV == val;
    };
    LayerTextPropertiesComponent.prototype.openforecolorPicker = function () {
        this.forecolorpicker.openDialog(this.color, false);
    };
    LayerTextPropertiesComponent.prototype.openstrokecolorPicker = function () {
        this.strokcolorpicker.openDialog(this.strokedColor, false);
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1__models_photoedit_layerText__["a" /* LayerText */])
    ], LayerTextPropertiesComponent.prototype, "layer", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])('forecolorpicker'),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_4__modulesext_color_picker_index__["a" /* ColorPickerComponent */])
    ], LayerTextPropertiesComponent.prototype, "forecolorpicker", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])('strokecolorpicker'),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_4__modulesext_color_picker_index__["a" /* ColorPickerComponent */])
    ], LayerTextPropertiesComponent.prototype, "strokcolorpicker", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])('fontchoice'),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_5__modulesext_autocomplete_index__["b" /* AutocompleteComponent */])
    ], LayerTextPropertiesComponent.prototype, "fontchoice", void 0);
    LayerTextPropertiesComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'layer-text-properties',
            template: __webpack_require__("../../../../../src/app/components/layer-text-properties/layer-text-properties.component.html"),
            styles: [__webpack_require__("../../../../../src/app/components/layer-text-properties/layer-text-properties.component.scss")],
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__services_font_service__["a" /* FontService */], __WEBPACK_IMPORTED_MODULE_3__services_user_service__["a" /* UserService */]])
    ], LayerTextPropertiesComponent);
    return LayerTextPropertiesComponent;
}());



/***/ }),

/***/ "../../../../../src/app/components/layer/layer.component.html":
/***/ (function(module, exports) {

module.exports = "\n<canvas [attr.id]=\"surface.uuid\" #renderCanvas class=\"clayer\"\n[(style.margin-left.px)]=\"surface.marginLeft*surface.scale\"\n[(style.margin-top.px)]=\"surface.marginTop*surface.scale\"\n[(attr.width)]=\"surface.width\"\n[(style.width.px)]=\"surface.width*surface.scale\"\n[(attr.height)]=\"surface.height\"\n[(style.height.px)]=\"surface.height*surface.scale\"\n[(style.transform)]=\"surface.transform\"\n[(style.mix-blend-mode)]=\"surface.blendMode\"\n[(style.opacity)]=\"surface.globalAlpha\"\n[ngClass]=\"surface.classes\">\n\n\n</canvas>\n<layer-selected *ngIf=\"showSelected()\" [surface]=\"surface\">\n</layer-selected>\n\n\n"

/***/ }),

/***/ "../../../../../src/app/components/layer/layer.component.scss":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, ".clayer {\n  z-index: 1;\n  position: absolute;\n  left: 0;\n  top: 0; }\n\n.clayerSelected {\n  border-width: 1px;\n  border-style: dotted;\n  border-color: #f1da09;\n  box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  -webkit-box-sizing: border-box; }\n", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/components/layer/layer.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LayerComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__lib_graphics__ = __webpack_require__("../../../../../src/app/lib/graphics.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__surface_surface_component__ = __webpack_require__("../../../../../src/app/components/surface/surface.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__models_photoedit_layer__ = __webpack_require__("../../../../../src/app/models/photoedit/layer.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var LayerComponent = /** @class */ (function (_super) {
    __extends(LayerComponent, _super);
    function LayerComponent() {
        return _super.call(this) || this;
    }
    LayerComponent.prototype.ngOnInit = function () {
        this.checkAgain(true);
    };
    LayerComponent.prototype.ngDoCheck = function () {
    };
    LayerComponent.prototype.ngAfterContentChecked = function () {
    };
    LayerComponent.prototype.ngAfterViewChecked = function () {
        this.checkAgain(true);
    };
    LayerComponent.prototype.ngOnChanges = function () {
    };
    LayerComponent.prototype.showSelected = function () {
        return this.surface.isSelected && this.surface.showSelected && this.surface.canResizeOrRotate;
    };
    LayerComponent.prototype.checkAgain = function (callrender) {
        if (callrender === void 0) { callrender = false; }
        //width ve height değiştirilde
        //canvas elementinden yeni bir graphics nesnesi üretmek gerekiyor
        //resize edildiğinde yeni bir graphics oluşturmak gerekiyor
        if (this.surface)
            if (!this.surface.resizedAgain) {
                // console.log(`checking layer:${this.surface.name} sw:${this.surface.width.extFloor()} -> cw:${this.canvas.nativeElement.width} sh:${this.surface.height.extFloor()} ch:${this.canvas.nativeElement.height} `);
                if (this.surface.width.extToInt32() === this.canvas.nativeElement.width && this.surface.height.extToInt32() === this.canvas.nativeElement.height) {
                    this.initAgain(callrender);
                }
            }
            else if (this.surface.createAgain) {
                // console.log(`checking2 layer:${this.surface.name} sw:${this.surface.width.extFloor()} -> cw:${this.canvas.nativeElement.width} sh:${this.surface.height.extFloor()} ch:${this.canvas.nativeElement.height} `);
                if (this.surface.width.extToInt32() === this.canvas.nativeElement.width && this.surface.height.extToInt32() === this.canvas.nativeElement.height)
                    this.initAgain(callrender);
            }
    };
    LayerComponent.prototype.initAgain = function (callwhen) {
        if (callwhen === void 0) { callwhen = false; }
        if (this.grphics)
            this.grphics.dispose();
        //burada graphics nesnesi oluşturulur
        this.grphics = new __WEBPACK_IMPORTED_MODULE_0__lib_graphics__["a" /* Graphics */](this.canvas.nativeElement, this.surface.width, this.surface.height, this.surface.scale);
        if (callwhen) {
            this.surface.resizedAgain = true;
            this.surface.createAgain = false;
        }
        //çok önemli
        //burada surface nesnesinin graphics nesnesine atama yapılıyor
        //neticede biz diğer
        this.surface.graphics = this.grphics;
        this.surface.htmlElement = this.canvas;
        if (this.surface.whenCreatedGraphicsAgain && callwhen) {
            //console.log(`${this.surface.name}:rendering again`);
            // console.log(`checking layer:${this.surface.name} sw:${this.surface.width} -> cw:${this.canvas.nativeElement.width} sh:${this.surface.height} ch:${this.canvas.nativeElement.height} `);
            this.surface.whenCreatedGraphicsAgain.call(undefined);
        }
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_1__angular_core__["Input"])(),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_3__models_photoedit_layer__["a" /* Layer */])
    ], LayerComponent.prototype, "surface", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_1__angular_core__["ViewChild"])("renderCanvas"),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1__angular_core__["ElementRef"])
    ], LayerComponent.prototype, "canvas", void 0);
    LayerComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_1__angular_core__["Component"])({
            selector: 'layer-component',
            template: __webpack_require__("../../../../../src/app/components/layer/layer.component.html"),
            styles: [__webpack_require__("../../../../../src/app/components/layer/layer.component.scss")]
        }),
        __metadata("design:paramtypes", [])
    ], LayerComponent);
    return LayerComponent;
}(__WEBPACK_IMPORTED_MODULE_2__surface_surface_component__["a" /* SurfaceComponent */]));



/***/ }),

/***/ "../../../../../src/app/components/layers-info/layers-info.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"layersInfo\">\n<!--   <header class=\"layersHeader\">\n    <span>Layers</span>\n  </header> -->\n  <section class=\"layersSection\">\n    \n        <ul class=\"list-unstyled\" >\n            <li *ngFor=\"let layer of layers\" dnd-draggable [dragEnabled]=\"true\" [dragData]=\"layer.uuid\"   class=\"container layersLi lineheightmedium unselectableText\" style=\"padding-left:2px;padding-right:2px\" [ngClass]=\"(layer.isSelected)?'layersLiSelected':''\">\n              <div   dnd-droppable (onDropSuccess)=\"onDrop($event,layer.uuid)\" class=\"row no-gutters text-center\" (click)=\"makeLayerSelected(layer);\" mouse (doubleClick)=\"mouseDblClick(layer)\" >\n                \n                  \n               <i class=\"fa fa-eye mouseoverhand myGutter lineheightmedium\" [class.disabled-icon]=\"layer.isHidden\"  (click)=\"disableOrEnable(layer)\"></i> \n               \n\n                \n                \n                <i class=\"fa fa-minus-circle mouseoverhand myGutter lineheightmedium\"  (click)=\"removeLayer(layer)\"></i> \n                \n                \n                <span *ngIf=\"!isEditMode(layer)\" class=\"mouseoverhand hideOverflowText fontsmall myGutter \"> {{layerName(layer)}}</span>\n                <input *ngIf=\"isEditMode(layer)\" class=\"form-control lineheightmedium\" keyboard (keyboardDown)='keyDown($event,layer)' autofocus (blur)='lostfocus(layer)' type=\"text\" [value]=\"layer.name\" (input)='changeLayerName($event,layer)'/>\n                \n                \n\n\n              </div>\n            </li>\n            \n\n\n\n\n\n          </ul>\n     \n  </section>\n</div>\n"

/***/ }),

/***/ "../../../../../src/app/components/layers-info/layers-info.component.scss":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, ".layersInfo {\n  /*  margin-top: 10px; */\n  padding: 5px;\n  background: -webkit-linear-gradient(top, white, #e6e5e5);\n  background-image: -webkit-linear-gradient(top, #615c5c, #887f7f);\n  overflow-y: auto;\n  padding: 3px; }\n\n.layersHeader {\n  line-height: 1rem;\n  color: white;\n  padding-left: 4px; }\n\n.layersLi {\n  background: -webkit-linear-gradient(top, white, #e6e5e5);\n  background-image: -webkit-linear-gradient(top, #646464, #e6e6e6);\n  border-radius: 4px;\n  margin-bottom: 3px; }\n\n.layersLiSelected {\n  background: -webkit-linear-gradient(top, white, #e6e5e5);\n  background-image: -webkit-linear-gradient(top, #006464, #e6e6e6); }\n\n.list-group-item {\n  /* padding:5px; */\n  /*  white-space: nowrap; */ }\n\n.disabled-icon {\n  opacity: 0.3; }\n\n.myGutter {\n  padding-left: 3px;\n  padding-right: 3px; }\n", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/components/layers-info/layers-info.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LayersInfoComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__services_app_service__ = __webpack_require__("../../../../../src/app/services/app.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__commands_cmdLayerRemove__ = __webpack_require__("../../../../../src/app/commands/cmdLayerRemove.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__services_project_service__ = __webpack_require__("../../../../../src/app/services/project.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var LayersInfoComponent = /** @class */ (function () {
    function LayersInfoComponent(projectService, appService) {
        this.appService = appService;
        this.projectService = projectService;
        this.project = this.projectService.currentProject;
        this.composite = new Map();
    }
    LayersInfoComponent.prototype.ngOnInit = function () {
    };
    LayersInfoComponent.prototype.removeLayer = function (layer) {
        var cmd = new __WEBPACK_IMPORTED_MODULE_1__commands_cmdLayerRemove__["a" /* CmdLayerRemove */](layer, this.projectService, this.appService);
        cmd.executeAsync();
    };
    LayersInfoComponent.prototype.disableOrEnable = function (layer) {
        // alert(layer.name);
        layer.isHidden = !layer.isHidden;
        // this.projectService.currentProject.activeWorkspace.render();
    };
    Object.defineProperty(LayersInfoComponent.prototype, "layers", {
        get: function () {
            //make composite
            if (this.project && this.project.activeWorkspace) {
                return this.project.activeWorkspace.layers;
            }
            return [];
        },
        enumerable: true,
        configurable: true
    });
    LayersInfoComponent.prototype.makeLayerSelected = function (layer) {
        if (this.project && this.project.activeWorkspace) {
            this.project.activeWorkspace.makeLayerSelected(layer);
        }
    };
    LayersInfoComponent.prototype.isEditMode = function (layer) {
        if (layer) {
            if (this.composite.has(layer.uuid))
                return this.composite.get(layer.uuid);
            else
                this.composite.set(layer.uuid, false);
        }
    };
    LayersInfoComponent.prototype.mouseDblClick = function (layer) {
        if (layer) {
            this.composite.set(layer.uuid, true);
        }
    };
    LayersInfoComponent.prototype.keyDown = function (event, layer) {
        if (event.keyCode == 13) {
            event.preventDefault();
            event.stopPropagation();
            if (layer) {
                this.composite.set(layer.uuid, false);
            }
        }
    };
    LayersInfoComponent.prototype.changeLayerName = function (event, layer) {
        if (layer)
            layer.name = event.currentTarget.value;
    };
    LayersInfoComponent.prototype.lostfocus = function (layer) {
        console.log('lost focus' + new Date());
        if (layer) {
            this.composite.set(layer.uuid, false);
        }
    };
    LayersInfoComponent.prototype.layerName = function (layer) {
        return layer.name;
    };
    LayersInfoComponent.prototype.onDrop = function (event, destinationuuid) {
        if (event.dragData && destinationuuid) {
            var sourceuuid_1 = event.dragData;
            if (sourceuuid_1 == destinationuuid)
                return;
            var workspace = this.project.activeWorkspace;
            if (!workspace)
                return;
            var sourceIndex = workspace.layers.findIndex(function (p) { return p.uuid == sourceuuid_1; });
            var destinationIndex = workspace.layers.findIndex(function (p) { return p.uuid == destinationuuid; });
            if (sourceIndex >= 0 && destinationIndex >= 0) {
                var sourceLayer = workspace.layers[sourceIndex];
                workspace.layers.splice(sourceIndex, 1);
                workspace.layers.splice(destinationIndex, 0, sourceLayer);
            }
        }
    };
    LayersInfoComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_2__angular_core__["Component"])({
            selector: 'layersInfo-component',
            template: __webpack_require__("../../../../../src/app/components/layers-info/layers-info.component.html"),
            styles: [__webpack_require__("../../../../../src/app/components/layers-info/layers-info.component.scss")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_3__services_project_service__["a" /* ProjectService */], __WEBPACK_IMPORTED_MODULE_0__services_app_service__["a" /* AppService */]])
    ], LayersInfoComponent);
    return LayersInfoComponent;
}());



/***/ }),

/***/ "../../../../../src/app/components/layout/layout.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"fullpage unselectable\">\n  <div class=\"menubar\">\n    <menubar-component></menubar-component>\n  </div>\n\n  <div class=\"maincontent\">\n      <div *ngIf=\"hasActiveWorkspace\" class=\"toolbar toolbarw\">\n          <tools-component></tools-component>\n      </div>\n  <div class=\"projectfiles\">\n    <project-component></project-component>\n</div>\n<div *ngIf=\"hasActiveWorkspace\" class=\"rightbar\">\n  <div class=\"rightbartop\">\n      <div *ngIf=\"hasLayer\"  class=\"panelLayersInfo\" >\n          <div #panelHeaderInfo class=\"modal-header unselectableText\">\n            Layers\n          </div>\n          <layersInfo-component></layersInfo-component>\n       </div>\n   \n  </div>\n  <div class=\"rightbarbottom\">\n      <div *ngIf=\"hasLayer\"  class=\"panelLayerProperties\" >\n          <div #panelHeaderProperties class=\"modal-header unselectableText\">\n            Properties\n          </div>\n            <layer-properties-component>\n      \n            </layer-properties-component>\n        </div>\n    \n  </div>\n  \n</div>\n<div *ngIf=\"isAdvert\" class=\"googleadvert\">\n    \n  </div>\n</div>\n  <!-- <div class=\"statusbar gray-light\">\n    <statusbar-component></statusbar-component>\n  </div> -->\n  <!-- <div *ngIf=\"hasLayer\" ngDraggable class=\"panelLayerProperties\" [handle]=\"panelHeaderProperties\">\n    <div #panelHeaderProperties class=\"modal-header unselectableText\">\n      Layer Properties\n    </div>\n      <layer-properties-component>\n\n      </layer-properties-component>\n  </div> -->\n\n \n\n\n    <div *ngIf=\"hasLayer\" class=\"panelZoom\" >        \n        <zoom-component></zoom-component>\n    </div>\n    <div *ngIf=\"hasLayer\" ngDraggable class=\"panelToolOptions\" [handle]=\"panelToolOptions\">\n        \n        <div  class=\"modal-header unselectableText\">\n          <span #panelToolOptions style=\"display:block;width:100%;height:100\">Tool Options</span>\n        </div>\n\n        <tool-options-component></tool-options-component>\n      </div>\n \n\n   \n\n  \n\n\n</div>\n"

/***/ }),

/***/ "../../../../../src/app/components/layout/layout.component.scss":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, ".fullpage {\n  background-color: white;\n  width: 100%;\n  height: 100%;\n  display: block;\n  position: absolute;\n  left: 0;\n  top: 0;\n  z-index: 0; }\n\n.menubar {\n  position: fixed;\n  /* Stay in place */\n  z-index: 1;\n  /* Stay on top */\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 3%;\n  min-height: 24px;\n  background-color: #535353;\n  border-radius: 0 0 0 0px;\n  border-bottom-color: gray;\n  border-bottom-width: thin;\n  border-bottom-style: solid; }\n\n.maincontent {\n  position: fixed;\n  left: 0;\n  top: 3%;\n  width: 100%;\n  height: 97%;\n  background-color: #808080;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n      -ms-flex-flow: row;\n          flex-flow: row;\n  -ms-flex-wrap: nowrap;\n      flex-wrap: nowrap;\n  -webkit-box-pack: start;\n      -ms-flex-pack: start;\n          justify-content: flex-start; }\n\n.toolbarw {\n  width: 45px; }\n\n@media (min-width: 576px) {\n  .toolbarw {\n    width: 135px; } }\n\n@media (min-width: 768px) {\n  .toolbarw {\n    width: 135px; } }\n\n@media (min-width: 992px) {\n  .toolbarw {\n    width: 90px; } }\n\n@media (min-width: 1200px) {\n  .toolbarw {\n    width: 45px; } }\n\n.toolbar {\n  z-index: 1;\n  /* Stay on top */\n  left: 0;\n  background-color: #535353;\n  /* Black*/\n  overflow-x: none;\n  overflow-y: none;\n  /* Disable horizontal scroll */\n  border-radius: 0 0 0 0;\n  border-left-color: gray;\n  border-left-width: thin;\n  border-left-style: solid; }\n\n.projectfiles {\n  /* display: inline-block;     */\n  /* top:$menubar_height;\n  height:$others_height;  */\n  background-color: #808080;\n  z-index: 0;\n  -webkit-box-flex: 1;\n      -ms-flex-positive: 1;\n          flex-grow: 1; }\n\nproject-component {\n  width: 100%;\n  height: 100%;\n  display: block;\n  position: relative; }\n\n.rightbar {\n  width: 200px;\n  top: 0px;\n  right: 200px;\n  background: #5a5858;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column; }\n\n.googleadvert {\n  width: 200px;\n  top: 0px;\n  right: 0px;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n  background: black; }\n\n.rightbartop {\n  height: 60%;\n  overflow-y: auto; }\n\n.rightbarbottom {\n  height: 40%; }\n\n/* \n.statusbar {\n  width: 100%;\n  position: fixed;\n\n  height: 2%;\n  left: 0;\n  bottom: 0;\n  background-color:#535353;\n  border-radius: 0px 0px 0 0;\n\n  z-index: 1;\n  border-top-color: gray;\n    border-top-width: thin;\n    border-top-style: solid;\n}\n */\n\n.panelLayerProperties {\n  position: relative;\n  height: 100%; }\n\n.panelLayersInfo {\n  overflow-y: auto; }\n\n.panelZoom {\n  position: absolute;\n  top: 5.5%;\n  left: calc(40% - 100px);\n  z-index: auto;\n  width: 20%; }\n\n.panelToolOptions {\n  position: relative;\n  top: 6%;\n  left: 70%;\n  width: 200px; }\n", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/components/layout/layout.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LayoutComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__services_project_service__ = __webpack_require__("../../../../../src/app/services/project.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var LayoutComponent = /** @class */ (function () {
    function LayoutComponent(projectService) {
        this.project = projectService.currentProject;
    }
    LayoutComponent.prototype.ngOnInit = function () {
        /afasfd/;
    };
    Object.defineProperty(LayoutComponent.prototype, "hasLayer", {
        get: function () {
            if (this.project && this.project.activeWorkspace && this.project.activeWorkspace.hasLayer)
                return true;
            return false;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(LayoutComponent.prototype, "hasActiveWorkspace", {
        get: function () {
            if (this.project && this.project.activeWorkspace)
                return true;
            return false;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(LayoutComponent.prototype, "hasSelectionLayer", {
        get: function () {
            var hasLayer = this.hasLayer;
            if (hasLayer)
                if (this.project.activeWorkspace.selectionLayer)
                    return hasLayer;
            return false;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(LayoutComponent.prototype, "isAdvert", {
        get: function () {
            return false;
        },
        enumerable: true,
        configurable: true
    });
    LayoutComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'layout-component',
            template: __webpack_require__("../../../../../src/app/components/layout/layout.component.html"),
            styles: [__webpack_require__("../../../../../src/app/components/layout/layout.component.scss")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__services_project_service__["a" /* ProjectService */]])
    ], LayoutComponent);
    return LayoutComponent;
}());



/***/ }),

/***/ "../../../../../src/app/components/menubar/menu.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Menu; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return MenuItem; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__lib_callback__ = __webpack_require__("../../../../../src/app/lib/callback.ts");

var Menu = /** @class */ (function () {
    function Menu(name) {
        this.name = name;
        this.childs = [];
        this.isOpen = false;
        this.isDisabledCallback = undefined;
    }
    Menu.prototype.close = function ($event) {
        $event.preventDefault();
        this.isOpen = false;
    };
    Object.defineProperty(Menu.prototype, "disabled", {
        get: function () {
            if (!this.isDisabledCallback)
                return false;
            return this.isDisabledCallback.call(undefined);
        },
        enumerable: true,
        configurable: true
    });
    return Menu;
}());

var MenuItem = /** @class */ (function () {
    function MenuItem(name, clickfunc, shortCut) {
        var _this = this;
        this.name = name;
        this.isDisabledCallback = undefined;
        this.clickFunc = clickfunc;
        this.isDivider = false;
        this.shortCut = shortCut;
        if (shortCut) {
            this.shortCut.callback = __WEBPACK_IMPORTED_MODULE_0__lib_callback__["a" /* Callback */].from(function () { return _this.onClick(undefined); });
            this.shortCut.desc = this.name;
        }
    }
    Object.defineProperty(MenuItem.prototype, "disabled", {
        get: function () {
            if (!this.isDisabledCallback)
                return false;
            return this.isDisabledCallback.call(undefined);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MenuItem.prototype, "shortCutName", {
        get: function () {
            if (this.shortCut) {
                var str = [];
                if (this.shortCut.isShift)
                    str.push('Shift');
                if (this.shortCut.isCtrl)
                    str.push('Ctrl');
                if (this.shortCut.isAlt)
                    str.push('Alt');
                str.push(this.shortCut.key);
                return str.join("+");
            }
            return "";
        },
        enumerable: true,
        configurable: true
    });
    MenuItem.prototype.onClick = function (parameters) {
        this.clickFunc.call(parameters);
    };
    return MenuItem;
}());



/***/ }),

/***/ "../../../../../src/app/components/menubar/menuItems/menuItemNewImage.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MenuItemNewImage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__menu__ = __webpack_require__("../../../../../src/app/components/menubar/menu.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__commands_cmdShowFormNewImage__ = __webpack_require__("../../../../../src/app/commands/cmdShowFormNewImage.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();


//a base class for new image
var MenuItemNewImage = /** @class */ (function (_super) {
    __extends(MenuItemNewImage, _super);
    function MenuItemNewImage(projectService, shortCut) {
        var _this = _super.call(this, 'New Empty', undefined, shortCut) || this;
        _this.projectService = projectService;
        return _this;
    }
    MenuItemNewImage.prototype.onClick = function (parameters) {
        var cmd = new __WEBPACK_IMPORTED_MODULE_1__commands_cmdShowFormNewImage__["a" /* CmdShowFormNewImage */]();
        cmd.executeAsync();
    };
    return MenuItemNewImage;
}(__WEBPACK_IMPORTED_MODULE_0__menu__["b" /* MenuItem */]));



/***/ }),

/***/ "../../../../../src/app/components/menubar/menuItems/menuItemOpenFile.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MenuItemOpenFile; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__menu__ = __webpack_require__("../../../../../src/app/components/menubar/menu.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__lib_utility__ = __webpack_require__("../../../../../src/app/lib/utility.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__lib_readFileOrUrl__ = __webpack_require__("../../../../../src/app/lib/readFileOrUrl.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();



//a base class for open file actions
var MenuItemOpenFile = /** @class */ (function (_super) {
    __extends(MenuItemOpenFile, _super);
    function MenuItemOpenFile(name, acceptFileTypes, onSuccess, onError, onProgress, shortCut) {
        var _this = _super.call(this, name, undefined, shortCut) || this;
        _this.isOpenFile = true;
        _this.idOfInput = __WEBPACK_IMPORTED_MODULE_1__lib_utility__["a" /* Utility */].uuid();
        _this.acceptFileTypes = acceptFileTypes;
        _this.onProgressFunc = onProgress;
        _this.onSuccessFunc = onSuccess;
        _this.onErrorFunc = onError;
        return _this;
    }
    MenuItemOpenFile.prototype.handleFiles = function () {
        var fileList = undefined;
        var input = document.getElementById(this.idOfInput);
        if (input) {
            fileList = input.files;
        }
        if (fileList && fileList.length > 0) {
            __WEBPACK_IMPORTED_MODULE_2__lib_readFileOrUrl__["a" /* ReadFileOrUrl */].readAsync(fileList[0], 2, this.onSuccessFunc, this.onErrorFunc, this.onProgressFunc);
        }
    };
    MenuItemOpenFile.prototype.onClick = function (parameters) {
        var fileElem = document.getElementById(this.idOfInput);
        if (fileElem) {
            fileElem.value = null;
            fileElem.click();
        }
    };
    return MenuItemOpenFile;
}(__WEBPACK_IMPORTED_MODULE_0__menu__["b" /* MenuItem */]));



/***/ }),

/***/ "../../../../../src/app/components/menubar/menuItems/menuItemOpenImage.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MenuItemOpenImage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__commands_cmdReadImageFromBufferorUrl__ = __webpack_require__("../../../../../src/app/commands/cmdReadImageFromBufferorUrl.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__commands_cmdShowError__ = __webpack_require__("../../../../../src/app/commands/cmdShowError.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__lib_callback__ = __webpack_require__("../../../../../src/app/lib/callback.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__menuItemOpenFile__ = __webpack_require__("../../../../../src/app/components/menubar/menuItems/menuItemOpenFile.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();




var MenuItemOpenImage = /** @class */ (function (_super) {
    __extends(MenuItemOpenImage, _super);
    function MenuItemOpenImage(appService, projectService, shortCut, title, createWorkspace) {
        if (title === void 0) { title = "Open File"; }
        if (createWorkspace === void 0) { createWorkspace = true; }
        var _this = _super.call(this, title, "image/*", __WEBPACK_IMPORTED_MODULE_2__lib_callback__["a" /* Callback */].from(function (data) { _this.onSuccess(data); }), __WEBPACK_IMPORTED_MODULE_2__lib_callback__["a" /* Callback */].from(function (err) { return _this.onError(err); }), __WEBPACK_IMPORTED_MODULE_2__lib_callback__["a" /* Callback */].from(function (data) { return _this.onProgress(data); }), shortCut) || this;
        _this.projectService = projectService;
        _this.appService = appService;
        _this.createWorkspace = createWorkspace;
        return _this;
    }
    MenuItemOpenImage.prototype.onProgress = function (data) {
    };
    MenuItemOpenImage.prototype.onSuccess = function (data) {
        var cmd = new __WEBPACK_IMPORTED_MODULE_0__commands_cmdReadImageFromBufferorUrl__["a" /* CmdReadImageFromBufferorUrl */](data.result, data.fileName, this.appService, this.projectService, this.createWorkspace);
        cmd.executeAsync();
    };
    MenuItemOpenImage.prototype.onError = function (err) {
        var cmd = new __WEBPACK_IMPORTED_MODULE_1__commands_cmdShowError__["a" /* CmdShowError */](err);
        cmd.executeAsync();
    };
    return MenuItemOpenImage;
}(__WEBPACK_IMPORTED_MODULE_3__menuItemOpenFile__["a" /* MenuItemOpenFile */]));



/***/ }),

/***/ "../../../../../src/app/components/menubar/menubar.component.html":
/***/ (function(module, exports) {

module.exports = "<!-- <div class=\"container-fluid \">\n    <div class=\"row align-items-start\">\n      <div class=\"col align-self-center\"> -->\n       <span *ngFor=\"let menu of menus\">\n        <div id=\"menubuttons\"  class=\"btn-group\" dropdown [isOpen]=\"menu.isOpen\" [isDisabled]=\"menu.disabled\" >\n          <button id=\"single-button\" type=\"button\" class=\"btn btn-primary btn-sm groupbuttonpadding \" dropdownToggle >\n          {{menu.name}} <span class=\"caret\"></span>\n           </button>\n          <ul *dropdownMenu class=\"dropdown-menu mydropdown-menu \"  role=\"menu\" aria-labelledby=\"single-button\">\n            <ng-container *ngFor=\"let childmenu of menu.childs\">\n              <ng-container *ngIf=\"isMenuItem(childmenu)\">\n                <li *ngIf=\"!childmenu.isDivider\" role=\"menuitem\">\n                  <input *ngIf=\"childmenu.isOpenFile\" type=\"file\" id={{childmenu.idOfInput}} accept={{childmenu.acceptFileTypes}} style=\"display:none\"\n                    (change)=\"childmenu.handleFiles()\">\n                    \n                  <a class=\"dropdown-item childmenu \" (click)=\"menu.close($event); childmenu.onClick();\" href=\"#\">\n                      <span class=\"pull-right opac50\">{{childmenu.shortCutName}}</span>\n                      {{childmenu.name}}\n                      \n                  </a>\n                \n                  \n  \n                </li>\n                <li *ngIf=\"childmenu.isDivider\" class=\"divider dropdown-divider\"></li>\n              </ng-container>\n              <ng-container *ngIf=\"!isMenuItem(childmenu)\">\n                <li dropdown triggers=\"mouseover\" placement=\"right\" container=\"body\">\n                  \n                  <a dropdownToggle class=\"dropdown-item dropdown-toogle  childsubmenu\" >{{childmenu.name}}\n                     <span class=\"caret\"></span>></a>\n                  <ul *dropdownMenu class=\"dropdown-menu\" role=\"menu\">\n                    <div *ngFor=\"let childsubmenu of childmenu.childs\">\n                      <ng-container *ngIf=\"isMenuItem(childsubmenu)\">\n                        <li *ngIf=\"!childsubmenu.isDivider\" role=\"menuitem\">\n                          <input *ngIf=\"childsubmenu.isOpenFile\" type=\"file\" id={{childsubmenu.idOfInput}} accept={{childsubmenu.acceptFileTypes}}\n                            style=\"display:none\" (change)=\"childsubmenu.handleFiles()\">\n                          <a class=\"dropdown-item childmenu\" (click)=\"childmenu.close($event); childsubmenu.onClick();\" href=\"#\">{{childsubmenu.name}}</a>\n  \n                        </li>\n                        <li *ngIf=\"childsubmenu.isDivider\" class=\"divider dropdown-divider\"></li>\n                      </ng-container>\n                    </div>\n                  </ul>\n                </li>\n              </ng-container>\n  \n  \n            </ng-container>\n  \n          </ul>\n  \n  \n        </div>\n      </span>\n  \n  \n  \n  \n   <!--    </div>\n    </div>\n  </div> -->\n\n\n "

/***/ }),

/***/ "../../../../../src/app/components/menubar/menubar.component.scss":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "#menubuttons button {\n  border-style: none;\n  font-size: 0.95rem; }\n\n.opac50 {\n  opacity: 0.8; }\n\n.mydropdown-menu {\n  min-width: 12rem; }\n\n.groupbuttonpadding {\n  padding-left: 4px; }\n\n.childmenu {\n  /*font-weight: bolder;*/\n  font-size: medium;\n  /* width: 50%; */\n  padding: 6px; }\n\n.childsubmenu {\n  color: white !important;\n  font-size: medium !important;\n  padding: 6px !important; }\n\n.childsubmenu:hover {\n  color: black !important;\n  text-decoration: none;\n  background-color: #f7f7f9; }\n\n.caret-right {\n  display: inline-block;\n  width: 0;\n  height: 0;\n  margin-left: 2px;\n  vertical-align: middle;\n  border-left: 5px solid;\n  border-left-color: #999999;\n  border-bottom: 5px solid transparent;\n  border-top: 5px solid transparent;\n  margin-top: 5px;\n  margin-right: -8px; }\n\n.btn-primary:disabled {\n  background-color: #726c6c;\n  border-color: #656565; }\n", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/components/menubar/menubar.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MenubarComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__commands_cmdShowFormEdgeGradient__ = __webpack_require__("../../../../../src/app/commands/cmdShowFormEdgeGradient.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__lib_imagealgorithm_convolution_imageAlgorithmLowpass__ = __webpack_require__("../../../../../src/app/lib/imagealgorithm/convolution/imageAlgorithmLowpass.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__lib_imagealgorithm_convolution_imageAlgorithmMean__ = __webpack_require__("../../../../../src/app/lib/imagealgorithm/convolution/imageAlgorithmMean.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__lib_imagealgorithm_imageAlgorithmSepia__ = __webpack_require__("../../../../../src/app/lib/imagealgorithm/imageAlgorithmSepia.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__commands_cmdShowFormCartoon__ = __webpack_require__("../../../../../src/app/commands/cmdShowFormCartoon.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__menu__ = __webpack_require__("../../../../../src/app/components/menubar/menu.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__menubar_menuItems_menuItemOpenImage__ = __webpack_require__("../../../../../src/app/components/menubar/menuItems/menuItemOpenImage.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__menubar_menuItems_menuItemNewImage__ = __webpack_require__("../../../../../src/app/components/menubar/menuItems/menuItemNewImage.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__services_project_service__ = __webpack_require__("../../../../../src/app/services/project.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__services_app_service__ = __webpack_require__("../../../../../src/app/services/app.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__services_effect_service__ = __webpack_require__("../../../../../src/app/services/effect.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__lib_callback__ = __webpack_require__("../../../../../src/app/lib/callback.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__commands_cmdZoom__ = __webpack_require__("../../../../../src/app/commands/cmdZoom.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__commands_cmdNewLayer__ = __webpack_require__("../../../../../src/app/commands/cmdNewLayer.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__commands_cmdShowFormResize__ = __webpack_require__("../../../../../src/app/commands/cmdShowFormResize.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__commands_cmdRotateWorkspace__ = __webpack_require__("../../../../../src/app/commands/cmdRotateWorkspace.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17__commands_cmdAddTextLayer__ = __webpack_require__("../../../../../src/app/commands/cmdAddTextLayer.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_18__commands_cmdShowFormFontLoad__ = __webpack_require__("../../../../../src/app/commands/cmdShowFormFontLoad.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_19__commands_cmdShowFormLayerProperties__ = __webpack_require__("../../../../../src/app/commands/cmdShowFormLayerProperties.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_20__commands_cmdShowFormColorRemap__ = __webpack_require__("../../../../../src/app/commands/cmdShowFormColorRemap.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_21__commands_cmdShowFormColorAdjustment__ = __webpack_require__("../../../../../src/app/commands/cmdShowFormColorAdjustment.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_22__commands_cmdShowFormSampleImages__ = __webpack_require__("../../../../../src/app/commands/cmdShowFormSampleImages.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_23__commands_cmdShowFormGrayscale__ = __webpack_require__("../../../../../src/app/commands/cmdShowFormGrayscale.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_24__commands_cmdColorRemap__ = __webpack_require__("../../../../../src/app/commands/cmdColorRemap.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_25__commands_cmdExecuteImageAlgorithms__ = __webpack_require__("../../../../../src/app/commands/cmdExecuteImageAlgorithms.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_26__commands_cmdCreateInstagramFilter__ = __webpack_require__("../../../../../src/app/commands/cmdCreateInstagramFilter.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_27__lib_imagealgorithm_imageAlgorithmGrayscale__ = __webpack_require__("../../../../../src/app/lib/imagealgorithm/imageAlgorithmGrayscale.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_28__services_keyboard_service__ = __webpack_require__("../../../../../src/app/services/keyboard.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_29__commands_cmdCut__ = __webpack_require__("../../../../../src/app/commands/cmdCut.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_30__services_clipboard_service__ = __webpack_require__("../../../../../src/app/services/clipboard.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_31__commands_cmdClear__ = __webpack_require__("../../../../../src/app/commands/cmdClear.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_32__commands_cmdUndo__ = __webpack_require__("../../../../../src/app/commands/cmdUndo.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_33__commands_cmdRedo__ = __webpack_require__("../../../../../src/app/commands/cmdRedo.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_34__commands_cmdExportWorkspace__ = __webpack_require__("../../../../../src/app/commands/cmdExportWorkspace.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_35__commands_cmdShowFormConvolution__ = __webpack_require__("../../../../../src/app/commands/cmdShowFormConvolution.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_36__commands_cmdChangeBackgroundLayerColor__ = __webpack_require__("../../../../../src/app/commands/cmdChangeBackgroundLayerColor.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_37__commands_cmdCloneLayer__ = __webpack_require__("../../../../../src/app/commands/cmdCloneLayer.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_38__commands_cmdFlipImage__ = __webpack_require__("../../../../../src/app/commands/cmdFlipImage.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_39__commands_cmdFlipWorkspace__ = __webpack_require__("../../../../../src/app/commands/cmdFlipWorkspace.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_40__commands_cmdNewLayerFromSelection__ = __webpack_require__("../../../../../src/app/commands/cmdNewLayerFromSelection.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_41__commands_cmdPaste__ = __webpack_require__("../../../../../src/app/commands/cmdPaste.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_42__commands_cmdCopy__ = __webpack_require__("../../../../../src/app/commands/cmdCopy.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_43__commands_cmdShowFormShortcuts__ = __webpack_require__("../../../../../src/app/commands/cmdShowFormShortcuts.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_44__commands_cmdShowError__ = __webpack_require__("../../../../../src/app/commands/cmdShowError.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_45__commands_cmdShowFormAbout__ = __webpack_require__("../../../../../src/app/commands/cmdShowFormAbout.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_46__services_keyboard_service__ = __webpack_require__("../../../../../src/app/services/keyboard.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_47__lib_imagealgorithm_convolution_imageAlgorithmMedian__ = __webpack_require__("../../../../../src/app/lib/imagealgorithm/convolution/imageAlgorithmMedian.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_48__lib_imagealgorithm_convolution_imageAlgorithmBlur__ = __webpack_require__("../../../../../src/app/lib/imagealgorithm/convolution/imageAlgorithmBlur.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_49__lib_imagealgorithm_convolution_imageAlgorithmHighPass__ = __webpack_require__("../../../../../src/app/lib/imagealgorithm/convolution/imageAlgorithmHighPass.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_50__lib_imagealgorithm_convolution_imageAlgorithmEmboss__ = __webpack_require__("../../../../../src/app/lib/imagealgorithm/convolution/imageAlgorithmEmboss.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_51__lib_imagealgorithm_convolution_imageAlgorithmEdgeDetectionLaplace__ = __webpack_require__("../../../../../src/app/lib/imagealgorithm/convolution/imageAlgorithmEdgeDetectionLaplace.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_52__lib_imagealgorithm_convolution_imageAlgorithmEdgeDetection__ = __webpack_require__("../../../../../src/app/lib/imagealgorithm/convolution/imageAlgorithmEdgeDetection.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_53__commands_cmdShowFormOilPainting__ = __webpack_require__("../../../../../src/app/commands/cmdShowFormOilPainting.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_54__commands_cmdShowFormErodeDilation__ = __webpack_require__("../../../../../src/app/commands/cmdShowFormErodeDilation.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_55__lib_imagealgorithm_convolution_imageAlgorithmKrish__ = __webpack_require__("../../../../../src/app/lib/imagealgorithm/convolution/imageAlgorithmKrish.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_56__lib_imagealgorithm_convolution_imageAlgorithmPrewitt__ = __webpack_require__("../../../../../src/app/lib/imagealgorithm/convolution/imageAlgorithmPrewitt.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_57__lib_imagealgorithm_convolution_imageAlgorithmSobel__ = __webpack_require__("../../../../../src/app/lib/imagealgorithm/convolution/imageAlgorithmSobel.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_58__lib_imagealgorithm_convolution_imageAlgorithmSharpen__ = __webpack_require__("../../../../../src/app/lib/imagealgorithm/convolution/imageAlgorithmSharpen.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_59__lib_imagealgorithm_convolution_imageAlgorithmSoften__ = __webpack_require__("../../../../../src/app/lib/imagealgorithm/convolution/imageAlgorithmSoften.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







































































var MenubarComponent = /** @class */ (function () {
    function MenubarComponent(projectService, appservice, effectService, keyboardService, clipboardService) {
        var _this = this;
        this._projectService = projectService;
        this._appService = appservice;
        this._effectService = effectService;
        this._clipboardService = clipboardService;
        this.menus = [];
        var menuFile = new __WEBPACK_IMPORTED_MODULE_6__menu__["a" /* Menu */]("File");
        menuFile.childs.push(new __WEBPACK_IMPORTED_MODULE_8__menubar_menuItems_menuItemNewImage__["a" /* MenuItemNewImage */](projectService, new __WEBPACK_IMPORTED_MODULE_46__services_keyboard_service__["b" /* ShortCut */](true, true, false, 'N', menuFile.name)));
        menuFile.childs.push(new __WEBPACK_IMPORTED_MODULE_7__menubar_menuItems_menuItemOpenImage__["a" /* MenuItemOpenImage */](this._appService, projectService, new __WEBPACK_IMPORTED_MODULE_46__services_keyboard_service__["b" /* ShortCut */](true, false, false, 'O', menuFile.name)));
        menuFile.childs.push(new __WEBPACK_IMPORTED_MODULE_6__menu__["b" /* MenuItem */]("Sample Images", __WEBPACK_IMPORTED_MODULE_12__lib_callback__["a" /* Callback */].from(function () { _this.showFormSampleImages(true); }), new __WEBPACK_IMPORTED_MODULE_46__services_keyboard_service__["b" /* ShortCut */](true, true, false, 'O', menuFile.name)));
        var divider = new __WEBPACK_IMPORTED_MODULE_6__menu__["b" /* MenuItem */]('divider', undefined);
        divider.isDivider = true;
        menuFile.childs.push(divider);
        this.menus.push(menuFile);
        menuFile.childs.push(new __WEBPACK_IMPORTED_MODULE_6__menu__["b" /* MenuItem */]("Export jpg", __WEBPACK_IMPORTED_MODULE_12__lib_callback__["a" /* Callback */].from(function () { _this.export({ mimetype: "image/jpeg" }); }), new __WEBPACK_IMPORTED_MODULE_46__services_keyboard_service__["b" /* ShortCut */](true, false, true, 'S', menuFile.name)));
        menuFile.childs.push(new __WEBPACK_IMPORTED_MODULE_6__menu__["b" /* MenuItem */]("Export png", __WEBPACK_IMPORTED_MODULE_12__lib_callback__["a" /* Callback */].from(function () { _this.export({ mimetype: "image/png" }); }), new __WEBPACK_IMPORTED_MODULE_46__services_keyboard_service__["b" /* ShortCut */](true, false, true, 'D', menuFile.name)));
        menuFile.childs.push(new __WEBPACK_IMPORTED_MODULE_6__menu__["b" /* MenuItem */]("Export ico", __WEBPACK_IMPORTED_MODULE_12__lib_callback__["a" /* Callback */].from(function () { _this.export({ mimetype: "image/ico" }); })));
        var divider5 = new __WEBPACK_IMPORTED_MODULE_6__menu__["b" /* MenuItem */]('divider', undefined);
        divider5.isDivider = true;
        menuFile.childs.push(divider5);
        menuFile.childs.push(new __WEBPACK_IMPORTED_MODULE_6__menu__["b" /* MenuItem */]("Preview", __WEBPACK_IMPORTED_MODULE_12__lib_callback__["a" /* Callback */].from(function () { _this.exportPreview({ mimetype: "image/png" }); }), new __WEBPACK_IMPORTED_MODULE_46__services_keyboard_service__["b" /* ShortCut */](true, false, true, 'P', menuFile.name)));
        var divider2 = new __WEBPACK_IMPORTED_MODULE_6__menu__["b" /* MenuItem */]('divider', undefined);
        divider2.isDivider = true;
        var menuEdit = new __WEBPACK_IMPORTED_MODULE_6__menu__["a" /* Menu */]("Edit");
        menuEdit.isDisabledCallback = __WEBPACK_IMPORTED_MODULE_12__lib_callback__["a" /* Callback */].from(function () { return _this.hasActiveWorkspace(); });
        menuEdit.childs.push(new __WEBPACK_IMPORTED_MODULE_6__menu__["b" /* MenuItem */]("Cut", __WEBPACK_IMPORTED_MODULE_12__lib_callback__["a" /* Callback */].from(function () { return _this.cut(); }), new __WEBPACK_IMPORTED_MODULE_46__services_keyboard_service__["b" /* ShortCut */](true, false, false, 'X', menuEdit.name)));
        menuEdit.childs.push(new __WEBPACK_IMPORTED_MODULE_6__menu__["b" /* MenuItem */]("Copy", __WEBPACK_IMPORTED_MODULE_12__lib_callback__["a" /* Callback */].from(function () { return _this.copy(); }), new __WEBPACK_IMPORTED_MODULE_46__services_keyboard_service__["b" /* ShortCut */](true, false, false, 'C', menuEdit.name)));
        menuEdit.childs.push(new __WEBPACK_IMPORTED_MODULE_6__menu__["b" /* MenuItem */]("Paste", __WEBPACK_IMPORTED_MODULE_12__lib_callback__["a" /* Callback */].from(function () { return _this.paste(); }), new __WEBPACK_IMPORTED_MODULE_46__services_keyboard_service__["b" /* ShortCut */](true, false, false, 'V', menuEdit.name)));
        var dividerEdit = new __WEBPACK_IMPORTED_MODULE_6__menu__["b" /* MenuItem */]('divider', undefined);
        dividerEdit.isDivider = true;
        menuEdit.childs.push(dividerEdit);
        menuEdit.childs.push(new __WEBPACK_IMPORTED_MODULE_6__menu__["b" /* MenuItem */]("Clear", __WEBPACK_IMPORTED_MODULE_12__lib_callback__["a" /* Callback */].from(function () { return _this.clear(); }), new __WEBPACK_IMPORTED_MODULE_46__services_keyboard_service__["b" /* ShortCut */](false, false, false, 'Delete', menuEdit.name)));
        var dividerEdit2 = new __WEBPACK_IMPORTED_MODULE_6__menu__["b" /* MenuItem */]('divider', undefined);
        dividerEdit2.isDivider = true;
        menuEdit.childs.push(dividerEdit2);
        menuEdit.childs.push(new __WEBPACK_IMPORTED_MODULE_6__menu__["b" /* MenuItem */]("Undo", __WEBPACK_IMPORTED_MODULE_12__lib_callback__["a" /* Callback */].from(function () { return _this.undo(); }), new __WEBPACK_IMPORTED_MODULE_46__services_keyboard_service__["b" /* ShortCut */](true, false, false, 'Z', menuEdit.name)));
        menuEdit.childs.push(new __WEBPACK_IMPORTED_MODULE_6__menu__["b" /* MenuItem */]("Redo", __WEBPACK_IMPORTED_MODULE_12__lib_callback__["a" /* Callback */].from(function () { return _this.redo(); }), new __WEBPACK_IMPORTED_MODULE_46__services_keyboard_service__["b" /* ShortCut */](true, false, false, 'Y', menuEdit.name)));
        this.menus.push(menuEdit);
        var menuImage = new __WEBPACK_IMPORTED_MODULE_6__menu__["a" /* Menu */]("Workspace");
        menuImage.isDisabledCallback = __WEBPACK_IMPORTED_MODULE_12__lib_callback__["a" /* Callback */].from(function () { return _this.hasActiveWorkspace(); });
        menuImage.childs.push(new __WEBPACK_IMPORTED_MODULE_6__menu__["b" /* MenuItem */]("Resize", __WEBPACK_IMPORTED_MODULE_12__lib_callback__["a" /* Callback */].from(function () { return (_this.resize()); }), new __WEBPACK_IMPORTED_MODULE_46__services_keyboard_service__["b" /* ShortCut */](true, true, false, 'R', menuImage.name)));
        menuImage.childs.push(new __WEBPACK_IMPORTED_MODULE_6__menu__["b" /* MenuItem */]("Rotate 90", __WEBPACK_IMPORTED_MODULE_12__lib_callback__["a" /* Callback */].from(function () { _this.rotate(); }), new __WEBPACK_IMPORTED_MODULE_46__services_keyboard_service__["b" /* ShortCut */](true, false, false, 'R', menuImage.name)));
        var wDivider = new __WEBPACK_IMPORTED_MODULE_6__menu__["b" /* MenuItem */]("divider", undefined);
        wDivider.isDivider = true;
        menuImage.childs.push(wDivider);
        menuImage.childs.push(new __WEBPACK_IMPORTED_MODULE_6__menu__["b" /* MenuItem */]("Flip Horizontal", __WEBPACK_IMPORTED_MODULE_12__lib_callback__["a" /* Callback */].from(function () { _this.flipWorkspaceImage(true); })));
        menuImage.childs.push(new __WEBPACK_IMPORTED_MODULE_6__menu__["b" /* MenuItem */]("Flip Vertical", __WEBPACK_IMPORTED_MODULE_12__lib_callback__["a" /* Callback */].from(function () { _this.flipWorkspaceImage(false); })));
        var wDivider3 = new __WEBPACK_IMPORTED_MODULE_6__menu__["b" /* MenuItem */]("divider", undefined);
        wDivider3.isDivider = true;
        menuImage.childs.push(wDivider3);
        menuImage.childs.push(new __WEBPACK_IMPORTED_MODULE_6__menu__["b" /* MenuItem */]("Next Background Color", __WEBPACK_IMPORTED_MODULE_12__lib_callback__["a" /* Callback */].from(function () { _this.changeWorkspaceBackgroundColor(); })));
        this.menus.push(menuImage);
        var menuLayers = new __WEBPACK_IMPORTED_MODULE_6__menu__["a" /* Menu */]("Layer");
        menuLayers.isDisabledCallback = __WEBPACK_IMPORTED_MODULE_12__lib_callback__["a" /* Callback */].from(function () { return _this.hasActiveWorkspace(); });
        menuLayers.childs.push(new __WEBPACK_IMPORTED_MODULE_6__menu__["b" /* MenuItem */]("New", __WEBPACK_IMPORTED_MODULE_12__lib_callback__["a" /* Callback */].from(function () { _this.newLayer(); }), new __WEBPACK_IMPORTED_MODULE_46__services_keyboard_service__["b" /* ShortCut */](false, false, true, 'N', menuLayers.name)));
        menuLayers.childs.push(new __WEBPACK_IMPORTED_MODULE_6__menu__["b" /* MenuItem */]("New from selection", __WEBPACK_IMPORTED_MODULE_12__lib_callback__["a" /* Callback */].from(function () { return _this.newLayerFromSelection(); })));
        menuLayers.childs.push(new __WEBPACK_IMPORTED_MODULE_6__menu__["b" /* MenuItem */]("Clone selected", __WEBPACK_IMPORTED_MODULE_12__lib_callback__["a" /* Callback */].from(function () { return _this.cloneSelectedLayer(); })));
        menuLayers.childs.push(new __WEBPACK_IMPORTED_MODULE_7__menubar_menuItems_menuItemOpenImage__["a" /* MenuItemOpenImage */](this._appService, projectService, new __WEBPACK_IMPORTED_MODULE_46__services_keyboard_service__["b" /* ShortCut */](false, false, true, 'F', menuLayers.name), "New from a file", false));
        menuLayers.childs.push(new __WEBPACK_IMPORTED_MODULE_6__menu__["b" /* MenuItem */]("New text layer", __WEBPACK_IMPORTED_MODULE_12__lib_callback__["a" /* Callback */].from(function () { return _this.newTextLayer(); }), new __WEBPACK_IMPORTED_MODULE_46__services_keyboard_service__["b" /* ShortCut */](false, false, true, 'T', menuLayers.name)));
        menuLayers.childs.push(new __WEBPACK_IMPORTED_MODULE_6__menu__["b" /* MenuItem */]("New from samples", __WEBPACK_IMPORTED_MODULE_12__lib_callback__["a" /* Callback */].from(function () { return _this.showFormSampleImages(false); }), new __WEBPACK_IMPORTED_MODULE_46__services_keyboard_service__["b" /* ShortCut */](false, false, true, 'I', menuLayers.name)));
        var wDivider2 = new __WEBPACK_IMPORTED_MODULE_6__menu__["b" /* MenuItem */]("divider", undefined);
        wDivider2.isDivider = true;
        menuLayers.childs.push(wDivider2);
        menuLayers.childs.push(new __WEBPACK_IMPORTED_MODULE_6__menu__["b" /* MenuItem */]("Flip Horizontal", __WEBPACK_IMPORTED_MODULE_12__lib_callback__["a" /* Callback */].from(function () { _this.flipImage(true); }), new __WEBPACK_IMPORTED_MODULE_46__services_keyboard_service__["b" /* ShortCut */](false, false, true, 'H', menuLayers.name)));
        menuLayers.childs.push(new __WEBPACK_IMPORTED_MODULE_6__menu__["b" /* MenuItem */]("Flip Vertical", __WEBPACK_IMPORTED_MODULE_12__lib_callback__["a" /* Callback */].from(function () { _this.flipImage(false); }), new __WEBPACK_IMPORTED_MODULE_46__services_keyboard_service__["b" /* ShortCut */](false, false, true, 'V', menuLayers.name)));
        this.menus.push(menuLayers);
        var menuFilters = new __WEBPACK_IMPORTED_MODULE_6__menu__["a" /* Menu */]("Filters");
        menuFilters.isDisabledCallback = __WEBPACK_IMPORTED_MODULE_12__lib_callback__["a" /* Callback */].from(function () { return _this.hasActiveWorkspace(); });
        menuFilters.childs.push(new __WEBPACK_IMPORTED_MODULE_6__menu__["b" /* MenuItem */]("Color remap", __WEBPACK_IMPORTED_MODULE_12__lib_callback__["a" /* Callback */].from(this.showFormColorRemap)));
        menuFilters.childs.push(new __WEBPACK_IMPORTED_MODULE_6__menu__["b" /* MenuItem */]("Color adjustment", __WEBPACK_IMPORTED_MODULE_12__lib_callback__["a" /* Callback */].from(this.showFormColorAdjustment)));
        menuFilters.childs.push(new __WEBPACK_IMPORTED_MODULE_6__menu__["b" /* MenuItem */]("Grayscale", __WEBPACK_IMPORTED_MODULE_12__lib_callback__["a" /* Callback */].from(this.showFormGrayscale)));
        menuFilters.childs.push(new __WEBPACK_IMPORTED_MODULE_6__menu__["b" /* MenuItem */]("Sepia", __WEBPACK_IMPORTED_MODULE_12__lib_callback__["a" /* Callback */].from(this.showFormSepia)));
        menuFilters.childs.push(new __WEBPACK_IMPORTED_MODULE_6__menu__["b" /* MenuItem */]("Blur", __WEBPACK_IMPORTED_MODULE_12__lib_callback__["a" /* Callback */].from(this.showFormBlur)));
        menuFilters.childs.push(new __WEBPACK_IMPORTED_MODULE_6__menu__["b" /* MenuItem */]("Soften", __WEBPACK_IMPORTED_MODULE_12__lib_callback__["a" /* Callback */].from(this.showFormSoften)));
        menuFilters.childs.push(new __WEBPACK_IMPORTED_MODULE_6__menu__["b" /* MenuItem */]("Sharpen", __WEBPACK_IMPORTED_MODULE_12__lib_callback__["a" /* Callback */].from(this.showFormSharpen)));
        menuFilters.childs.push(new __WEBPACK_IMPORTED_MODULE_6__menu__["b" /* MenuItem */]("Edge detection", __WEBPACK_IMPORTED_MODULE_12__lib_callback__["a" /* Callback */].from(this.showFormEdgeDetection)));
        menuFilters.childs.push(new __WEBPACK_IMPORTED_MODULE_6__menu__["b" /* MenuItem */]("Edge gradient", __WEBPACK_IMPORTED_MODULE_12__lib_callback__["a" /* Callback */].from(this.showFormEdgeGradient)));
        menuFilters.childs.push(new __WEBPACK_IMPORTED_MODULE_6__menu__["b" /* MenuItem */]("Emboss", __WEBPACK_IMPORTED_MODULE_12__lib_callback__["a" /* Callback */].from(this.showFormEmboss)));
        menuFilters.childs.push(new __WEBPACK_IMPORTED_MODULE_6__menu__["b" /* MenuItem */]("High pass", __WEBPACK_IMPORTED_MODULE_12__lib_callback__["a" /* Callback */].from(this.showFormHighPass)));
        menuFilters.childs.push(new __WEBPACK_IMPORTED_MODULE_6__menu__["b" /* MenuItem */]("Low pass", __WEBPACK_IMPORTED_MODULE_12__lib_callback__["a" /* Callback */].from(this.showFormLowPass)));
        menuFilters.childs.push(new __WEBPACK_IMPORTED_MODULE_6__menu__["b" /* MenuItem */]("Erode Dilation", __WEBPACK_IMPORTED_MODULE_12__lib_callback__["a" /* Callback */].from(this.showFormErodeDilation)));
        menuFilters.childs.push(new __WEBPACK_IMPORTED_MODULE_6__menu__["b" /* MenuItem */]("Median", __WEBPACK_IMPORTED_MODULE_12__lib_callback__["a" /* Callback */].from(this.showFormMedian)));
        menuFilters.childs.push(new __WEBPACK_IMPORTED_MODULE_6__menu__["b" /* MenuItem */]("Mean", __WEBPACK_IMPORTED_MODULE_12__lib_callback__["a" /* Callback */].from(this.showFormMean)));
        menuFilters.childs.push(new __WEBPACK_IMPORTED_MODULE_6__menu__["b" /* MenuItem */]("Oil painting", __WEBPACK_IMPORTED_MODULE_12__lib_callback__["a" /* Callback */].from(this.showFormOilPainting)));
        menuFilters.childs.push(new __WEBPACK_IMPORTED_MODULE_6__menu__["b" /* MenuItem */]("Cartoon", __WEBPACK_IMPORTED_MODULE_12__lib_callback__["a" /* Callback */].from(this.showFormCartoon)));
        this.menus.push(menuFilters);
        var font = new __WEBPACK_IMPORTED_MODULE_6__menu__["a" /* Menu */]("Font");
        font.childs.push(new __WEBPACK_IMPORTED_MODULE_6__menu__["b" /* MenuItem */]("Load Google Fonts", __WEBPACK_IMPORTED_MODULE_12__lib_callback__["a" /* Callback */].from(this.showFormFontLoad)));
        this.menus.push(font);
        /*    let window = new menu("Window");
           window.childs.push(new menuItem("Show Layer Properties", Callback.from(this.showFormLayerProperties)));
           this.menus.push(window); */
        var menuHelp = new __WEBPACK_IMPORTED_MODULE_6__menu__["a" /* Menu */]("Help");
        menuHelp.childs.push(new __WEBPACK_IMPORTED_MODULE_6__menu__["b" /* MenuItem */]("About", __WEBPACK_IMPORTED_MODULE_12__lib_callback__["a" /* Callback */].from(this.showAbout)));
        menuHelp.childs.push(new __WEBPACK_IMPORTED_MODULE_6__menu__["b" /* MenuItem */]("Keyboard", __WEBPACK_IMPORTED_MODULE_12__lib_callback__["a" /* Callback */].from(this.showShortcuts), new __WEBPACK_IMPORTED_MODULE_46__services_keyboard_service__["b" /* ShortCut */](true, true, false, 'K', menuHelp.name)));
        menuHelp.childs.push(new __WEBPACK_IMPORTED_MODULE_6__menu__["b" /* MenuItem */]("Bug report", __WEBPACK_IMPORTED_MODULE_12__lib_callback__["a" /* Callback */].from(this.openBugLink)));
        //menuHelp.childs.push(new MenuItem("Twitter", Callback.from(this.openTwitterLink)));
        this.menus.push(menuHelp);
        var menuTest = new __WEBPACK_IMPORTED_MODULE_6__menu__["a" /* Menu */]("Test");
        menuTest.childs.push(new __WEBPACK_IMPORTED_MODULE_6__menu__["b" /* MenuItem */]("Create Instagram", __WEBPACK_IMPORTED_MODULE_12__lib_callback__["a" /* Callback */].from(function () { _this.createInstagramFilter(); })));
        // this.menus.push(menuTest);
        this.menus.forEach(function (item) {
            item.childs.forEach(function (subitem) {
                if (subitem.shortCut) {
                    keyboardService.add(subitem.shortCut);
                }
            });
        });
    }
    MenubarComponent.prototype.ngOnInit = function () {
    };
    MenubarComponent.prototype.hasActiveWorkspace = function () {
        return !this._projectService.currentProject.activeWorkspace;
    };
    MenubarComponent.prototype.createInstagramFilter = function () {
        var cmd = new __WEBPACK_IMPORTED_MODULE_26__commands_cmdCreateInstagramFilter__["a" /* CmdCreateInstagramFilter */](this._projectService, this._appService);
        cmd.executeAsync();
    };
    MenubarComponent.prototype.notImplementedYet = function () {
        var cmd = new __WEBPACK_IMPORTED_MODULE_44__commands_cmdShowError__["a" /* CmdShowError */]('not implemented yet');
        cmd.executeAsync();
    };
    MenubarComponent.prototype.newLayerFromSelection = function () {
        var cmd = new __WEBPACK_IMPORTED_MODULE_40__commands_cmdNewLayerFromSelection__["a" /* CmdNewLayerFromSelection */](this._projectService, this._appService);
        cmd.executeAsync();
    };
    MenubarComponent.prototype.cloneSelectedLayer = function () {
        var cmd = new __WEBPACK_IMPORTED_MODULE_37__commands_cmdCloneLayer__["a" /* CmdCloneLayer */](this._projectService, this._appService);
        cmd.executeAsync();
    };
    MenubarComponent.prototype.openBugLink = function () {
        window.open("https://github.com/hamzakilic/photoedit_app/issues", "_blank");
    };
    MenubarComponent.prototype.openTwitterLink = function () {
        window.open("https://twitter.com/photoedit_onlin", "_blank");
    };
    MenubarComponent.prototype.clear = function () {
        var cmd = new __WEBPACK_IMPORTED_MODULE_31__commands_cmdClear__["a" /* CmdClear */](this._projectService, this._appService, this._clipboardService);
        cmd.executeAsync();
    };
    MenubarComponent.prototype.cut = function () {
        var cmd = new __WEBPACK_IMPORTED_MODULE_29__commands_cmdCut__["a" /* CmdCut */](this._projectService, this._appService, this._clipboardService);
        cmd.executeAsync();
    };
    MenubarComponent.prototype.undo = function () {
        var cmd = new __WEBPACK_IMPORTED_MODULE_32__commands_cmdUndo__["a" /* CmdUndo */](this._projectService, this._appService);
        cmd.executeAsync();
    };
    MenubarComponent.prototype.redo = function () {
        var cmd = new __WEBPACK_IMPORTED_MODULE_33__commands_cmdRedo__["a" /* CmdRedo */](this._projectService, this._appService);
        cmd.executeAsync();
    };
    MenubarComponent.prototype.copy = function () {
        var cmd = new __WEBPACK_IMPORTED_MODULE_42__commands_cmdCopy__["a" /* CmdCopy */](this._projectService, this._appService, this._clipboardService);
        cmd.executeAsync();
    };
    MenubarComponent.prototype.paste = function () {
        var cmd = new __WEBPACK_IMPORTED_MODULE_41__commands_cmdPaste__["a" /* CmdPaste */](this._projectService, this._clipboardService);
        cmd.executeAsync();
    };
    MenubarComponent.prototype.changeWorkspaceBackgroundColor = function () {
        var cmd = new __WEBPACK_IMPORTED_MODULE_36__commands_cmdChangeBackgroundLayerColor__["a" /* CmdChangeBackgroundLayerColor */](this._projectService, this._appService);
        cmd.executeAsync();
    };
    MenubarComponent.prototype.showFormFontLoad = function () {
        var cmd = new __WEBPACK_IMPORTED_MODULE_18__commands_cmdShowFormFontLoad__["a" /* CmdShowFormFontLoad */]();
        cmd.executeAsync();
    };
    MenubarComponent.prototype.showFormLayerProperties = function () {
        var cmd = new __WEBPACK_IMPORTED_MODULE_19__commands_cmdShowFormLayerProperties__["a" /* CmdShowFormLayerProperties */]();
        cmd.executeAsync();
    };
    MenubarComponent.prototype.showFormColorRemap = function () {
        var cmd = new __WEBPACK_IMPORTED_MODULE_20__commands_cmdShowFormColorRemap__["a" /* CmdShowFormColorRemap */]();
        cmd.executeAsync();
    };
    MenubarComponent.prototype.showFormColorAdjustment = function () {
        var cmd = new __WEBPACK_IMPORTED_MODULE_21__commands_cmdShowFormColorAdjustment__["a" /* CmdShowFormColorAdjustments */]();
        cmd.executeAsync();
    };
    MenubarComponent.prototype.showFormGrayscale = function () {
        var cmd = new __WEBPACK_IMPORTED_MODULE_23__commands_cmdShowFormGrayscale__["a" /* CmdShowFormGrayscale */]();
        cmd.executeAsync();
    };
    MenubarComponent.prototype.showFormBlur = function () {
        var cmd = new __WEBPACK_IMPORTED_MODULE_35__commands_cmdShowFormConvolution__["a" /* CmdShowFormConvolution */]("Blur", false, [
            new __WEBPACK_IMPORTED_MODULE_48__lib_imagealgorithm_convolution_imageAlgorithmBlur__["a" /* ImageAlgorithmBlur3x3 */](),
            new __WEBPACK_IMPORTED_MODULE_48__lib_imagealgorithm_convolution_imageAlgorithmBlur__["b" /* ImageAlgorithmBlur5x5 */](),
            new __WEBPACK_IMPORTED_MODULE_48__lib_imagealgorithm_convolution_imageAlgorithmBlur__["c" /* ImageAlgorithmBlurGaussian3x3 */](),
            new __WEBPACK_IMPORTED_MODULE_48__lib_imagealgorithm_convolution_imageAlgorithmBlur__["d" /* ImageAlgorithmBlurGaussian5x5 */](),
            new __WEBPACK_IMPORTED_MODULE_48__lib_imagealgorithm_convolution_imageAlgorithmBlur__["e" /* ImageAlgorithmBlurGaussian7x7 */](),
            new __WEBPACK_IMPORTED_MODULE_48__lib_imagealgorithm_convolution_imageAlgorithmBlur__["f" /* ImageAlgorithmBlurMotion */](),
            new __WEBPACK_IMPORTED_MODULE_48__lib_imagealgorithm_convolution_imageAlgorithmBlur__["g" /* ImageAlgorithmBlurMotionLeftToRight */](),
            new __WEBPACK_IMPORTED_MODULE_48__lib_imagealgorithm_convolution_imageAlgorithmBlur__["h" /* ImageAlgorithmBlurMotionRightToLeft */]()
        ]);
        cmd.executeAsync();
    };
    MenubarComponent.prototype.showFormSoften = function () {
        var cmd = new __WEBPACK_IMPORTED_MODULE_35__commands_cmdShowFormConvolution__["a" /* CmdShowFormConvolution */]("Soften", false, [
            new __WEBPACK_IMPORTED_MODULE_59__lib_imagealgorithm_convolution_imageAlgorithmSoften__["a" /* ImageAlgorithmSoften */](),
        ]);
        cmd.executeAsync();
    };
    MenubarComponent.prototype.showFormSharpen = function () {
        var cmd = new __WEBPACK_IMPORTED_MODULE_35__commands_cmdShowFormConvolution__["a" /* CmdShowFormConvolution */]("Sharpen", false, [
            new __WEBPACK_IMPORTED_MODULE_58__lib_imagealgorithm_convolution_imageAlgorithmSharpen__["a" /* ImageAlgorithmSharpen */](),
            new __WEBPACK_IMPORTED_MODULE_58__lib_imagealgorithm_convolution_imageAlgorithmSharpen__["b" /* ImageAlgorithmSharpen3x3 */](),
            new __WEBPACK_IMPORTED_MODULE_58__lib_imagealgorithm_convolution_imageAlgorithmSharpen__["c" /* ImageAlgorithmSharpen3x3Factor */](),
            new __WEBPACK_IMPORTED_MODULE_58__lib_imagealgorithm_convolution_imageAlgorithmSharpen__["d" /* ImageAlgorithmSharpen5x5 */](),
            new __WEBPACK_IMPORTED_MODULE_58__lib_imagealgorithm_convolution_imageAlgorithmSharpen__["e" /* ImageAlgorithmSharpenIntense */](),
        ]);
        cmd.executeAsync();
    };
    MenubarComponent.prototype.showFormOilPainting = function () {
        var cmd = new __WEBPACK_IMPORTED_MODULE_53__commands_cmdShowFormOilPainting__["a" /* CmdShowFormOilPainting */]();
        cmd.executeAsync();
    };
    MenubarComponent.prototype.showFormCartoon = function () {
        var cmd = new __WEBPACK_IMPORTED_MODULE_4__commands_cmdShowFormCartoon__["a" /* CmdShowFormCartoon */]();
        cmd.executeAsync();
    };
    MenubarComponent.prototype.showFormEdgeDetection = function () {
        var cmd = new __WEBPACK_IMPORTED_MODULE_35__commands_cmdShowFormConvolution__["a" /* CmdShowFormConvolution */]("Edge Detection", false, [
            new __WEBPACK_IMPORTED_MODULE_52__lib_imagealgorithm_convolution_imageAlgorithmEdgeDetection__["a" /* ImageAlgorithmEdgeDetection */](),
            new __WEBPACK_IMPORTED_MODULE_52__lib_imagealgorithm_convolution_imageAlgorithmEdgeDetection__["b" /* ImageAlgorithmEdgeDetection45Degree */](),
            new __WEBPACK_IMPORTED_MODULE_52__lib_imagealgorithm_convolution_imageAlgorithmEdgeDetection__["c" /* ImageAlgorithmEdgeDetectionHorizontal */](),
            new __WEBPACK_IMPORTED_MODULE_52__lib_imagealgorithm_convolution_imageAlgorithmEdgeDetection__["e" /* ImageAlgorithmEdgeDetectionVertical */](),
            new __WEBPACK_IMPORTED_MODULE_52__lib_imagealgorithm_convolution_imageAlgorithmEdgeDetection__["d" /* ImageAlgorithmEdgeDetectionTopLeftBottomRight */](),
            new __WEBPACK_IMPORTED_MODULE_51__lib_imagealgorithm_convolution_imageAlgorithmEdgeDetectionLaplace__["a" /* ImageAlgorithmEdgeDetectionLaplace3x3 */](false),
            new __WEBPACK_IMPORTED_MODULE_51__lib_imagealgorithm_convolution_imageAlgorithmEdgeDetectionLaplace__["a" /* ImageAlgorithmEdgeDetectionLaplace3x3 */](true),
            new __WEBPACK_IMPORTED_MODULE_51__lib_imagealgorithm_convolution_imageAlgorithmEdgeDetectionLaplace__["b" /* ImageAlgorithmEdgeDetectionLaplace5x5 */](false),
            new __WEBPACK_IMPORTED_MODULE_51__lib_imagealgorithm_convolution_imageAlgorithmEdgeDetectionLaplace__["b" /* ImageAlgorithmEdgeDetectionLaplace5x5 */](true),
            /* new ImageAlgorithmEdgeDetectionLaplace5x5_2(false),
            new ImageAlgorithmEdgeDetectionLaplace5x5_2(true),
            new ImageAlgorithmEdgeDetectionLaplace5x5_3(false),
            new ImageAlgorithmEdgeDetectionLaplace5x5_3(true), */
            new __WEBPACK_IMPORTED_MODULE_51__lib_imagealgorithm_convolution_imageAlgorithmEdgeDetectionLaplace__["c" /* ImageAlgorithmEdgeDetectionLaplaceGaussian */](false),
            new __WEBPACK_IMPORTED_MODULE_51__lib_imagealgorithm_convolution_imageAlgorithmEdgeDetectionLaplace__["c" /* ImageAlgorithmEdgeDetectionLaplaceGaussian */](true),
            new __WEBPACK_IMPORTED_MODULE_57__lib_imagealgorithm_convolution_imageAlgorithmSobel__["a" /* ImageAlgorithmSobel */](false),
            new __WEBPACK_IMPORTED_MODULE_57__lib_imagealgorithm_convolution_imageAlgorithmSobel__["a" /* ImageAlgorithmSobel */](true),
            new __WEBPACK_IMPORTED_MODULE_56__lib_imagealgorithm_convolution_imageAlgorithmPrewitt__["a" /* ImageAlgorithmPrewitt */](false),
            new __WEBPACK_IMPORTED_MODULE_56__lib_imagealgorithm_convolution_imageAlgorithmPrewitt__["a" /* ImageAlgorithmPrewitt */](true),
            new __WEBPACK_IMPORTED_MODULE_55__lib_imagealgorithm_convolution_imageAlgorithmKrish__["a" /* ImageAlgorithmKrish */](false),
            new __WEBPACK_IMPORTED_MODULE_55__lib_imagealgorithm_convolution_imageAlgorithmKrish__["a" /* ImageAlgorithmKrish */](true),
        ]);
        cmd.executeAsync();
    };
    MenubarComponent.prototype.showFormEdgeGradient = function () {
        var cmd = new __WEBPACK_IMPORTED_MODULE_0__commands_cmdShowFormEdgeGradient__["a" /* CmdShowFormEdgeGradient */]();
        cmd.executeAsync();
    };
    MenubarComponent.prototype.showFormErodeDilation = function () {
        var cmd = new __WEBPACK_IMPORTED_MODULE_54__commands_cmdShowFormErodeDilation__["a" /* CmdShowFormErodeDilation */]();
        cmd.executeAsync();
    };
    MenubarComponent.prototype.showFormSepia = function () {
        var cmd = new __WEBPACK_IMPORTED_MODULE_35__commands_cmdShowFormConvolution__["a" /* CmdShowFormConvolution */]("Sepia", false, [
            new __WEBPACK_IMPORTED_MODULE_3__lib_imagealgorithm_imageAlgorithmSepia__["a" /* ImageAlgorithmSepia */]("Version 1")
        ]);
        cmd.executeAsync();
    };
    MenubarComponent.prototype.showFormMedian = function () {
        var cmd = new __WEBPACK_IMPORTED_MODULE_35__commands_cmdShowFormConvolution__["a" /* CmdShowFormConvolution */]("Median", true, [
            new __WEBPACK_IMPORTED_MODULE_47__lib_imagealgorithm_convolution_imageAlgorithmMedian__["a" /* ImageAlgorithmMedian3x3 */](),
            new __WEBPACK_IMPORTED_MODULE_47__lib_imagealgorithm_convolution_imageAlgorithmMedian__["b" /* ImageAlgorithmMedian5x5 */](),
            new __WEBPACK_IMPORTED_MODULE_47__lib_imagealgorithm_convolution_imageAlgorithmMedian__["c" /* ImageAlgorithmMedian7x7 */](),
            new __WEBPACK_IMPORTED_MODULE_47__lib_imagealgorithm_convolution_imageAlgorithmMedian__["d" /* ImageAlgorithmMedian9x9 */](),
        ]);
        cmd.executeAsync();
    };
    MenubarComponent.prototype.showFormMean = function () {
        var cmd = new __WEBPACK_IMPORTED_MODULE_35__commands_cmdShowFormConvolution__["a" /* CmdShowFormConvolution */]("Mean", true, [
            new __WEBPACK_IMPORTED_MODULE_2__lib_imagealgorithm_convolution_imageAlgorithmMean__["a" /* ImageAlgorithmMean3x3 */](),
            new __WEBPACK_IMPORTED_MODULE_2__lib_imagealgorithm_convolution_imageAlgorithmMean__["b" /* ImageAlgorithmMean5x5 */](),
        ]);
        cmd.executeAsync();
    };
    MenubarComponent.prototype.showFormEmboss = function () {
        var cmd = new __WEBPACK_IMPORTED_MODULE_35__commands_cmdShowFormConvolution__["a" /* CmdShowFormConvolution */]("Emboss", false, [
            new __WEBPACK_IMPORTED_MODULE_50__lib_imagealgorithm_convolution_imageAlgorithmEmboss__["a" /* ImageAlgorithmEmboss */](),
            new __WEBPACK_IMPORTED_MODULE_50__lib_imagealgorithm_convolution_imageAlgorithmEmboss__["b" /* ImageAlgorithmEmboss45Degree */](),
            new __WEBPACK_IMPORTED_MODULE_50__lib_imagealgorithm_convolution_imageAlgorithmEmboss__["c" /* ImageAlgorithmEmbossIntense */](),
            new __WEBPACK_IMPORTED_MODULE_50__lib_imagealgorithm_convolution_imageAlgorithmEmboss__["d" /* ImageAlgorithmEmbossTopLeftBottomRight */](),
        ]);
        cmd.executeAsync();
    };
    MenubarComponent.prototype.showFormHighPass = function () {
        var cmd = new __WEBPACK_IMPORTED_MODULE_35__commands_cmdShowFormConvolution__["a" /* CmdShowFormConvolution */]("High pass", false, [
            new __WEBPACK_IMPORTED_MODULE_49__lib_imagealgorithm_convolution_imageAlgorithmHighPass__["a" /* ImageAlgorithmHighPass3x3 */]()
        ]);
        cmd.executeAsync();
    };
    MenubarComponent.prototype.showFormLowPass = function () {
        var cmd = new __WEBPACK_IMPORTED_MODULE_35__commands_cmdShowFormConvolution__["a" /* CmdShowFormConvolution */]("Low pass", false, [
            new __WEBPACK_IMPORTED_MODULE_1__lib_imagealgorithm_convolution_imageAlgorithmLowpass__["a" /* ImageAlgorithmLowpass3x3 */](),
            new __WEBPACK_IMPORTED_MODULE_1__lib_imagealgorithm_convolution_imageAlgorithmLowpass__["b" /* ImageAlgorithmLowpass5x5 */]()
        ]);
        cmd.executeAsync();
    };
    /**
     * opens sample images dialog for adding new workspace or layer
     */
    MenubarComponent.prototype.showFormSampleImages = function (openAsWorkspace) {
        var cmd = new __WEBPACK_IMPORTED_MODULE_22__commands_cmdShowFormSampleImages__["a" /* CmdShowFormSampleImages */](openAsWorkspace);
        cmd.executeAsync();
    };
    MenubarComponent.prototype.showAbout = function () {
        var cmd = new __WEBPACK_IMPORTED_MODULE_45__commands_cmdShowFormAbout__["a" /* CmdShowFormAbout */]();
        cmd.executeAsync();
    };
    MenubarComponent.prototype.showShortcuts = function () {
        var cmd = new __WEBPACK_IMPORTED_MODULE_43__commands_cmdShowFormShortcuts__["a" /* CmdShowFormShortcuts */]();
        cmd.executeAsync();
    };
    MenubarComponent.prototype.zoomIn = function () {
        var cmd = new __WEBPACK_IMPORTED_MODULE_13__commands_cmdZoom__["a" /* CmdZoom */](__WEBPACK_IMPORTED_MODULE_13__commands_cmdZoom__["a" /* CmdZoom */].In, this._projectService);
        cmd.executeAsync();
    };
    MenubarComponent.prototype.zoomOut = function () {
        var cmd = new __WEBPACK_IMPORTED_MODULE_13__commands_cmdZoom__["a" /* CmdZoom */](__WEBPACK_IMPORTED_MODULE_13__commands_cmdZoom__["a" /* CmdZoom */].Out, this._projectService);
        cmd.executeAsync();
    };
    MenubarComponent.prototype.newLayer = function () {
        var cmd = new __WEBPACK_IMPORTED_MODULE_14__commands_cmdNewLayer__["a" /* CmdNewLayer */](this._projectService);
        cmd.executeAsync();
    };
    MenubarComponent.prototype.newTextLayer = function () {
        var cmd = new __WEBPACK_IMPORTED_MODULE_17__commands_cmdAddTextLayer__["a" /* CmdAddTextLayer */](this._projectService, this._appService);
        cmd.executeAsync();
    };
    MenubarComponent.prototype.newLayerFromAFile = function () {
        var cmd = new __WEBPACK_IMPORTED_MODULE_14__commands_cmdNewLayer__["a" /* CmdNewLayer */](this._projectService);
        cmd.executeAsync();
    };
    MenubarComponent.prototype.resize = function () {
        var cmd = new __WEBPACK_IMPORTED_MODULE_15__commands_cmdShowFormResize__["a" /* CmdShowFormResize */]();
        cmd.executeAsync();
    };
    MenubarComponent.prototype.flipWorkspaceImage = function (isHorizontal) {
        var cmd = new __WEBPACK_IMPORTED_MODULE_39__commands_cmdFlipWorkspace__["a" /* CmdFlipWorkspace */](isHorizontal, this._projectService, this._appService);
        cmd.executeAsync();
    };
    MenubarComponent.prototype.flipImage = function (isHorizontal) {
        var cmd = new __WEBPACK_IMPORTED_MODULE_38__commands_cmdFlipImage__["a" /* CmdFlipImage */](isHorizontal, this._projectService, this._appService);
        cmd.executeAsync();
    };
    MenubarComponent.prototype.export = function (format) {
        var cmd = new __WEBPACK_IMPORTED_MODULE_34__commands_cmdExportWorkspace__["a" /* CmdExportWorkspace */](format, false, this._projectService, this._appService);
        cmd.executeAsync();
    };
    MenubarComponent.prototype.exportPreview = function (format) {
        var cmd = new __WEBPACK_IMPORTED_MODULE_34__commands_cmdExportWorkspace__["a" /* CmdExportWorkspace */](format, true, this._projectService, this._appService);
        cmd.executeAsync();
    };
    MenubarComponent.prototype.grayscale = function () {
        var cmd = new __WEBPACK_IMPORTED_MODULE_25__commands_cmdExecuteImageAlgorithms__["a" /* CmdExecuteImageAlgorithms */]([new __WEBPACK_IMPORTED_MODULE_27__lib_imagealgorithm_imageAlgorithmGrayscale__["a" /* ImageAlgorithmGrayscale */](1)], this._projectService, this._appService);
        cmd.executeAsync();
    };
    MenubarComponent.prototype.rotate = function () {
        var cmd = new __WEBPACK_IMPORTED_MODULE_16__commands_cmdRotateWorkspace__["a" /* CmdRotateWorkspace */](this._projectService, this._appService);
        cmd.executeAsync();
    };
    MenubarComponent.prototype.colorRemap = function (name) {
        var cmd = new __WEBPACK_IMPORTED_MODULE_24__commands_cmdColorRemap__["a" /* CmdColorRemap */](name, this._projectService, this._appService, this._effectService);
        cmd.executeAsync();
    };
    MenubarComponent.prototype.isMenuItem = function (item) {
        return true;
    };
    MenubarComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_5__angular_core__["Component"])({
            selector: 'menubar-component',
            template: __webpack_require__("../../../../../src/app/components/menubar/menubar.component.html"),
            styles: [__webpack_require__("../../../../../src/app/components/menubar/menubar.component.scss")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_9__services_project_service__["a" /* ProjectService */], __WEBPACK_IMPORTED_MODULE_10__services_app_service__["a" /* AppService */], __WEBPACK_IMPORTED_MODULE_11__services_effect_service__["a" /* EffectService */], __WEBPACK_IMPORTED_MODULE_28__services_keyboard_service__["a" /* KeyboardService */], __WEBPACK_IMPORTED_MODULE_30__services_clipboard_service__["b" /* ClipboardService */]])
    ], MenubarComponent);
    return MenubarComponent;
}());



/***/ }),

/***/ "../../../../../src/app/components/messagebox-modal/messagebox-modal.component.html":
/***/ (function(module, exports) {

module.exports = "\n<div  bsModal #smModal=\"bs-modal\" class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"mySmallModalLabel\" aria-hidden=\"true\">\n  <div class=\"modal-dialog modal-sm \">\n    <div class=\"modal-content\">\n      <div class=\"modal-header\">\n        <h6 class=\"modal-title pull-left\">Message</h6>\n        <button type=\"button\" class=\"close pull-right\" aria-label=\"Close\" (click)=\"smModal.hide()\">\n          <span aria-hidden=\"true\">&times;</span>\n        </button>\n      </div>\n      <div class=\"modal-body\">\n        {{msg}}\n      </div>\n    </div>\n  </div>\n</div>\n\n"

/***/ }),

/***/ "../../../../../src/app/components/messagebox-modal/messagebox-modal.component.scss":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/components/messagebox-modal/messagebox-modal.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MessageBoxModalComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ngx_bootstrap_modal__ = __webpack_require__("../../../../ngx-bootstrap/modal/index.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__entities_message__ = __webpack_require__("../../../../../src/app/entities/message.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__lib_messageBus__ = __webpack_require__("../../../../../src/app/lib/messageBus.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__lib_callback__ = __webpack_require__("../../../../../src/app/lib/callback.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var MessageBoxModalComponent = /** @class */ (function () {
    function MessageBoxModalComponent() {
        var _this = this;
        this.callFunc = __WEBPACK_IMPORTED_MODULE_4__lib_callback__["a" /* Callback */].from(function (err) { return _this.showError(err); });
    }
    MessageBoxModalComponent.prototype.ngOnInit = function () {
        __WEBPACK_IMPORTED_MODULE_3__lib_messageBus__["a" /* MessageBus */].subscribe(__WEBPACK_IMPORTED_MODULE_2__entities_message__["a" /* Message */].ShowError, this.callFunc);
    };
    MessageBoxModalComponent.prototype.ngAfterViewInit = function () {
    };
    MessageBoxModalComponent.prototype.ngOnDestroy = function () {
        __WEBPACK_IMPORTED_MODULE_3__lib_messageBus__["a" /* MessageBus */].unsubscribe(__WEBPACK_IMPORTED_MODULE_2__entities_message__["a" /* Message */].ShowError, this.callFunc);
    };
    MessageBoxModalComponent.prototype.showError = function (err) {
        if (this.smModal.isShown)
            this.msg += err.msg;
        else {
            this.msg = err.msg;
            this.smModal.show();
        }
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])("smModal"),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1_ngx_bootstrap_modal__["a" /* ModalDirective */])
    ], MessageBoxModalComponent.prototype, "smModal", void 0);
    MessageBoxModalComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'messageboxModal-component',
            template: __webpack_require__("../../../../../src/app/components/messagebox-modal/messagebox-modal.component.html"),
            styles: [__webpack_require__("../../../../../src/app/components/messagebox-modal/messagebox-modal.component.scss")]
        }),
        __metadata("design:paramtypes", [])
    ], MessageBoxModalComponent);
    return MessageBoxModalComponent;
}());



/***/ }),

/***/ "../../../../../src/app/components/notsupportedbrowser/notsupported.component.html":
/***/ (function(module, exports) {

module.exports = "<h1>\n  Not supported browser\n</h1>\n<p>\n  {{msg()}}\n</p>\n"

/***/ }),

/***/ "../../../../../src/app/components/notsupportedbrowser/notsupported.component.scss":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, ".body {\n  background-color: black; }\n", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/components/notsupportedbrowser/notsupported.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return NotSupportedBrowserComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__lib_checkBrowserCapabilities__ = __webpack_require__("../../../../../src/app/lib/checkBrowserCapabilities.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


var NotSupportedBrowserComponent = /** @class */ (function () {
    function NotSupportedBrowserComponent() {
        this.title = 'app not works!';
    }
    NotSupportedBrowserComponent.prototype.msg = function () {
        return __WEBPACK_IMPORTED_MODULE_1__lib_checkBrowserCapabilities__["a" /* CheckBrowserCapabilities */].errMsg;
    };
    NotSupportedBrowserComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'notsupportedBrowser-component',
            template: __webpack_require__("../../../../../src/app/components/notsupportedbrowser/notsupported.component.html"),
            styles: [__webpack_require__("../../../../../src/app/components/notsupportedbrowser/notsupported.component.scss")]
        })
    ], NotSupportedBrowserComponent);
    return NotSupportedBrowserComponent;
}());



/***/ }),

/***/ "../../../../../src/app/components/project/project.component.html":
/***/ (function(module, exports) {

module.exports = "<tabset *ngIf=\"project != undefined\" #staticTabs class=\"fontsmall  projecttabset\">\n\n <tab *ngFor=\"let workspace of project.workspaces\"  class=\"fontsmall\" [active]=\"workspace.isActive\" (select)=\"selectWorkspace(workspace)\" (removed)=\"removeWorkspace(workspace)\" [removable]=\"workspace.isRemoveable\"  [heading]=\"name(workspace)\"   >\n\n   <workspace-component  id='{{workspace.uuid}}'   [workspace]=\"workspace\" [ngClass]=\"workspace.cssClasses\"  class=\"wsc\"\n   mouse (mouseMove)=\"workspace.mouseMove($event)\"  \n(mouseDown)=\"workspace.mouseDown($event)\" \n(mouseUp)=\"workspace.mouseUp($event)\"\n(doubleClick)=\"workspace.doubleClick($event)\"\n>\n   </workspace-component>\n\n\n</tab>\n\n\n\n  </tabset>\n"

/***/ }),

/***/ "../../../../../src/app/components/project/project.component.scss":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, ".projecttabset {\n  width: 100%;\n  height: 100%;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n  position: relative; }\n\n.wsc {\n  /* display: flex; */\n  min-height: 100%;\n  min-width: 100%;\n  position: absolute;\n  overflow: auto;\n  background-color: #444444; }\n", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/components/project/project.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ProjectComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__services_project_service__ = __webpack_require__("../../../../../src/app/services/project.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__lib_extensions__ = __webpack_require__("../../../../../src/app/lib/extensions.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__lib_extensions___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__lib_extensions__);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var ProjectComponent = /** @class */ (function () {
    function ProjectComponent(projectService) {
        this.projectService = projectService;
        this.project = this.projectService.currentProject;
    }
    ProjectComponent.prototype.ngOnInit = function () {
    };
    ProjectComponent.prototype.selectWorkspace = function (ws) {
        this.project.activeWorkspace = (ws);
    };
    ProjectComponent.prototype.removeWorkspace = function (ws) {
        this.project.removeWorkspace(ws);
    };
    ProjectComponent.prototype.name = function (ws) {
        return ws.name + "(" + ws.width.extRound() + "x" + ws.height.extRound() + ")";
    };
    ProjectComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'project-component',
            template: __webpack_require__("../../../../../src/app/components/project/project.component.html"),
            styles: [__webpack_require__("../../../../../src/app/components/project/project.component.scss")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__services_project_service__["a" /* ProjectService */]])
    ], ProjectComponent);
    return ProjectComponent;
}());



/***/ }),

/***/ "../../../../../src/app/components/selection-properties/selection-properties.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"layersInfo\">\n<div *ngIf=\"project != undefined\">\n\n  <div *ngIf=\"project.activeWorkspace != undefined \">\n    <div *ngIf=\"project.activeWorkspace.selectionLayer != undefined \">\n     \n       \n        <section>\n          <label class=\"btn btn-primary buttonpadding mouseoverhand btn-sm \" (click)=\"cropOk()\" tooltip=\"crop selected layer or image\"\n            placement=\"right\">\n          <i class=\"fa fa-check \"  aria-hidden=\"true\" ></i>\n      </label>\n\n          <label class=\"btn btn-primary  buttonpadding mouseoverhand btn-sm\" (click)=\"cropCancel()\" tooltip=\"cancel crop\" placement=\"right\">\n          <i class=\"fa fa-times\"  aria-hidden=\"true\" ></i>\n      </label>\n        </section>\n        <section class=\"layersSection\">\n          <ul class=\"list-group\">\n            <li class=\"list-group-item layersLi\">\n              <div class=\"input-group input-group-sm\">\n                <span class=\"input-group-addon proName\" id=\"sizing-addon2\" tooltip=\"Width of croping\" placement=\"right\">W</span>\n\n                <input novalidate type=\"number\" class=\"form-control\" placeholder=\"Enter width of crop\" aria-describedby=\"sizing-addon2\" [ngModel]=\"project.activeWorkspace.selectionLayer.width\"\n                  min=\"10\" (ngModelChange)=\"changeWidth($event)\">\n              </div>\n              <div class=\"input-group input-group-sm\">\n                <span class=\"input-group-addon proName\" id=\"sizing-addon2\" tooltip=\"height of croping\" placement=\"right\">H</span>\n                <input novalidate type=\"number\" class=\"form-control\" placeholder=\"Enter height of layer\" aria-describedby=\"sizing-addon2\" [ngModel]=\"project.activeWorkspace.selectionLayer.height\"\n                  min=\"10\" (ngModelChange)=\"changeHeight($event)\">\n              </div>\n              <div class=\"input-group input-group-sm\">\n                <span class=\"input-group-addon proName\" id=\"sizing-addon2\" tooltip=\"left of croping\" placement=\"right\">L</span>\n                <input novalidate type=\"number\" class=\"form-control\" placeholder=\"Enter left of layer\" aria-describedby=\"sizing-addon2\" [ngModel]=\"project.activeWorkspace.selectionLayer.marginLeft\"\n                  (ngModelChange)=\"changeLeft($event)\">\n              </div>\n              <div class=\"input-group input-group-sm\">\n                <span class=\"input-group-addon proName\" id=\"sizing-addon2\" tooltip=\"top of croping\" placement=\"right\">T</span>\n                <input novalidate type=\"number\" class=\"form-control\" placeholder=\"Enter top of layer\" aria-describedby=\"sizing-addon2\" [ngModel]=\"project.activeWorkspace.selectionLayer.marginTop\"\n                  (ngModelChange)=\"changeTop($event)\">\n              </div>\n            </li>\n          </ul>\n\n        </section>\n      </div>\n    </div>\n  </div>\n</div>\n"

/***/ }),

/***/ "../../../../../src/app/components/selection-properties/selection-properties.component.scss":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, ".layersInfo {\n  background: -webkit-linear-gradient(top, white, #e6e5e5);\n  background-image: -webkit-linear-gradient(top, #615c5c, #887f7f);\n  min-height: 10%;\n  max-height: 10%; }\n\n.layersHeader {\n  line-height: 1rem;\n  color: white;\n  padding-left: 4px; }\n\n.layersLi {\n  background: -webkit-linear-gradient(top, white, #e6e5e5);\n  background-image: -webkit-linear-gradient(top, #646464, #e6e6e6); }\n\n.layerProperty {\n  margin-left: 0px !important; }\n\n.list-group-item {\n  padding: 5px;\n  white-space: nowrap; }\n\n.laName {\n  margin-bottom: 10px; }\n\n.proName {\n  width: 40px; }\n\n.buttonpadding {\n  margin: 3px; }\n\n.active {\n  background-color: #025aa5; }\n", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/components/selection-properties/selection-properties.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SelectionPropertiesComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__services_project_service__ = __webpack_require__("../../../../../src/app/services/project.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__services_app_service__ = __webpack_require__("../../../../../src/app/services/app.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__commands_cmdCrop__ = __webpack_require__("../../../../../src/app/commands/cmdCrop.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var SelectionPropertiesComponent = /** @class */ (function () {
    function SelectionPropertiesComponent(projectService, appService) {
        this.projectService = projectService;
        this.appService = appService;
        this.project = this.projectService.currentProject;
    }
    SelectionPropertiesComponent.prototype.ngOnInit = function () {
    };
    SelectionPropertiesComponent.prototype.changeWidth = function (value) {
        if (value > 10) {
            this.project.activeWorkspace.selectionLayer.setWidthHeight(value, this.project.activeWorkspace.selectionLayer.height);
        }
    };
    SelectionPropertiesComponent.prototype.changeHeight = function (value) {
        if (value > 10) {
            this.project.activeWorkspace.selectionLayer.setWidthHeight(this.project.activeWorkspace.selectionLayer.width, value);
        }
    };
    SelectionPropertiesComponent.prototype.changeTop = function (value) {
        this.project.activeWorkspace.selectionLayer.marginTop = value;
    };
    SelectionPropertiesComponent.prototype.changeLeft = function (value) {
        this.project.activeWorkspace.selectionLayer.marginLeft = value;
    };
    SelectionPropertiesComponent.prototype.cropOk = function () {
        var cmdCrop = new __WEBPACK_IMPORTED_MODULE_3__commands_cmdCrop__["a" /* CmdCrop */](this.projectService, this.appService);
        cmdCrop.executeAsync();
    };
    SelectionPropertiesComponent.prototype.cropCancel = function () {
        this.project.activeWorkspace.removeSelectionLayer();
    };
    SelectionPropertiesComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'selection-properties-component',
            template: __webpack_require__("../../../../../src/app/components/selection-properties/selection-properties.component.html"),
            styles: [__webpack_require__("../../../../../src/app/components/selection-properties/selection-properties.component.scss")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__services_project_service__["a" /* ProjectService */], __WEBPACK_IMPORTED_MODULE_2__services_app_service__["a" /* AppService */]])
    ], SelectionPropertiesComponent);
    return SelectionPropertiesComponent;
}());



/***/ }),

/***/ "../../../../../src/app/components/surface/surface.component.html":
/***/ (function(module, exports) {

module.exports = "\n<canvas  #renderCanvas class=\"canvas\"\n [(attr.width)]=\"surface.width\" [(style.width.px)]=\"surface.width*surface.scale\"\n [(attr.height)]=\"surface.height\" [(style.height.px)]=\"surface.height*surface.scale\" >\n\n</canvas>\n\n\n"

/***/ }),

/***/ "../../../../../src/app/components/surface/surface.component.scss":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, ".canvas {\n  /*display: block;\n  position: absolute;\n  top:0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  margin: auto;\n\n  z-index: 0;\n  background-color:black;\n  overflow: auto;*/ }\n", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/components/surface/surface.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SurfaceComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__models_photoedit_surface__ = __webpack_require__("../../../../../src/app/models/photoedit/surface.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var SurfaceComponent = /** @class */ (function () {
    function SurfaceComponent() {
        //create a uuid for component
        // this.uuid = Utility.uuid();
    }
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1__models_photoedit_surface__["a" /* SurfaceCanvas */])
    ], SurfaceComponent.prototype, "surface", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])("renderCanvas"),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"])
    ], SurfaceComponent.prototype, "canvas", void 0);
    SurfaceComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'surface-component',
            template: __webpack_require__("../../../../../src/app/components/surface/surface.component.html"),
            styles: [__webpack_require__("../../../../../src/app/components/surface/surface.component.scss")]
        }),
        __metadata("design:paramtypes", [])
    ], SurfaceComponent);
    return SurfaceComponent;
}());



/***/ }),

/***/ "../../../../../src/app/components/tools-options-brush/tools-options-brush.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"container-fluid no-gutters padding2\">\n    <div class=\"row no-gutters \">\n        <div class=\"input-group input-group-sm\">\n          <span class=\"input-group-addon w-25 font-size8\" style=\"margin-top:1px;margin-bottom:1px\" tooltip=\"Blend mode\" placement=\"right\">Blend</span>\n          <autocomplete class=\"form-control  autoComplete \" style=\"padding:0px\" [allowClear]=\"false\" [items]=\"blendModes\"  (data)=\"changeBrushBlendMode($event)\"\n          (selected)=\"changeBrushBlendMode($event)\"   [active]=\"getBrushBlendMode()\"\n          placeholder=\"No blend mode selected\"></autocomplete>\n    \n           \n        </div>\n      </div>\n  <div class=\"row no-gutters \">\n    <div class=\"input-group input-group-sm\">\n      <span class=\"input-group-addon w-25 font-size8\" style=\"margin-top:1px;margin-bottom:1px\" tooltip=\"Brush size in pixel\" placement=\"right\">Size</span>\n      <input  novalidate  type=\"number\" class=\"form-control\" placeholder=\"Enter size of brush\" aria-describedby=\"sizing-addon2\" \n       min=\"1\" max=\"250\" [value]=\"brushSize\" (input)=\"changeBrushSize($event.target.value)\">\n\n       \n    </div>\n  </div>\n  <div class=\"row no-gutters \">\n    <div class=\"input-group input-group-sm\">\n      <span class=\"input-group-addon w-25 font-size8\" style=\"margin-top:1px;margin-bottom:1px\" tooltip=\"Brush hardness\" placement=\"right\">Hardness</span>\n      <input  novalidate  type=\"number\" class=\"form-control\" placeholder=\"Enter hardness\" aria-describedby=\"sizing-addon2\" \n       min=\"0\" max=\"100\" [value]=\"brushHardness\" (input)=\"changeBrushHardness($event.target.value)\">\n\n       \n    </div>\n  </div>\n\n  <!-- <div class=\"row no-gutters \">\n      <div class=\"input-group input-group-sm\">      \n  \n         <span class=\"input-group-addon w-50 font-size8\" style=\"margin-top:1px;margin-bottom:1px\" tooltip=\"Brush opacity\" placement=\"right\">Opacity</span>\n         <input novalidate  type=\"number\" class=\"form-control\" placeholder=\"Enter opacity of brush\" aria-describedby=\"sizing-addon2\" \n          min=\"1\" max=\"100\" [value]=\"brushOpacity\" (input)=\"changeBrushOpacity($event.target.value)\">\n        \n      </div>\n    </div> -->\n</div>\n"

/***/ }),

/***/ "../../../../../src/app/components/tools-options-brush/tools-options-brush.component.scss":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/components/tools-options-brush/tools-options-brush.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ToolsOptionsBrushComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__services_app_service__ = __webpack_require__("../../../../../src/app/services/app.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__services_project_service__ = __webpack_require__("../../../../../src/app/services/project.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__models_photoedit_iworkspace__ = __webpack_require__("../../../../../src/app/models/photoedit/iworkspace.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var ToolsOptionsBrushComponent = /** @class */ (function () {
    function ToolsOptionsBrushComponent(projectService, appService) {
        this.projectService = projectService;
        this.appService = appService;
        this.project = this.projectService.currentProject;
    }
    ToolsOptionsBrushComponent.prototype.ngOnInit = function () {
    };
    Object.defineProperty(ToolsOptionsBrushComponent.prototype, "brushSize", {
        get: function () {
            if (this.isValid())
                return this.project.activeWorkspace.workMode.editType.size;
            return 5;
        },
        enumerable: true,
        configurable: true
    });
    ToolsOptionsBrushComponent.prototype.isValid = function () {
        return this.project && this.project.activeWorkspace && this.project.activeWorkspace.workMode.typeOf == __WEBPACK_IMPORTED_MODULE_3__models_photoedit_iworkspace__["a" /* WorkModes */].Brush;
    };
    ToolsOptionsBrushComponent.prototype.changeBrushSize = function (value) {
        var val = Number.parseInt(value);
        if (val) {
            if (this.isValid()) {
                this.project.activeWorkspace.workMode.editType.size = val;
            }
        }
    };
    Object.defineProperty(ToolsOptionsBrushComponent.prototype, "brushOpacity", {
        get: function () {
            if (this.isValid()) {
                return this.project.activeWorkspace.workMode.editType.opacity * 100;
            }
            return 100;
        },
        enumerable: true,
        configurable: true
    });
    ToolsOptionsBrushComponent.prototype.changeBrushOpacity = function (value) {
        var val = Number.parseInt(value);
        if (val) {
            if (this.isValid()) {
                this.project.activeWorkspace.workMode.editType.opacity = val / 100;
            }
        }
    };
    Object.defineProperty(ToolsOptionsBrushComponent.prototype, "brushHardness", {
        get: function () {
            if (this.isValid()) {
                return this.project.activeWorkspace.workMode.editType.hardness * 100;
            }
            return 100;
        },
        enumerable: true,
        configurable: true
    });
    ToolsOptionsBrushComponent.prototype.changeBrushHardness = function (value) {
        var val = Number.parseInt(value);
        if (val) {
            if (this.isValid()) {
                this.project.activeWorkspace.workMode.editType.hardness = val / 100;
            }
        }
    };
    Object.defineProperty(ToolsOptionsBrushComponent.prototype, "blendModes", {
        get: function () {
            return ["normal", "multiply", "screen", "overlay", "darken", "lighten", "color-dodge", "color-burn", "hard-light",
                "soft-light", "difference", "exclusion", "hue", "saturation", "color", "luminosity"].sort(function (a, b) { return a.localeCompare(b); });
        },
        enumerable: true,
        configurable: true
    });
    ToolsOptionsBrushComponent.prototype.changeBrushBlendMode = function (event) {
        if (this.isValid()) {
            this.project.activeWorkspace.workMode.editType.blendMode = event.id;
        }
    };
    ToolsOptionsBrushComponent.prototype.getBrushBlendMode = function () {
        var modes = [];
        if (this.isValid()) {
            var val = this.project.activeWorkspace.workMode.editType.blendMode;
            modes.push({ id: val, text: val });
        }
        else {
            modes.push({ id: "normal", text: "normal" });
        }
        return modes;
    };
    ToolsOptionsBrushComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_2__angular_core__["Component"])({
            selector: 'tools-options-brush-component',
            template: __webpack_require__("../../../../../src/app/components/tools-options-brush/tools-options-brush.component.html"),
            styles: [__webpack_require__("../../../../../src/app/components/tools-options-brush/tools-options-brush.component.scss")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__services_project_service__["a" /* ProjectService */], __WEBPACK_IMPORTED_MODULE_0__services_app_service__["a" /* AppService */]])
    ], ToolsOptionsBrushComponent);
    return ToolsOptionsBrushComponent;
}());



/***/ }),

/***/ "../../../../../src/app/components/tools-options-bucketfill/tools-options-bucketfill.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"container-fluid no-gutters padding2\">\n  <div class=\"row no-gutters \">\n      <div class=\"input-group input-group-sm\">\n        <span class=\"input-group-addon w-50 font-size8\" style=\"margin-top:1px;margin-bottom:1px\" tooltip=\"Blend mode\" placement=\"right\">Blend</span>\n        <autocomplete class=\"form-control  autoComplete \" style=\"padding:0px\" [allowClear]=\"false\" [items]=\"blendModes\"  (data)=\"changeBucketBlendMode($event)\"\n        (selected)=\"changeBucketBlendMode($event)\"   [active]=\"getBucketBlendMode()\"\n        placeholder=\"No blend mode selected\"></autocomplete>\n  \n         \n      </div>\n    </div>\n\n    <div class=\"row no-gutters\">\n      <div class=\"btn-group btn-group-sm w-100\">\n        <label class=\"btn btn-primary btn-sm w-50 lineheightsmall \" style=\"margin-top:3px;margin-left:0px;margin-right:0px;margin-bottom:3px;line-height:1rem\" [(ngModel)]=\"fillType\" btnRadio=\"fg\" tooltip=\"Foreground color\" placement=\"right\">FG</label>\n        <label class=\"btn btn-primary btn-sm w-50 lineheightsmall \" style=\"margin-top:3px;margin-left:0px;margin-right:0px;margin-bottom:3px;line-height:1rem\" [(ngModel)]=\"fillType\" btnRadio=\"bg\" tooltip=\"Background color\" placement=\"right\">BG</label>\n        \n      </div>\n    </div>\n\n    <div class=\"row no-gutters\">\n      <div class=\"btn-group btn-group-sm w-100\">\n        <label class=\"btn btn-primary btn-sm w-50 lineheightsmall \" style=\"margin-top:3px;margin-left:0px;margin-right:0px;margin-bottom:3px;line-height:1rem\" [(ngModel)]=\"selectType\" btnRadio=\"selection\" tooltip=\"Fill selection\" placement=\"right\">S</label>\n        <label class=\"btn btn-primary btn-sm w-50 lineheightsmall \" style=\"margin-top:3px;margin-left:0px;margin-right:0px;margin-bottom:3px;line-height:1rem\" [(ngModel)]=\"selectType\" btnRadio=\"color\" tooltip=\"Fill similar color\" placement=\"right\">C</label>\n        \n        \n      </div>\n    </div>\n    <div *ngIf=\"selectType=='color'\" class=\"row no-gutters \">\n      <div class=\"input-group input-group-sm\">\n        <span class=\"input-group-addon w-50 font-size8\" style=\"margin-top:1px;margin-bottom:1px\" tooltip=\"Threshold\" placement=\"right\">Threshold</span>\n        <input  novalidate  type=\"number\" class=\"form-control\" placeholder=\"Enter threshold\" aria-describedby=\"sizing-addon2\" \n         min=\"2\" max=\"10\" step=\"0.2\" [value]=\"threshold\" (input)=\"threshold=($event.target.value)\">\n  \n         \n      </div>\n    </div>\n    \n    \n\n</div>\n"

/***/ }),

/***/ "../../../../../src/app/components/tools-options-bucketfill/tools-options-bucketfill.component.scss":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/components/tools-options-bucketfill/tools-options-bucketfill.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ToolsOptionsBucketfillComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__services_app_service__ = __webpack_require__("../../../../../src/app/services/app.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__services_project_service__ = __webpack_require__("../../../../../src/app/services/project.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__models_photoedit_iworkspace__ = __webpack_require__("../../../../../src/app/models/photoedit/iworkspace.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var ToolsOptionsBucketfillComponent = /** @class */ (function () {
    function ToolsOptionsBucketfillComponent(projectService, appService) {
        this.projectService = projectService;
        this.appService = appService;
        this.project = this.projectService.currentProject;
    }
    ToolsOptionsBucketfillComponent.prototype.ngOnInit = function () {
    };
    ToolsOptionsBucketfillComponent.prototype.isValid = function () {
        return this.project && this.project.activeWorkspace && this.project.activeWorkspace.workMode.typeOf == __WEBPACK_IMPORTED_MODULE_3__models_photoedit_iworkspace__["a" /* WorkModes */].Bucket;
    };
    Object.defineProperty(ToolsOptionsBucketfillComponent.prototype, "blendModes", {
        get: function () {
            return ["normal", "multiply", "screen", "overlay", "darken", "lighten", "color-dodge", "color-burn", "hard-light",
                "soft-light", "difference", "exclusion", "hue", "saturation", "color", "luminosity"].sort(function (a, b) { return a.localeCompare(b); });
        },
        enumerable: true,
        configurable: true
    });
    ToolsOptionsBucketfillComponent.prototype.changeBucketBlendMode = function (event) {
        if (this.isValid()) {
            this.project.activeWorkspace.workMode.editType.blendMode = event.id;
        }
    };
    ToolsOptionsBucketfillComponent.prototype.getBucketBlendMode = function () {
        var modes = [];
        if (this.isValid()) {
            var val = this.project.activeWorkspace.workMode.editType.blendMode;
            modes.push({ id: val, text: val });
        }
        else {
            modes.push({ id: "normal", text: "normal" });
        }
        return modes;
    };
    Object.defineProperty(ToolsOptionsBucketfillComponent.prototype, "fillType", {
        get: function () {
            if (this.isValid())
                return this.project.activeWorkspace.workMode.editType.fillType;
            return "fg";
        },
        set: function (val) {
            if (this.isValid())
                this.project.activeWorkspace.workMode.editType.fillType = val;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ToolsOptionsBucketfillComponent.prototype, "selectType", {
        get: function () {
            if (this.isValid())
                return this.project.activeWorkspace.workMode.editType.selectType;
            return "selection";
        },
        set: function (val) {
            if (this.isValid())
                this.project.activeWorkspace.workMode.editType.selectType = val;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ToolsOptionsBucketfillComponent.prototype, "threshold", {
        get: function () {
            if (this.isValid())
                return this.project.activeWorkspace.workMode.editType.threshold.toString();
            return "2";
        },
        set: function (val) {
            var valInt = Number.parseInt(val);
            if (this.isValid() && valInt != Number.NaN)
                this.project.activeWorkspace.workMode.editType.threshold = valInt;
        },
        enumerable: true,
        configurable: true
    });
    ToolsOptionsBucketfillComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_2__angular_core__["Component"])({
            selector: 'tools-options-bucketfill-component',
            template: __webpack_require__("../../../../../src/app/components/tools-options-bucketfill/tools-options-bucketfill.component.html"),
            styles: [__webpack_require__("../../../../../src/app/components/tools-options-bucketfill/tools-options-bucketfill.component.scss")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__services_project_service__["a" /* ProjectService */], __WEBPACK_IMPORTED_MODULE_0__services_app_service__["a" /* AppService */]])
    ], ToolsOptionsBucketfillComponent);
    return ToolsOptionsBucketfillComponent;
}());



/***/ }),

/***/ "../../../../../src/app/components/tools-options-clip/tools-options-clip.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"container-fluid no-gutters\">\n  <label class=\"btn btn-primary  buttonpadding mouseoverhand btn-sm \" [ngClass]=\"isClipSelfCss\" (click)=\"makeSelectionSelf()\" tooltip=\"Self\" placement=\"right\" >    \n    <img src=\"assets/icons/self.png\">\n  </label>\n  <label class=\"btn btn-primary btn-sm\" [ngClass]=\"isClipUnionCss\" (click)=\"makeSelectionUnion()\" tooltip=\"Union\" placement=\"right\">\n    <img src=\"assets/icons/union.png\">\n    </label>\n\n    <label class=\"btn btn-primary btn-sm\" [ngClass]=\"isClipIntersectCss\" (click)=\"makeSelectionIntersect()\" tooltip=\"Intersection\" placement=\"right\">\n      <img src=\"assets/icons/intersection.png\">\n      </label>\n\n      <label class=\"btn btn-primary btn-sm\" [ngClass]=\"isClipExcludeCss\" (click)=\"makeSelectionExclude()\" tooltip=\"Exclude\" placement=\"right\">\n        <img src=\"assets/icons/exclude.png\">\n        </label>\n\n        <label class=\"btn btn-primary btn-sm\" [ngClass]=\"isClipXorCss\" (click)=\"makeSelectionXor()\" tooltip=\"Xor\" placement=\"right\">\n          <img src=\"assets/icons/xor.png\">\n          </label>\n</div>\n"

/***/ }),

/***/ "../../../../../src/app/components/tools-options-clip/tools-options-clip.component.scss":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/components/tools-options-clip/tools-options-clip.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ToolsOptionsClipComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__models_photoedit_layerSelect__ = __webpack_require__("../../../../../src/app/models/photoedit/layerSelect.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__services_project_service__ = __webpack_require__("../../../../../src/app/services/project.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__services_app_service__ = __webpack_require__("../../../../../src/app/services/app.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var ToolsOptionsClipComponent = /** @class */ (function () {
    function ToolsOptionsClipComponent(projectService, appService) {
        this.projectService = projectService;
        this.appService = appService;
        this.project = this.projectService.currentProject;
    }
    ToolsOptionsClipComponent.prototype.ngOnInit = function () {
    };
    ToolsOptionsClipComponent.prototype.isClipModeActive = function (type) {
        if (this.project && this.project.activeWorkspace && this.project.activeWorkspace.selectionLayer) {
            if (this.project.activeWorkspace.selectionLayer instanceof __WEBPACK_IMPORTED_MODULE_0__models_photoedit_layerSelect__["a" /* LayerSelect */]) {
                return this.project.activeWorkspace.selectionLayer.clipMode == type;
            }
        }
        return false;
    };
    Object.defineProperty(ToolsOptionsClipComponent.prototype, "isClipSelfCss", {
        /**
         * css için active ekler yada çıkarır
         */
        get: function () {
            return { active: this.isClipModeActive(__WEBPACK_IMPORTED_MODULE_0__models_photoedit_layerSelect__["a" /* LayerSelect */].ClipSelf) };
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ToolsOptionsClipComponent.prototype, "isClipUnionCss", {
        /**
         * css için active ekler yada çıkarır
         */
        get: function () {
            return { active: this.isClipModeActive(__WEBPACK_IMPORTED_MODULE_0__models_photoedit_layerSelect__["a" /* LayerSelect */].ClipUnion) };
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ToolsOptionsClipComponent.prototype, "isClipIntersectCss", {
        /**
       * css için active ekler yada çıkarır
       */
        get: function () {
            return { active: this.isClipModeActive(__WEBPACK_IMPORTED_MODULE_0__models_photoedit_layerSelect__["a" /* LayerSelect */].ClipIntersect) };
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ToolsOptionsClipComponent.prototype, "isClipExcludeCss", {
        /**
       * css için active ekler yada çıkarır
       */
        get: function () {
            return { active: this.isClipModeActive(__WEBPACK_IMPORTED_MODULE_0__models_photoedit_layerSelect__["a" /* LayerSelect */].ClipExclude) };
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ToolsOptionsClipComponent.prototype, "isClipXorCss", {
        /**
       * css için active ekler yada çıkarır
       */
        get: function () {
            return { active: this.isClipModeActive(__WEBPACK_IMPORTED_MODULE_0__models_photoedit_layerSelect__["a" /* LayerSelect */].ClipXor) };
        },
        enumerable: true,
        configurable: true
    });
    /**
     * layer select varsa, Clipleme modunu değiştiri
     * @param type
     */
    ToolsOptionsClipComponent.prototype.makeClipMode = function (type) {
        if (this.project && this.project.activeWorkspace && this.project.activeWorkspace.selectionLayer) {
            if (this.project.activeWorkspace.selectionLayer instanceof __WEBPACK_IMPORTED_MODULE_0__models_photoedit_layerSelect__["a" /* LayerSelect */]) {
                this.project.activeWorkspace.selectionLayer.clipMode = type;
            }
        }
    };
    ToolsOptionsClipComponent.prototype.makeSelectionSelf = function () {
        this.makeClipMode(__WEBPACK_IMPORTED_MODULE_0__models_photoedit_layerSelect__["a" /* LayerSelect */].ClipSelf);
    };
    ToolsOptionsClipComponent.prototype.makeSelectionUnion = function () {
        this.makeClipMode(__WEBPACK_IMPORTED_MODULE_0__models_photoedit_layerSelect__["a" /* LayerSelect */].ClipUnion);
    };
    ToolsOptionsClipComponent.prototype.makeSelectionIntersect = function () {
        this.makeClipMode(__WEBPACK_IMPORTED_MODULE_0__models_photoedit_layerSelect__["a" /* LayerSelect */].ClipIntersect);
    };
    ToolsOptionsClipComponent.prototype.makeSelectionExclude = function () {
        this.makeClipMode(__WEBPACK_IMPORTED_MODULE_0__models_photoedit_layerSelect__["a" /* LayerSelect */].ClipExclude);
    };
    ToolsOptionsClipComponent.prototype.makeSelectionXor = function () {
        this.makeClipMode(__WEBPACK_IMPORTED_MODULE_0__models_photoedit_layerSelect__["a" /* LayerSelect */].ClipXor);
    };
    ToolsOptionsClipComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_3__angular_core__["Component"])({
            selector: 'tools-options-clip-component',
            template: __webpack_require__("../../../../../src/app/components/tools-options-clip/tools-options-clip.component.html"),
            styles: [__webpack_require__("../../../../../src/app/components/tools-options-clip/tools-options-clip.component.scss")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__services_project_service__["a" /* ProjectService */], __WEBPACK_IMPORTED_MODULE_2__services_app_service__["a" /* AppService */]])
    ], ToolsOptionsClipComponent);
    return ToolsOptionsClipComponent;
}());



/***/ }),

/***/ "../../../../../src/app/components/tools-options-erase/tools-options-erase.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"container-fluid no-gutters padding2\">\n \n<div class=\"row no-gutters \">\n  <div class=\"input-group input-group-sm\">\n    <span class=\"input-group-addon w-50 font-size8\" style=\"margin-top:1px;margin-bottom:1px\" tooltip=\"Erase size in pixel\" placement=\"right\">Size</span>\n    <input type=\"number\" class=\"form-control\" placeholder=\"Enter size of erase\" aria-describedby=\"sizing-addon2\" \n     min=\"1\" max=\"250\" [value]=\"eraseSize\" (input)=\"changeEraseSize($event.target.value)\">\n\n     \n  </div>\n</div>\n<div class=\"row no-gutters \">\n  <div class=\"input-group input-group-sm\">\n    <span class=\"input-group-addon w-50 font-size8\" style=\"margin-top:1px;margin-bottom:1px\" tooltip=\"Erase hardness\" placement=\"right\">Hardness</span>\n    <input  novalidate  type=\"number\" class=\"form-control\" placeholder=\"Enter hardness\" aria-describedby=\"sizing-addon2\" \n     min=\"0\" max=\"100\" [value]=\"eraseHardness\" (input)=\"changeEraseHardness($event.target.value)\">\n\n     \n  </div>\n</div>\n\n<!-- <div class=\"row no-gutters \">\n    <div class=\"input-group input-group-sm\">      \n\n       <span class=\"input-group-addon w-50 font-size8\" style=\"margin-top:1px;margin-bottom:1px\" tooltip=\"Erase opacity\" placement=\"right\">Opacity</span>\n       <input type=\"number\" class=\"form-control\" placeholder=\"Enter opacity of erase\" aria-describedby=\"sizing-addon2\" \n        min=\"1\" max=\"100\" [value]=\"eraseOpacity\" (input)=\"changeEraseOpacity($event.target.value)\">\n      \n    </div>\n  </div> -->\n</div>\n"

/***/ }),

/***/ "../../../../../src/app/components/tools-options-erase/tools-options-erase.component.scss":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/components/tools-options-erase/tools-options-erase.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ToolsOptionsEraseComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__services_app_service__ = __webpack_require__("../../../../../src/app/services/app.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__services_project_service__ = __webpack_require__("../../../../../src/app/services/project.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__models_photoedit_iworkspace__ = __webpack_require__("../../../../../src/app/models/photoedit/iworkspace.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var ToolsOptionsEraseComponent = /** @class */ (function () {
    function ToolsOptionsEraseComponent(projectService, appService) {
        this.projectService = projectService;
        this.appService = appService;
        this.project = this.projectService.currentProject;
    }
    ToolsOptionsEraseComponent.prototype.ngOnInit = function () {
    };
    Object.defineProperty(ToolsOptionsEraseComponent.prototype, "eraseSize", {
        get: function () {
            if (this.isValid())
                return this.project.activeWorkspace.workMode.editType.size;
            return 5;
        },
        enumerable: true,
        configurable: true
    });
    ToolsOptionsEraseComponent.prototype.isValid = function () {
        return this.project && this.project.activeWorkspace && this.project.activeWorkspace.workMode.typeOf == __WEBPACK_IMPORTED_MODULE_3__models_photoedit_iworkspace__["a" /* WorkModes */].Erase;
    };
    ToolsOptionsEraseComponent.prototype.changeEraseSize = function (value) {
        var val = Number.parseInt(value);
        if (val) {
            if (this.isValid()) {
                this.project.activeWorkspace.workMode.editType.size = val;
            }
        }
    };
    Object.defineProperty(ToolsOptionsEraseComponent.prototype, "eraseOpacity", {
        get: function () {
            if (this.isValid()) {
                return this.project.activeWorkspace.workMode.editType.opacity * 100;
            }
            return 100;
        },
        enumerable: true,
        configurable: true
    });
    ToolsOptionsEraseComponent.prototype.changeEraseOpacity = function (value) {
        var val = Number.parseInt(value);
        if (val) {
            if (this.isValid()) {
                this.project.activeWorkspace.workMode.editType.opacity = val / 100;
            }
        }
    };
    Object.defineProperty(ToolsOptionsEraseComponent.prototype, "eraseHardness", {
        get: function () {
            if (this.isValid()) {
                return this.project.activeWorkspace.workMode.editType.hardness * 100;
            }
            return 100;
        },
        enumerable: true,
        configurable: true
    });
    ToolsOptionsEraseComponent.prototype.changeEraseHardness = function (value) {
        var val = Number.parseInt(value);
        if (val) {
            if (this.isValid()) {
                this.project.activeWorkspace.workMode.editType.hardness = val / 100;
            }
        }
    };
    ToolsOptionsEraseComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_2__angular_core__["Component"])({
            selector: 'tools-options-erase-component',
            template: __webpack_require__("../../../../../src/app/components/tools-options-erase/tools-options-erase.component.html"),
            styles: [__webpack_require__("../../../../../src/app/components/tools-options-erase/tools-options-erase.component.scss")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__services_project_service__["a" /* ProjectService */], __WEBPACK_IMPORTED_MODULE_0__services_app_service__["a" /* AppService */]])
    ], ToolsOptionsEraseComponent);
    return ToolsOptionsEraseComponent;
}());



/***/ }),

/***/ "../../../../../src/app/components/tools-options-gradient/tools-options-gradient.component.html":
/***/ (function(module, exports) {

module.exports = "<gradient-component [bindObject]='this.projectService.currentProject.activeWorkspace' (modelChanged)='modelChangedHandler($event)' ></gradient-component>\n"

/***/ }),

/***/ "../../../../../src/app/components/tools-options-gradient/tools-options-gradient.component.scss":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/components/tools-options-gradient/tools-options-gradient.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ToolsOptionsGradientComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__services_project_service__ = __webpack_require__("../../../../../src/app/services/project.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var ToolsOptionsGradientComponent = /** @class */ (function () {
    function ToolsOptionsGradientComponent(projectService) {
        this.projectService = projectService;
    }
    ToolsOptionsGradientComponent.prototype.ngOnInit = function () {
    };
    ToolsOptionsGradientComponent.prototype.modelChangedHandler = function (model) {
        // debugger;
        this.projectService.currentProject.activeWorkspace.gradient = model;
    };
    ToolsOptionsGradientComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_1__angular_core__["Component"])({
            selector: 'tools-options-gradient-component',
            template: __webpack_require__("../../../../../src/app/components/tools-options-gradient/tools-options-gradient.component.html"),
            styles: [__webpack_require__("../../../../../src/app/components/tools-options-gradient/tools-options-gradient.component.scss")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_0__services_project_service__["a" /* ProjectService */]])
    ], ToolsOptionsGradientComponent);
    return ToolsOptionsGradientComponent;
}());



/***/ }),

/***/ "../../../../../src/app/components/tools-options-shapes/tools-options-shapes.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"container-fluid lineheightsmall fontsize-sm w-100 pb-1 pt-1 text-white \" style=\"max-height: 50%\">\n\n    <div class=\"row ml-1 mr-1\" *ngIf=\"recentItemsLength>0\">\n        <div class=\"w-100\">          \n          <div style=\"max-height:200px;overflow:auto;\" class=\"w-100\">\n            <div>Recent</div>\n              <i [ngClass]='item.isSelected?\"shape-selected\":\"shape-notselected\"' *ngFor=\"let item of recentItems\" class=\"d-inline-block pt-1 mouseoverhand pl-1 pr-1\"\n              (click)='selectShape(item)' tooltip=\"{{item.shape.name}}\" placement=\"top\" [delay]='1000' container=\"body\">\n              <svg width=\"28px\" height=\"28px\" [attr.viewBox]='viewBox(item.shape)'>\n                <path [attr.d]='item.shape.path' />\n              </svg>\n            </i>\n          </div>\n        </div>\n      </div>\n\n  <div class=\"row mt-2\">\n    <div class=\"w-100 pl-1 pr-1 \">\n      <input #search type=\"search\" placeholder=\"Search...\" class=\"d-inline-block  w-100 \"  />      \n    </div>\n  </div>\n\n  <div class=\"row shapes-accordion\">\n    \n      <virtual-scroll class=\"w-100 ml-1 mr-1\" [items]=\"filteredItems\" (update)=\"viewPortItems = $event\" (change)=\"onScroll($event)\" style=\"width: 100%;height:200px\">\n\n        <i [ngClass]='item.isSelected?\"shape-selected\":\"shape-notselected\"' *ngFor=\"let item of viewPortItems\" class=\"d-inline-block pt-1 mouseoverhand pl-1 pr-1\"\n          (click)='selectShape(item)' tooltip=\"{{item.shape.name}}\" placement=\"top\" [delay]='1000' container=\"body\">\n          <svg width=\"28px\" height=\"28px\" [attr.viewBox]='viewBox(item.shape)'>\n            <path [attr.d]='item.shape.path' />\n          </svg>\n        </i>\n      </virtual-scroll>\n\n\n    \n  </div>\n\n\n\n</div>\n\n"

/***/ }),

/***/ "../../../../../src/app/components/tools-options-shapes/tools-options-shapes.component.scss":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, ".shape-selected {\n  background-color: #025aa5; }\n", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/components/tools-options-shapes/tools-options-shapes.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ToolsOptionsShapesComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__models_photoedit_iworkspace__ = __webpack_require__("../../../../../src/app/models/photoedit/iworkspace.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__services_shapes_service__ = __webpack_require__("../../../../../src/app/services/shapes.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_Rx__ = __webpack_require__("../../../../rxjs/_esm5/Rx.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_add_operator_map__ = __webpack_require__("../../../../rxjs/_esm5/add/operator/map.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_add_operator_catch__ = __webpack_require__("../../../../rxjs/_esm5/add/operator/catch.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__services_project_service__ = __webpack_require__("../../../../../src/app/services/project.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var ToolsOptionsShapesComponent = /** @class */ (function () {
    function ToolsOptionsShapesComponent(shapeService, projectService) {
        this.shapeService = shapeService;
        this.projectService = projectService;
        this.customClass = "shapes-accordion";
        this.closeOthers = true;
        this.shapes = shapeService.brands.reduce(function (accu, p) {
            p.shapes.forEach(function (x) {
                accu.push({ shape: x, isSelected: false });
            });
            return accu;
        }, []);
        this.filteredItems = this.shapes;
        this.recentItems.forEach(function (p) { return p.isSelected = false; });
        //eğer seçilir birtane yok ise hemen bir tane seç
        if (this.filteredItems.findIndex(function (p) { return p.isSelected; }) < 0 && this.filteredItems.length > 0) {
            this.filteredItems[0].isSelected = true;
            if (this.projectService.currentProject.activeWorkspace.workMode.typeOf == __WEBPACK_IMPORTED_MODULE_0__models_photoedit_iworkspace__["a" /* WorkModes */].Shapes) {
                this.projectService.currentProject.activeWorkspace.workMode.setShape(this.filteredItems[0].shape);
            }
        }
    }
    ToolsOptionsShapesComponent_1 = ToolsOptionsShapesComponent;
    ToolsOptionsShapesComponent.prototype.ngOnInit = function () {
    };
    ToolsOptionsShapesComponent.prototype.ngAfterViewInit = function () {
        var _this = this;
        __WEBPACK_IMPORTED_MODULE_3_rxjs_Rx__["a" /* Observable */].fromEvent(this.search.nativeElement, 'input').delay(500).subscribe(function () {
            if (_this.search.nativeElement.value == '')
                _this.filteredItems = _this.shapes;
            else
                _this.filteredItems = _this.shapes.filter(function (p) { return p.shape.name.includes(_this.search.nativeElement.value); });
        });
        __WEBPACK_IMPORTED_MODULE_3_rxjs_Rx__["a" /* Observable */].fromEvent(this.search.nativeElement, 'keydown').subscribe(function (e) {
            if (e.keyCode == 13) {
                if (_this.search.nativeElement.value == '')
                    _this.filteredItems = _this.shapes;
                else
                    _this.filteredItems = _this.shapes.filter(function (p) { return p.shape.name.includes(_this.search.nativeElement.value); });
            }
        });
    };
    ToolsOptionsShapesComponent.prototype.viewBox = function (shape) {
        return "0 0 " + shape.viewportW + " " + shape.viewportH;
    };
    ToolsOptionsShapesComponent.prototype.selectShape = function (item) {
        this.shapes.forEach(function (x) { return x.isSelected = false; });
        item.isSelected = true;
        if (ToolsOptionsShapesComponent_1.recentItems.findIndex(function (p) { return p.shape.name == item.shape.name; }) < 0)
            ToolsOptionsShapesComponent_1.recentItems.push(item);
        if (this.projectService.currentProject.activeWorkspace.workMode.typeOf == __WEBPACK_IMPORTED_MODULE_0__models_photoedit_iworkspace__["a" /* WorkModes */].Shapes) {
            this.projectService.currentProject.activeWorkspace.workMode.setShape(item.shape);
        }
    };
    ToolsOptionsShapesComponent.prototype.onScroll = function (event) {
        this.viewPortItems = this.filteredItems.slice(event.start, event.end);
        return this.viewPortItems;
    };
    Object.defineProperty(ToolsOptionsShapesComponent.prototype, "recentItemsLength", {
        get: function () {
            if (ToolsOptionsShapesComponent_1.recentItems)
                return ToolsOptionsShapesComponent_1.recentItems.length;
            return 0;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ToolsOptionsShapesComponent.prototype, "recentItems", {
        get: function () {
            return ToolsOptionsShapesComponent_1.recentItems;
        },
        enumerable: true,
        configurable: true
    });
    ToolsOptionsShapesComponent.recentItems = [];
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_1__angular_core__["ViewChild"])('search'),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1__angular_core__["ElementRef"])
    ], ToolsOptionsShapesComponent.prototype, "search", void 0);
    ToolsOptionsShapesComponent = ToolsOptionsShapesComponent_1 = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_1__angular_core__["Component"])({
            selector: 'tools-options-shapes-component',
            template: __webpack_require__("../../../../../src/app/components/tools-options-shapes/tools-options-shapes.component.html"),
            styles: [__webpack_require__("../../../../../src/app/components/tools-options-shapes/tools-options-shapes.component.scss")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__services_shapes_service__["a" /* ShapesService */], __WEBPACK_IMPORTED_MODULE_6__services_project_service__["a" /* ProjectService */]])
    ], ToolsOptionsShapesComponent);
    return ToolsOptionsShapesComponent;
    var ToolsOptionsShapesComponent_1;
}());



/***/ }),

/***/ "../../../../../src/app/components/tools-options/tools-options.component.html":
/***/ (function(module, exports) {

module.exports = "<div  class=\"toolOptionsBackground\">\n  <tools-options-clip-component *ngIf=\"isSelectionTool\"></tools-options-clip-component>\n  <tools-options-brush-component *ngIf=\"isBrushTool\"></tools-options-brush-component>\n  <tools-options-erase-component *ngIf=\"isEraseTool\"></tools-options-erase-component>\n  <tools-options-bucketfill-component *ngIf=\"isBucketTool\"></tools-options-bucketfill-component>  \n  <tools-options-gradient-component *ngIf=\"isGradientTool\"></tools-options-gradient-component>  \n  <tools-options-shapes-component *ngIf=\"isShapeTool\"></tools-options-shapes-component>\n</div>\n\n"

/***/ }),

/***/ "../../../../../src/app/components/tools-options/tools-options.component.scss":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, ".toolOptionsBackground {\n  background: -webkit-linear-gradient(top, white, #e6e5e5);\n  background-image: -webkit-linear-gradient(top, #615c5c, #887f7f); }\n", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/components/tools-options/tools-options.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ToolsOptionsComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__services_app_service__ = __webpack_require__("../../../../../src/app/services/app.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__services_project_service__ = __webpack_require__("../../../../../src/app/services/project.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__models_photoedit_iworkspace__ = __webpack_require__("../../../../../src/app/models/photoedit/iworkspace.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var ToolsOptionsComponent = /** @class */ (function () {
    function ToolsOptionsComponent(projectService, appService) {
        this.projectService = projectService;
        this.appService = appService;
        this.project = this.projectService.currentProject;
    }
    ToolsOptionsComponent.prototype.ngOnInit = function () {
    };
    Object.defineProperty(ToolsOptionsComponent.prototype, "isSelectionTool", {
        get: function () {
            if (this.project && this.project.activeWorkspace && this.project.activeWorkspace.selectionLayer && this.project.activeWorkspace.workMode.typeOf == __WEBPACK_IMPORTED_MODULE_3__models_photoedit_iworkspace__["a" /* WorkModes */].Selection)
                return true;
            return false;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ToolsOptionsComponent.prototype, "isBrushTool", {
        get: function () {
            if (this.project && this.project.activeWorkspace && this.project.activeWorkspace.workMode.typeOf == __WEBPACK_IMPORTED_MODULE_3__models_photoedit_iworkspace__["a" /* WorkModes */].Brush)
                return true;
            return false;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ToolsOptionsComponent.prototype, "isEraseTool", {
        get: function () {
            if (this.project && this.project.activeWorkspace && this.project.activeWorkspace.workMode.typeOf == __WEBPACK_IMPORTED_MODULE_3__models_photoedit_iworkspace__["a" /* WorkModes */].Erase)
                return true;
            return false;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ToolsOptionsComponent.prototype, "isBucketTool", {
        get: function () {
            if (this.project && this.project.activeWorkspace && this.project.activeWorkspace.workMode.typeOf == __WEBPACK_IMPORTED_MODULE_3__models_photoedit_iworkspace__["a" /* WorkModes */].Bucket)
                return true;
            return false;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ToolsOptionsComponent.prototype, "isGradientTool", {
        get: function () {
            if (this.project && this.project.activeWorkspace && this.project.activeWorkspace.workMode.typeOf == __WEBPACK_IMPORTED_MODULE_3__models_photoedit_iworkspace__["a" /* WorkModes */].Gradient)
                return true;
            return false;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ToolsOptionsComponent.prototype, "isShapeTool", {
        get: function () {
            if (this.project && this.project.activeWorkspace && this.project.activeWorkspace.workMode.typeOf == __WEBPACK_IMPORTED_MODULE_3__models_photoedit_iworkspace__["a" /* WorkModes */].Shapes)
                return true;
            return false;
        },
        enumerable: true,
        configurable: true
    });
    ToolsOptionsComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_2__angular_core__["Component"])({
            selector: 'tool-options-component',
            template: __webpack_require__("../../../../../src/app/components/tools-options/tools-options.component.html"),
            styles: [__webpack_require__("../../../../../src/app/components/tools-options/tools-options.component.scss")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__services_project_service__["a" /* ProjectService */], __WEBPACK_IMPORTED_MODULE_0__services_app_service__["a" /* AppService */]])
    ], ToolsOptionsComponent);
    return ToolsOptionsComponent;
}());



/***/ }),

/***/ "../../../../../src/app/components/tools/tools.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"toolsInfo\">\n  <header class=\"toolsHeader\">\n\n  </header>\n  <section class=\"toolsSection unselectable\">\n    <div *ngIf=\"project != undefined\">\n\n      <div *ngIf=\"project.activeWorkspace != undefined\">\n        <div *ngIf=\"project.activeWorkspace.hasLayer\">\n          <div class=\"container no-padding\">\n            <div class=\"row firsttoolboxbutton\">\n            <div class=\"col-md \">\n          <label id=\"default\" class=\"  btn btn-primary buttonpadding mouseoverhand btn-sm active\" [ngClass]=\"defaultCss\"\n            (click)=\"selectDefault()\" tooltip=\"Move Resize tool\" placement=\"right\">\n            <img src=\"assets/icons/mouse.png\">\n          </label>\n\n          <label id=\"crop\" class=\"btn btn-primary  buttonpadding mouseoverhand btn-sm \" [ngClass]=\"cropCss\" (click)=\"selectCrop()\"\n            tooltip=\"Crop tool\" placement=\"right\">\n            <img src=\"assets/icons/crop.png\">\n          </label>\n\n\n          <label id=\"selectRectangle\" class=\"btn btn-primary  buttonpadding mouseoverhand btn-sm \" [ngClass]=\"rectangleCss\" [ngClass]=\"defaultCss\"\n            (click)=\"selectRectangleSelection()\" tooltip=\"Rectangle selection\" placement=\"right\">\n            <img src=\"assets/icons/rectangle.png\">\n          </label>\n\n          <label id=\"selectEllipse\" class=\"btn btn-primary  buttonpadding mouseoverhand btn-sm \" [ngClass]=\"ellipseCss\" (click)=\"selectEllipseSelection()\"\n            tooltip=\"Ellipse selection\" placement=\"right\">\n            <img src=\"assets/icons/ellipse.png\">\n          </label>\n          <label id=\"selectLasso\" class=\"btn btn-primary  buttonpadding mouseoverhand btn-sm \" [ngClass]=\"lassoCss\" (click)=\"selectLassoSelection()\"\n            tooltip=\"Lasso selection\" placement=\"right\">\n            <img src=\"assets/icons/lasso.png\">\n          </label>\n\n          <label id=\"selectPolygon\" class=\"btn btn-primary  buttonpadding mouseoverhand btn-sm \" [ngClass]=\"polygonCss\" (click)=\"selectPolygonSelection()\"\n            tooltip=\"Polygonal selection\" placement=\"right\">\n            <img src=\"assets/icons/polygon.png\">\n          </label>\n\n          <label id=\"selectMagicWand\" class=\"btn btn-primary  buttonpadding mouseoverhand btn-sm \" [ngClass]=\"magicwandCss\" (click)=\"selectMagicWandSelection()\"\n            tooltip=\"Magic wand selection\" placement=\"right\">\n            <img src=\"assets/icons/magicwand.png\">\n          </label>\n\n\n          <label id=\"selectColorPicker\" class=\"btn btn-primary  buttonpadding mouseoverhand btn-sm \" [ngClass]=\"colorpickerCss\" (click)=\"selectColorPicker()\"\n            tooltip=\"Color picker\" placement=\"right\">\n            <img src=\"assets/icons/colorpicker.png\">\n          </label>\n\n\n            \n           \n\n          <label id=\"selectPencil\" class=\"d-inline-block btn btn-primary  buttonpadding mouseoverhand btn-sm \" [ngClass]=\"brushCss\"\n            (click)=\"selectBrush();\" tooltip=\"Brush\" placement=\"right\">\n            <img src=\"assets/icons/brush.png\">\n          </label>\n\n          <label id=\"selectErase\" class=\"d-inline-block btn btn-primary  buttonpadding mouseoverhand btn-sm \" [ngClass]=\"eraseCss\"\n            (click)=\"selectErase()\" tooltip=\"Erase\" placement=\"right\">\n            <img src=\"assets/icons/erase.png\">\n          </label>\n\n\n          <label id=\"selectBucket\" class=\"d-inline-block btn btn-primary  buttonpadding mouseoverhand btn-sm \" [ngClass]=\"bucketCss\"\n            (click)=\"selectBucket()\" tooltip=\"Bucket fill\" placement=\"right\">\n            <img src=\"assets/icons/bucket.png\">\n          </label>\n\n          <label id=\"selectHand\" class=\"d-inline-block btn btn-primary  buttonpadding mouseoverhand btn-sm \" [ngClass]=\"handCss\" (click)=\"selectHand()\"\n            tooltip=\"Scroll\" placement=\"right\">\n            <img src=\"assets/icons/hand.png\">\n          </label>\n\n          <label id=\"selectGradient\" class=\"d-inline-block btn btn-primary  buttonpadding mouseoverhand btn-sm \" [ngClass]=\"gradientCss\" (click)=\"selectGradient()\"\n            tooltip=\"Gradient\" placement=\"right\">\n            <img src=\"assets/icons/gradient.png\">\n          </label>\n          <label id=\"selectShape\" class=\"d-inline-block btn btn-primary  buttonpadding mouseoverhand btn-sm \" [ngClass]=\"shapeCss\" (click)=\"selectShape()\"\n          tooltip=\"Shapes\" placement=\"right\">\n          <img src=\"assets/icons/shapes.png\">\n        </label>\n\n\n<div class=\"container-fluid no-padding\">\n\n          <label #foregroundcolorref class=\"d-block btn btn-primary  buttonpadding mouseoverhand groundcolor btn-sm\" [style.background]=\"foregroundcolor\"\n            tooltip=\"Foreground color\" placement=\"right\" (click)='openForegroundColorPicker()' >{{emptyString}}           \n          </label>\n          <color-picker #foregroundpicker [bindElement]='previous' [cpOutputFormat]=\"'rgba'\" [cpOKButton]=\"true\" [cpCancelButton]=\"true\"\n          [cpAlphaChannel]=\"'hex8'\" (colorPickerChange)=\"setforegroundcolor($event)\" ></color-picker>\n          <label class=\"d-block btn btn-primary  buttonpadding mouseoverhand btn-sm groundcolor\" style=\"background:transparent;transform: scale(0.8,0.8);\" tooltip=\"Swap colors\" placement=\"right\"\n            (click)=\"swapColors()\">\n            <img src=\"assets/icons/swap.png\">\n          </label>\n\n         <label #backgroundcolorref  class=\"d-block btn btn-primary  buttonpadding mouseoverhand groundcolor btn-sm\" [style.background]=\"backgroundcolor\"\n            tooltip=\"Background color\" placement=\"right\" (click)='openBackgroundColorPicker()' >{{emptyString}}</label>\n            <color-picker  #backgroundpicker [bindElement]='previous' [cpOutputFormat]=\"'rgba'\" [cpOKButton]=\"true\" [cpCancelButton]=\"true\"\n            [cpAlphaChannel]=\"'hex8'\" (colorPickerChange)='setbackgroundColor($event)'>\n            </color-picker>\n          </div> \n          \n          </div>\n\n        </div>\n      </div>\n        </div>\n\n      </div>\n    </div>\n\n\n\n\n  </section>\n</div>"

/***/ }),

/***/ "../../../../../src/app/components/tools/tools.component.scss":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, ".toolsInfo {\n  background: -webkit-linear-gradient(top, white, #e6e5e5);\n  background-image: -webkit-linear-gradient(top, #615c5c, #887f7f); }\n\n.btnSmall {\n  line-height: 1rem;\n  padding: 0.2rem 0.5rem; }\n\n.toolsHeader {\n  line-height: 1rem;\n  color: white;\n  padding-left: 4px; }\n\n.buttonpadding {\n  margin: 3px; }\n\n.firsttoolboxbutton {\n  margin-top: 40px; }\n\n.groundcolor {\n  height: 1.8rem;\n  border-radius: 0.5rem;\n  width: 33px; }\n", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/components/tools/tools.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ToolsComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__entities_alertItem__ = __webpack_require__("../../../../../src/app/entities/alertItem.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__services_app_service__ = __webpack_require__("../../../../../src/app/services/app.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__commands_cmdShowAlert__ = __webpack_require__("../../../../../src/app/commands/cmdShowAlert.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__models_photoedit_layerSelect__ = __webpack_require__("../../../../../src/app/models/photoedit/layerSelect.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_project_service__ = __webpack_require__("../../../../../src/app/services/project.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__modulesext_color_picker_index__ = __webpack_require__("../../../../../src/app/modulesext/color-picker/index.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__models_photoedit_iworkspace__ = __webpack_require__("../../../../../src/app/models/photoedit/iworkspace.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var ToolsComponent = /** @class */ (function () {
    function ToolsComponent(projectService, appService) {
        this.projectService = projectService;
        this.appService = appService;
        this.project = this.projectService.currentProject;
    }
    ToolsComponent.prototype.ngOnInit = function () {
    };
    ToolsComponent.prototype.ngAfterViewInit = function () {
    };
    ToolsComponent.prototype.selectWorking = function (type, subType) {
        if (subType === void 0) { subType = ""; }
        if (this.project)
            if (this.project.activeWorkspace)
                this.project.activeWorkspace.selectWorking(type, subType);
    };
    ToolsComponent.prototype.isWorkingMode = function (type, subType) {
        if (subType === void 0) { subType = ""; }
        if (this.project)
            if (this.project.activeWorkspace)
                return this.project.activeWorkspace.workMode.typeOf == type && this.project.activeWorkspace.workMode.subTypeOf == subType;
    };
    Object.defineProperty(ToolsComponent.prototype, "defaultCss", {
        get: function () {
            return { active: this.isWorkingMode(__WEBPACK_IMPORTED_MODULE_7__models_photoedit_iworkspace__["a" /* WorkModes */].Default) };
        },
        enumerable: true,
        configurable: true
    });
    ToolsComponent.prototype.selectDefault = function () {
        this.selectWorking(__WEBPACK_IMPORTED_MODULE_7__models_photoedit_iworkspace__["a" /* WorkModes */].Default);
    };
    Object.defineProperty(ToolsComponent.prototype, "cropCss", {
        get: function () {
            return { active: this.isWorkingMode(__WEBPACK_IMPORTED_MODULE_7__models_photoedit_iworkspace__["a" /* WorkModes */].Crop) };
        },
        enumerable: true,
        configurable: true
    });
    ToolsComponent.prototype.selectCrop = function () {
        this.selectWorking(__WEBPACK_IMPORTED_MODULE_7__models_photoedit_iworkspace__["a" /* WorkModes */].Crop);
    };
    Object.defineProperty(ToolsComponent.prototype, "rectangleCss", {
        get: function () {
            return { active: this.isWorkingMode(__WEBPACK_IMPORTED_MODULE_7__models_photoedit_iworkspace__["a" /* WorkModes */].Selection, __WEBPACK_IMPORTED_MODULE_4__models_photoedit_layerSelect__["a" /* LayerSelect */].SubTypeRect) };
        },
        enumerable: true,
        configurable: true
    });
    ToolsComponent.prototype.selectRectangleSelection = function () {
        this.selectWorking(__WEBPACK_IMPORTED_MODULE_7__models_photoedit_iworkspace__["a" /* WorkModes */].Selection, __WEBPACK_IMPORTED_MODULE_4__models_photoedit_layerSelect__["a" /* LayerSelect */].SubTypeRect);
    };
    Object.defineProperty(ToolsComponent.prototype, "ellipseCss", {
        get: function () {
            return { active: this.isWorkingMode(__WEBPACK_IMPORTED_MODULE_7__models_photoedit_iworkspace__["a" /* WorkModes */].Selection, __WEBPACK_IMPORTED_MODULE_4__models_photoedit_layerSelect__["a" /* LayerSelect */].SubTypeEllipse) };
        },
        enumerable: true,
        configurable: true
    });
    ToolsComponent.prototype.selectEllipseSelection = function () {
        this.selectWorking(__WEBPACK_IMPORTED_MODULE_7__models_photoedit_iworkspace__["a" /* WorkModes */].Selection, __WEBPACK_IMPORTED_MODULE_4__models_photoedit_layerSelect__["a" /* LayerSelect */].SubTypeEllipse);
    };
    Object.defineProperty(ToolsComponent.prototype, "lassoCss", {
        get: function () {
            return { active: this.isWorkingMode(__WEBPACK_IMPORTED_MODULE_7__models_photoedit_iworkspace__["a" /* WorkModes */].Selection, __WEBPACK_IMPORTED_MODULE_4__models_photoedit_layerSelect__["a" /* LayerSelect */].SubTypeLasso) };
        },
        enumerable: true,
        configurable: true
    });
    ToolsComponent.prototype.selectLassoSelection = function () {
        this.selectWorking(__WEBPACK_IMPORTED_MODULE_7__models_photoedit_iworkspace__["a" /* WorkModes */].Selection, __WEBPACK_IMPORTED_MODULE_4__models_photoedit_layerSelect__["a" /* LayerSelect */].SubTypeLasso);
    };
    Object.defineProperty(ToolsComponent.prototype, "colorpickerCss", {
        get: function () {
            return { active: this.isWorkingMode(__WEBPACK_IMPORTED_MODULE_7__models_photoedit_iworkspace__["a" /* WorkModes */].ColorPicker) };
        },
        enumerable: true,
        configurable: true
    });
    ToolsComponent.prototype.selectColorPicker = function () {
        this.selectWorking(__WEBPACK_IMPORTED_MODULE_7__models_photoedit_iworkspace__["a" /* WorkModes */].ColorPicker);
    };
    Object.defineProperty(ToolsComponent.prototype, "polygonCss", {
        get: function () {
            return { active: this.isWorkingMode(__WEBPACK_IMPORTED_MODULE_7__models_photoedit_iworkspace__["a" /* WorkModes */].Selection, __WEBPACK_IMPORTED_MODULE_4__models_photoedit_layerSelect__["a" /* LayerSelect */].SubTypePolygon) };
        },
        enumerable: true,
        configurable: true
    });
    ToolsComponent.prototype.selectPolygonSelection = function () {
        this.selectWorking(__WEBPACK_IMPORTED_MODULE_7__models_photoedit_iworkspace__["a" /* WorkModes */].Selection, __WEBPACK_IMPORTED_MODULE_4__models_photoedit_layerSelect__["a" /* LayerSelect */].SubTypePolygon);
        var alert = new __WEBPACK_IMPORTED_MODULE_2__commands_cmdShowAlert__["a" /* CmdShowAlert */](new __WEBPACK_IMPORTED_MODULE_0__entities_alertItem__["a" /* AlertItem */]('info', 'for finish double click', 2000), this.appService);
        alert.executeAsync();
        //this.isCollapsed=true;
    };
    Object.defineProperty(ToolsComponent.prototype, "magicwandCss", {
        get: function () {
            return { active: this.isWorkingMode(__WEBPACK_IMPORTED_MODULE_7__models_photoedit_iworkspace__["a" /* WorkModes */].Selection, __WEBPACK_IMPORTED_MODULE_4__models_photoedit_layerSelect__["a" /* LayerSelect */].SubTypeMagicWand) };
        },
        enumerable: true,
        configurable: true
    });
    ToolsComponent.prototype.selectMagicWandSelection = function () {
        this.selectWorking(__WEBPACK_IMPORTED_MODULE_7__models_photoedit_iworkspace__["a" /* WorkModes */].Selection, __WEBPACK_IMPORTED_MODULE_4__models_photoedit_layerSelect__["a" /* LayerSelect */].SubTypeMagicWand);
    };
    Object.defineProperty(ToolsComponent.prototype, "brushCss", {
        get: function () {
            return { active: this.isWorkingMode(__WEBPACK_IMPORTED_MODULE_7__models_photoedit_iworkspace__["a" /* WorkModes */].Brush) };
        },
        enumerable: true,
        configurable: true
    });
    ToolsComponent.prototype.selectBrush = function () {
        this.selectWorking(__WEBPACK_IMPORTED_MODULE_7__models_photoedit_iworkspace__["a" /* WorkModes */].Brush);
        //this.isCollapsed=false;
    };
    Object.defineProperty(ToolsComponent.prototype, "emptyString", {
        get: function () {
            return " ";
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ToolsComponent.prototype, "eraseCss", {
        get: function () {
            return { active: this.isWorkingMode(__WEBPACK_IMPORTED_MODULE_7__models_photoedit_iworkspace__["a" /* WorkModes */].Erase) };
        },
        enumerable: true,
        configurable: true
    });
    ToolsComponent.prototype.selectErase = function () {
        this.selectWorking(__WEBPACK_IMPORTED_MODULE_7__models_photoedit_iworkspace__["a" /* WorkModes */].Erase);
    };
    Object.defineProperty(ToolsComponent.prototype, "handCss", {
        get: function () {
            return { active: this.isWorkingMode(__WEBPACK_IMPORTED_MODULE_7__models_photoedit_iworkspace__["a" /* WorkModes */].Hand) };
        },
        enumerable: true,
        configurable: true
    });
    ToolsComponent.prototype.selectHand = function () {
        this.selectWorking(__WEBPACK_IMPORTED_MODULE_7__models_photoedit_iworkspace__["a" /* WorkModes */].Hand);
    };
    Object.defineProperty(ToolsComponent.prototype, "bucketCss", {
        get: function () {
            return { active: this.isWorkingMode(__WEBPACK_IMPORTED_MODULE_7__models_photoedit_iworkspace__["a" /* WorkModes */].Bucket) };
        },
        enumerable: true,
        configurable: true
    });
    ToolsComponent.prototype.selectBucket = function () {
        this.selectWorking(__WEBPACK_IMPORTED_MODULE_7__models_photoedit_iworkspace__["a" /* WorkModes */].Bucket);
    };
    Object.defineProperty(ToolsComponent.prototype, "gradientCss", {
        get: function () {
            return { active: this.isWorkingMode(__WEBPACK_IMPORTED_MODULE_7__models_photoedit_iworkspace__["a" /* WorkModes */].Gradient) };
        },
        enumerable: true,
        configurable: true
    });
    ToolsComponent.prototype.selectGradient = function () {
        this.selectWorking(__WEBPACK_IMPORTED_MODULE_7__models_photoedit_iworkspace__["a" /* WorkModes */].Gradient);
    };
    Object.defineProperty(ToolsComponent.prototype, "shapeCss", {
        get: function () {
            return { active: this.isWorkingMode(__WEBPACK_IMPORTED_MODULE_7__models_photoedit_iworkspace__["a" /* WorkModes */].Shapes) };
        },
        enumerable: true,
        configurable: true
    });
    ToolsComponent.prototype.selectShape = function () {
        this.selectWorking(__WEBPACK_IMPORTED_MODULE_7__models_photoedit_iworkspace__["a" /* WorkModes */].Shapes);
    };
    ToolsComponent.prototype.openForegroundColorPicker = function () {
        this.foregroundpicker.openDialog(this.project.activeWorkspace.foregroundColor, true);
    };
    Object.defineProperty(ToolsComponent.prototype, "foregroundcolor", {
        get: function () {
            return this.project.activeWorkspace.foregroundColor;
        },
        enumerable: true,
        configurable: true
    });
    ToolsComponent.prototype.setforegroundcolor = function (value) {
        this.project.activeWorkspace.foregroundColor = value;
    };
    ToolsComponent.prototype.openBackgroundColorPicker = function () {
        this.backgroundpicker.openDialog(this.project.activeWorkspace.backgroundColor, true);
    };
    Object.defineProperty(ToolsComponent.prototype, "backgroundcolor", {
        get: function () {
            return this.project.activeWorkspace.backgroundColor;
        },
        enumerable: true,
        configurable: true
    });
    ToolsComponent.prototype.setbackgroundColor = function (value) {
        this.project.activeWorkspace.backgroundColor = value;
    };
    ToolsComponent.prototype.swapColors = function () {
        var fg = this.project.activeWorkspace.foregroundColor;
        this.project.activeWorkspace.foregroundColor = this.project.activeWorkspace.backgroundColor;
        this.project.activeWorkspace.backgroundColor = fg;
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_3__angular_core__["ViewChild"])('foregroundpicker'),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_6__modulesext_color_picker_index__["a" /* ColorPickerComponent */])
    ], ToolsComponent.prototype, "foregroundpicker", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_3__angular_core__["ViewChild"])('backgroundpicker'),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_6__modulesext_color_picker_index__["a" /* ColorPickerComponent */])
    ], ToolsComponent.prototype, "backgroundpicker", void 0);
    ToolsComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_3__angular_core__["Component"])({
            selector: 'tools-component',
            template: __webpack_require__("../../../../../src/app/components/tools/tools.component.html"),
            styles: [__webpack_require__("../../../../../src/app/components/tools/tools.component.scss")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_5__services_project_service__["a" /* ProjectService */], __WEBPACK_IMPORTED_MODULE_1__services_app_service__["a" /* AppService */]])
    ], ToolsComponent);
    return ToolsComponent;
}());



/***/ }),

/***/ "../../../../../src/app/components/trackbar/trackbar.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"rowEx\" >\n  <div class=\"container-fluid no-gutters\">\n    <div class=\"row no-gutters\">\n    \n      <input class=\"w-100\" type=\"range\" [min]=\"min\" [max]=\"max\" [step]=\"step\" [value]=\"value\" (input)=\"value=$event.target.value\" />\n    </div>\n  </div>\n</div>"

/***/ }),

/***/ "../../../../../src/app/components/trackbar/trackbar.component.scss":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, ".minusB {\n  padding-left: 2px;\n  padding-right: 2px; }\n\n.progress {\n  margin-top: 4px;\n  background-color: lightgray; }\n\n.rowEx {\n  margin-right: 0px !important;\n  margin-left: 0px !important;\n  padding-right: 0px;\n  padding-left: 0px;\n  display: inline-block;\n  width: 100%; }\n\n.zoomButton {\n  margin-left: -2px; }\n\n.progressbar {\n  background-color: black;\n  height: 0.30rem;\n  margin-top: 0.35rem; }\n", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/components/trackbar/trackbar.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return TrackbarComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var TrackbarComponent = /** @class */ (function () {
    function TrackbarComponent() {
        this.step = 10;
        this.position = 0;
        this.isMouseDown = false;
        this.valueChanged = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"](true);
    }
    Object.defineProperty(TrackbarComponent.prototype, "value", {
        get: function () {
            return this._value;
        },
        set: function (val) {
            var temp = val;
            if (typeof val === "string") {
                temp = parseInt(val).extRound();
            }
            while (temp % this.step != 0) {
                temp++;
            }
            if (this._value != temp) {
                this._value = temp;
                this.valueChanged.emit(this.value);
            }
        },
        enumerable: true,
        configurable: true
    });
    TrackbarComponent.prototype.ngOnInit = function () {
    };
    TrackbarComponent.prototype.ngAfterContentChecked = function () {
    };
    TrackbarComponent.prototype.changeValue = function (val) {
        this._value = val;
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", Number)
    ], TrackbarComponent.prototype, "min", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", Number)
    ], TrackbarComponent.prototype, "max", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", Number),
        __metadata("design:paramtypes", [Number])
    ], TrackbarComponent.prototype, "value", null);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", Number)
    ], TrackbarComponent.prototype, "step", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"])
    ], TrackbarComponent.prototype, "valueChanged", void 0);
    TrackbarComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'trackbar-component',
            template: __webpack_require__("../../../../../src/app/components/trackbar/trackbar.component.html"),
            styles: [__webpack_require__("../../../../../src/app/components/trackbar/trackbar.component.scss")]
        }),
        __metadata("design:paramtypes", [])
    ], TrackbarComponent);
    return TrackbarComponent;
}());



/***/ }),

/***/ "../../../../../src/app/components/workspace-resize/workspace-resize.component.html":
/***/ (function(module, exports) {

module.exports = "\n<div\nclass=\"workspaceResize\" \n[style.width.px]=\"(isMouseEnter?2:1)*14\"\n[style.height.px]=\"(isMouseEnter?2:1)*14\"\n[style.margin-left.px]=\"workspace.backgroundLayer.width*workspace.backgroundLayer.scale+50\"\n[style.margin-top.px]=\"workspace.backgroundLayer.height*workspace.backgroundLayer.scale+50\"\n[ngClass]=\"selectedCss()\"\nmouse (mouseDown)=\"mouseDown($event)\" \n(mouseOver)=\"mouseOver($event)\" \n(mouseLeave)=\"mouseLeave($event)\" tooltip=\"Resize workspace\"  placement=\"top\"> \n</div>\n"

/***/ }),

/***/ "../../../../../src/app/components/workspace-resize/workspace-resize.component.scss":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, ".workspaceResize {\n  background: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAACowAAAqMBZNxfiQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAPNSURBVGiB7ZlPaBxlGMZ/787uxmyQEutuaqjUQ4WCVBEFEQW1XgRBwZbYktJkY1AsgsVDiptUB9luqoJYFSVYzTZtUbcgpaIUhHrQQwVtwYMIFZtirO5GKgVNm+zsvJ4iOdj4vTOzJ/M7v8/3vM9+f+abWVhhhf834lpYqFYOg/Ybxv4uPd+8+8JT/lyEvpxJuRbmdGEY9Ixh7FtbHZnJCD2ZcJ4BgPyh8fXSCr8BVjkbCLvqA6P7zZ25jm8V9FQrjyh6zKANVGXTbLH0pdXLBecltEh9sHQceN0gSYuEtevfe7nX6uWCOQBAY11zBPjKXSFrxGsd4Qs/HcVvOSIF4AE/CNLpbcCsq0TQ+3umM+VIfssQLQBwcfvuGQnDrUDLVaPCSKFa3hzV89+IHACgPrTnJIrlVxWQydWTlQ1xfJcSKwBA43zzJdATBsm1nlDrmXq1K643JBAA3w+zQdAPTLuLdKOGzXdje5NEAGBm2L8oKdkKLLirdFuhWnk6rnciAQDqO0pfi+pum0r3F6qVe+L4mp/E/0WhuvcosMW1XuFnL5Q7fhsqOR/JS0lsBv5pKNcsCvzgWi9wY5jSD6jVvCh+iQeY7fP/RFt9gOUa/WDh8tkXo/glvoQWKVTL/SCHDRJF5bFGsXTM4tO2AAD5avmAIE8YmvmDMHVnfej5n1w1iS+hpXRp8Axw2rVeoVu91sdra691umraGmC66F9RL/U4cMlZpHLb/Nzcm67lbQ0A4AUEAqFFI0LWtbatAXon/Fwoelyh21Uj8G0uDJ50rW9rgGZH+g3QjQbJ76lAN08X/SuugsTfkBbJVytFQZ1PICBUlYFfh0fPW3zaMgP5g+O3C/q2SSTsnS2WPrN6JR6ge2LfKtGwBlzjrtITjXNNP4pfsgFUJdPRmgLWG1TnskHQj++bTqpFIl2grkbPTZldiDxrkMynRB++MPTCj1E9E7tK5KfK90ooJ4GMwX5nY7D0ThzfRAKseb+SD1N6GlhrkFUbg6PFuN7x90Ct5oUeH2JqXs9kc507Y3uTwHOg8NfZPQibDJJL6nl9M33PXY7rDTGXUH5y/CGR8FPcZ1JF9dF6ceyTOL5LibyEbjhQXicSHrGMIcorSTaPxXwpt9T8bMuTj4DrDLLP6103j0bxW45IAWbnMvsQ7jJIfpFUczt9fc7fUV0x74H8wcoWUT1qkCyI6n314tgpq5cLplNo9WRlg6ia/vcSYaQ+2J7mwTADvRN+LujInjLd70UPNQbGdkTqzBHnPdDqSL9lfDn5XjuDRB5WK6ywwtX5GwsqKoD+7VvXAAAAAElFTkSuQmCC\");\n  background-size: contain;\n  -webkit-transform: rotate(45deg);\n          transform: rotate(45deg);\n  position: absolute;\n  z-index: 10000; }\n\n.workspaceResize:hover {\n  cursor: nwse-resize; }\n", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/components/workspace-resize/workspace-resize.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return WorkspaceResizeComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__models_photoedit_workSpace__ = __webpack_require__("../../../../../src/app/models/photoedit/workSpace.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__models_photoedit_iworkspace__ = __webpack_require__("../../../../../src/app/models/photoedit/iworkspace.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var WorkspaceResizeComponent = /** @class */ (function () {
    function WorkspaceResizeComponent() {
        this.isMouseEnter = false;
    }
    WorkspaceResizeComponent.prototype.ngOnInit = function () {
    };
    WorkspaceResizeComponent.prototype.mouseDown = function (event) {
        this.workspace.selectWorking(__WEBPACK_IMPORTED_MODULE_2__models_photoedit_iworkspace__["a" /* WorkModes */].ResizeWorkspace, "");
    };
    WorkspaceResizeComponent.prototype.mouseOver = function (event) {
        this.isMouseEnter = true;
    };
    WorkspaceResizeComponent.prototype.mouseLeave = function (event) {
        this.isMouseEnter = false;
    };
    WorkspaceResizeComponent.prototype.selectedCss = function () {
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1__models_photoedit_workSpace__["a" /* Workspace */])
    ], WorkspaceResizeComponent.prototype, "workspace", void 0);
    WorkspaceResizeComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'workspace-resize',
            template: __webpack_require__("../../../../../src/app/components/workspace-resize/workspace-resize.component.html"),
            styles: [__webpack_require__("../../../../../src/app/components/workspace-resize/workspace-resize.component.scss")]
        }),
        __metadata("design:paramtypes", [])
    ], WorkspaceResizeComponent);
    return WorkspaceResizeComponent;
}());



/***/ }),

/***/ "../../../../../src/app/components/workspace/workspace.component.html":
/***/ (function(module, exports) {

module.exports = "\n<div   [attr.width]=\"workspace.backgroundLayer.width+100\"\n[attr.height]=\"workspace.backgroundLayer.height+100\"\n[style.width.px]=\"workspace.backgroundLayer.width*workspace.backgroundLayer.scale+100\"\n[style.height.px]=\"workspace.backgroundLayer.height*workspace.backgroundLayer.scale+100\"\nstyle=\"position: absolute;overflow: hidden;border:solid 50px #444444\" \n>\n\n<layer-component background [surface]=\"workspace.backgroundLayer\" >\n</layer-component>\n\n<layer-component *ngFor=\"let layer of workspace.layers\" [surface]='layer'\n [style.visibility]=\"(layer.isHidden) ? 'hidden':'visible'\"> \n</layer-component>\n\n\n<layer-component selection class=\"selection\" *ngIf=\"workspace.selectionLayer\" [surface]=\"workspace.selectionLayer\"  \n  style=\"z-index:500\"  >\n</layer-component>\n\n<layer-component work class=\"work\" *ngIf=\"workspace.workLayer\" [surface]=\"workspace.workLayer\"\nstyle=\"z-index:500\"  >\n</layer-component>\n<crop-properties-component [workspace]=\"workspace\"></crop-properties-component>\n\n\n\n\n\n</div>\n\n<workspace-resize [workspace]=\"workspace\" ></workspace-resize>\n\n\n\n\n\n"

/***/ }),

/***/ "../../../../../src/app/components/workspace/workspace.component.scss":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, ".cworkspace {\n  z-index: 0;\n  position: relative; }\n\n.resizeWorkspace {\n  background-color: black; }\n", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/components/workspace/workspace.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return WorkspaceComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__services_project_service__ = __webpack_require__("../../../../../src/app/services/project.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__services_keyboard_service__ = __webpack_require__("../../../../../src/app/services/keyboard.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__models_photoedit_workSpace__ = __webpack_require__("../../../../../src/app/models/photoedit/workSpace.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var WorkspaceComponent = /** @class */ (function () {
    function WorkspaceComponent(projectService, keyboardService) {
        this.projectService = projectService;
        this.keyboardService = keyboardService;
    }
    WorkspaceComponent.prototype.ngOnInit = function () {
    };
    WorkspaceComponent.prototype.ngOnDestroy = function () {
    };
    WorkspaceComponent.prototype.ngAfterViewInit = function () {
    };
    WorkspaceComponent.prototype.onSelected = function (workspace) {
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_3__models_photoedit_workSpace__["a" /* Workspace */])
    ], WorkspaceComponent.prototype, "workspace", void 0);
    WorkspaceComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'workspace-component',
            template: __webpack_require__("../../../../../src/app/components/workspace/workspace.component.html"),
            styles: [__webpack_require__("../../../../../src/app/components/workspace/workspace.component.scss")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__services_project_service__["a" /* ProjectService */], __WEBPACK_IMPORTED_MODULE_2__services_keyboard_service__["a" /* KeyboardService */]])
    ], WorkspaceComponent);
    return WorkspaceComponent;
}());



/***/ }),

/***/ "../../../../../src/app/components/zoom/zoom.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"zoomInfo\" >\n  <header class=\"zoomHeader unselectableText\">\n    <span >Zoom</span>\n    <span *ngIf=\"project && project.activeWorkspace\">{{currentZoom()}}</span>\n    <span *ngIf=\"biggerThan()\"  tooltip=\"Pixel to pixel\" placement=\"right\" ><i class=\"fa fa-ellipsis-h\" aria-hidden=\"true\"></i></span>\n    \n  </header>\n  <section class=\"zoomSection\">\n    \n\n      <div *ngIf=\"project && project.activeWorkspace\">\n      \n         \n         <trackbar-component #tracker [value]=\"100\" [min]=10 [max]=2000 [step]=10 (valueChanged)=\"valueChanged($event)\" ></trackbar-component>\n\n        \n      \n\n    </div>\n\n\n\n\n  </section>\n</div>\n"

/***/ }),

/***/ "../../../../../src/app/components/zoom/zoom.component.scss":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, ".zoomInfo {\n  background: -webkit-linear-gradient(top, white, #e6e5e5);\n  background-image: -webkit-linear-gradient(top, #615c5c, #887f7f);\n  border-radius: 30px; }\n\n.zoomHeader {\n  line-height: 1rem;\n  color: white;\n  text-align: center;\n  font-size: 0.8rem; }\n\n.active {\n  background-color: #025aa5;\n  margin-top: 0.40rem;\n  height: 0.2rem; }\n", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/components/zoom/zoom.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ZoomComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__trackbar_trackbar_component__ = __webpack_require__("../../../../../src/app/components/trackbar/trackbar.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__services_project_service__ = __webpack_require__("../../../../../src/app/services/project.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var ZoomComponent = /** @class */ (function () {
    function ZoomComponent(projectService) {
        this.projectService = projectService;
        this.project = this.projectService.currentProject;
    }
    ZoomComponent.prototype.ngOnInit = function () {
    };
    ZoomComponent.prototype.ngDoCheck = function () {
        if (this.tracker && this.tracker.value != this.value) {
            this.tracker.changeValue(this.value);
        }
    };
    Object.defineProperty(ZoomComponent.prototype, "value", {
        get: function () {
            if (this.project && this.project.activeWorkspace) {
                var val = (this.project.activeWorkspace.zoom * 100).extRound();
                return val;
            }
            return 100;
        },
        enumerable: true,
        configurable: true
    });
    ZoomComponent.prototype.valueChanged = function (value) {
        if (this.project && this.project.activeWorkspace)
            this.project.activeWorkspace.zoomTo(value / 100);
    };
    ZoomComponent.prototype.currentZoom = function () {
        if (this.project && this.project.activeWorkspace) {
            var val = (this.project.activeWorkspace.zoom * 100).extRound() + "%";
            return val;
        }
        return "0";
    };
    ZoomComponent.prototype.biggerThan = function () {
        if (this.project && this.project.activeWorkspace) {
            var val = (this.project.activeWorkspace.zoom * 100).extRound();
            return val >= 500;
        }
        return false;
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_1__angular_core__["ViewChild"])('tracker'),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__trackbar_trackbar_component__["a" /* TrackbarComponent */])
    ], ZoomComponent.prototype, "tracker", void 0);
    ZoomComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_1__angular_core__["Component"])({
            selector: 'zoom-component',
            template: __webpack_require__("../../../../../src/app/components/zoom/zoom.component.html"),
            styles: [__webpack_require__("../../../../../src/app/components/zoom/zoom.component.scss")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__services_project_service__["a" /* ProjectService */]])
    ], ZoomComponent);
    return ZoomComponent;
}());



/***/ }),

/***/ "../../../../../src/app/consts/blendModes.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return BlendModes; });
var BlendModes = /** @class */ (function () {
    function BlendModes() {
    }
    BlendModes.orderedList = function () {
        return BlendModes._list.slice(0).map(function (val, index) {
            return { id: index + 1, name: val };
        }).sort(function (a, b) { return a.name.localeCompare(b.name); });
    };
    BlendModes.list = function () {
        return BlendModes._list.slice(0).map(function (val, index) {
            return { id: index, name: val };
        });
    };
    BlendModes._list = ["normal", "multiply", "screen", "overlay", "darken", "lighten", "color-dodge", "color-burn", "hard-light",
        "soft-light", "difference", "exclusion", "hue", "saturation", "color", "luminosity"];
    return BlendModes;
}());



/***/ }),

/***/ "../../../../../src/app/directives/keyboard.directive.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return KeyboardDirective; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var KeyboardDirective = /** @class */ (function () {
    function KeyboardDirective() {
        this.keyboardUp = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        this.keyboardDown = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
    }
    KeyboardDirective.prototype.onKeyboardDown = function (event) {
        this.keyboardDown.emit(event);
    };
    KeyboardDirective.prototype.onKeyboardUp = function (event) {
        this.keyboardUp.emit(event);
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
        __metadata("design:type", Object)
    ], KeyboardDirective.prototype, "keyboardUp", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
        __metadata("design:type", Object)
    ], KeyboardDirective.prototype, "keyboardDown", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["HostListener"])('window:keydown', ['$event']),
        __metadata("design:type", Function),
        __metadata("design:paramtypes", [KeyboardEvent]),
        __metadata("design:returntype", void 0)
    ], KeyboardDirective.prototype, "onKeyboardDown", null);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["HostListener"])('window:keyup', ['$event']),
        __metadata("design:type", Function),
        __metadata("design:paramtypes", [KeyboardEvent]),
        __metadata("design:returntype", void 0)
    ], KeyboardDirective.prototype, "onKeyboardUp", null);
    KeyboardDirective = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Directive"])({ selector: '[keyboard]' })
    ], KeyboardDirective);
    return KeyboardDirective;
}());



/***/ }),

/***/ "../../../../../src/app/directives/mouse.directive.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MouseDirective; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var MouseDirective = /** @class */ (function () {
    /**
     *
     */
    function MouseDirective() {
        this.mouseWheelUp = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        this.mouseWheelDown = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        this.mouseDown = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        this.mouseUp = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        this.mouseMove = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        this.mouseLeave = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        this.mouseOver = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        this.doubleClick = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
    }
    MouseDirective.prototype.onMouseWheelChrome = function (event) {
        this.mouseWheelFunc(event);
    };
    MouseDirective.prototype.onMouseWheelFirefox = function (event) {
        this.mouseWheelFunc(event);
    };
    MouseDirective.prototype.onMouseWheelIE = function (event) {
        this.mouseWheelFunc(event);
    };
    MouseDirective.prototype.onmousedown = function (event) {
        this.mouseDown.emit(event);
    };
    MouseDirective.prototype.onmouseup = function (event) {
        this.mouseUp.emit(event);
    };
    MouseDirective.prototype.onmouseleave = function (event) {
        this.mouseLeave.emit(event);
    };
    MouseDirective.prototype.onmousemove = function (event) {
        this.mouseMove.emit(event);
    };
    MouseDirective.prototype.onmouseover = function (event) {
        this.mouseOver.emit(event);
    };
    MouseDirective.prototype.ondblclick = function (event) {
        this.doubleClick.emit(event);
    };
    MouseDirective.prototype.mouseWheelFunc = function (event) {
        var event = window.event || event; // old IE support
        var delta = Math.max(-1, Math.min(1, (event.wheelDelta || -event.detail)));
        if (delta > 0) {
            this.mouseWheelUp.emit(event);
        }
        else if (delta < 0) {
            this.mouseWheelDown.emit(event);
        }
        // for IE
        event.returnValue = false;
        // for Chrome and Firefox
        if (event.preventDefault) {
            event.preventDefault();
        }
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
        __metadata("design:type", Object)
    ], MouseDirective.prototype, "mouseWheelUp", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
        __metadata("design:type", Object)
    ], MouseDirective.prototype, "mouseWheelDown", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
        __metadata("design:type", Object)
    ], MouseDirective.prototype, "mouseDown", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
        __metadata("design:type", Object)
    ], MouseDirective.prototype, "mouseUp", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
        __metadata("design:type", Object)
    ], MouseDirective.prototype, "mouseMove", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
        __metadata("design:type", Object)
    ], MouseDirective.prototype, "mouseLeave", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
        __metadata("design:type", Object)
    ], MouseDirective.prototype, "mouseOver", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
        __metadata("design:type", Object)
    ], MouseDirective.prototype, "doubleClick", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["HostListener"])('mousewheel', ['$event']),
        __metadata("design:type", Function),
        __metadata("design:paramtypes", [Object]),
        __metadata("design:returntype", void 0)
    ], MouseDirective.prototype, "onMouseWheelChrome", null);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["HostListener"])('DOMMouseScroll', ['$event']),
        __metadata("design:type", Function),
        __metadata("design:paramtypes", [Object]),
        __metadata("design:returntype", void 0)
    ], MouseDirective.prototype, "onMouseWheelFirefox", null);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["HostListener"])('onmousewheel', ['$event']),
        __metadata("design:type", Function),
        __metadata("design:paramtypes", [Object]),
        __metadata("design:returntype", void 0)
    ], MouseDirective.prototype, "onMouseWheelIE", null);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["HostListener"])('mousedown', ['$event']),
        __metadata("design:type", Function),
        __metadata("design:paramtypes", [Object]),
        __metadata("design:returntype", void 0)
    ], MouseDirective.prototype, "onmousedown", null);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["HostListener"])('mouseup', ['$event']),
        __metadata("design:type", Function),
        __metadata("design:paramtypes", [Object]),
        __metadata("design:returntype", void 0)
    ], MouseDirective.prototype, "onmouseup", null);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["HostListener"])('mouseleave', ['$event']),
        __metadata("design:type", Function),
        __metadata("design:paramtypes", [Object]),
        __metadata("design:returntype", void 0)
    ], MouseDirective.prototype, "onmouseleave", null);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["HostListener"])('mousemove', ['$event']),
        __metadata("design:type", Function),
        __metadata("design:paramtypes", [Object]),
        __metadata("design:returntype", void 0)
    ], MouseDirective.prototype, "onmousemove", null);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["HostListener"])('mouseover', ['$event']),
        __metadata("design:type", Function),
        __metadata("design:paramtypes", [Object]),
        __metadata("design:returntype", void 0)
    ], MouseDirective.prototype, "onmouseover", null);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["HostListener"])('dblclick', ['$event']),
        __metadata("design:type", Function),
        __metadata("design:paramtypes", [Object]),
        __metadata("design:returntype", void 0)
    ], MouseDirective.prototype, "ondblclick", null);
    MouseDirective = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Directive"])({ selector: '[mouse]' }),
        __metadata("design:paramtypes", [])
    ], MouseDirective);
    return MouseDirective;
}());



/***/ }),

/***/ "../../../../../src/app/entities/alertItem.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AlertItem; });
var AlertItem = /** @class */ (function () {
    /**
     *
     * @param type sucess info danger warning
     * @param msg  text message
     * @param timeout in miliseconds
     */
    function AlertItem(type, msg, timeout) {
        if (timeout === void 0) { timeout = 1000; }
        this.type = type;
        this.msg = msg;
        this.timeout = timeout;
    }
    return AlertItem;
}());



/***/ }),

/***/ "../../../../../src/app/entities/effect.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export Effect */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return EffectArray; });
var Effect = /** @class */ (function () {
    function Effect() {
    }
    return Effect;
}());

var EffectArray = /** @class */ (function () {
    function EffectArray() {
    }
    return EffectArray;
}());



/***/ }),

/***/ "../../../../../src/app/entities/entityIdName.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return EntityIdName; });
var EntityIdName = /** @class */ (function () {
    /**
     *
     */
    function EntityIdName(id, name) {
        this.id = id;
        this.name = name;
    }
    return EntityIdName;
}());



/***/ }),

/***/ "../../../../../src/app/entities/fileData.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FileData; });
var FileData = /** @class */ (function () {
    function FileData() {
    }
    return FileData;
}());



/***/ }),

/***/ "../../../../../src/app/entities/font.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Font; });
var Font = /** @class */ (function () {
    function Font() {
    }
    return Font;
}());



/***/ }),

/***/ "../../../../../src/app/entities/message.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Message; });
var Message = /** @class */ (function () {
    function Message() {
    }
    Message.ShowError = "showError";
    Message.ShowFormNewImage = 'showFormNewImage';
    Message.ShowFormResize = 'showFormResize';
    Message.ShowAbout = 'showAbout';
    Message.ShowBusy = 'showBusy';
    Message.ShowFormFontLoad = "showFormFontLoad";
    Message.ShowFormColorRemap = "showFormColorRemap";
    Message.ShowFormGrayscale = "showFormGrayscale";
    Message.ShowFormConvolution = "showFormConvolution";
    Message.ShowFormErodeDilation = "showFormErodeDilation";
    Message.ShowFormEdgeGradient = "showFormEdgeGradient";
    Message.ShowFormOilPainting = "showFormOilPainting";
    Message.ShowFormCartoon = "showFormCartoon";
    Message.ShowFormSampleImages = "showFormSampleImages";
    Message.ShowFormAbout = "showFormAbout";
    Message.ShowFormGradient = "showFormGradient";
    Message.ShowFormShortcuts = "showFormShortcuts";
    Message.ShowFormColorAdjustments = "showFormColorAdjustments";
    Message.ShowFormLayerProperties = "showFormLayerProperties";
    Message.GoogleFontsLanguagesGetted = "googleFontsLanguagesGetted";
    Message.FontLoaded = "fontLoaded";
    return Message;
}());



/***/ }),

/***/ "../../../../../src/app/entities/text.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Text; });
var Text = /** @class */ (function () {
    function Text() {
    }
    Text.prototype.clone = function () {
        var text = new Text();
        text.data = this.data;
        text.color = this.color;
        text.isBold = this.isBold;
        text.isItalic = this.isItalic;
        text.fontFamily = this.fontFamily;
        text.fontSize = this.fontSize;
        text.alignH = this.alignH;
        text.alignV = this.alignV;
        text.isStroked = this.isStroked;
        text.strokedColor = this.strokedColor;
        return text;
    };
    return Text;
}());



/***/ }),

/***/ "../../../../../src/app/entities/tuples.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return TupleStringNumber; });
var TupleStringNumber = /** @class */ (function () {
    /**
     *
     */
    function TupleStringNumber(_str, _nmb) {
        this._str = _str;
        this._nmb = _nmb;
    }
    Object.defineProperty(TupleStringNumber.prototype, "str", {
        get: function () {
            return this._str;
        },
        set: function (val) {
            this._str = val;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(TupleStringNumber.prototype, "nmb", {
        get: function () {
            return this._nmb;
        },
        set: function (val) {
            this._nmb = val;
        },
        enumerable: true,
        configurable: true
    });
    return TupleStringNumber;
}());



/***/ }),

/***/ "../../../../../src/app/entities/user.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return User; });
var User = /** @class */ (function () {
    /**
     *
     */
    function User() {
        this.extraFonts = [];
    }
    return User;
}());



/***/ }),

/***/ "../../../../../src/app/lib/callback.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Callback; });
/**
 *  this class represents a function delegate class,
 *  @example
 *  func test(x: number) { return  x+3 ;}
 *  var caller = Callback.from(test);
 *  var returnValue = caller.call(5);
 *  returnValue is 8
 *  @public
 */
var Callback = /** @class */ (function () {
    /**
     * @constructs
     * @param func , a function that uses only a parameter with any type, this function must not be rest parameters structure
     * @public
     */
    function Callback(func) {
        this.func = func;
    }
    /**
     *
     * @param parameters function parameter with any type
     * @return if func is defined then void or return of func , else undefined
     */
    Callback.prototype.call = function (parameters) {
        if (this.func)
            return this.func(parameters);
        return undefined;
    };
    Callback.from = function (func) {
        return new Callback(func);
    };
    Callback.empty = function () {
        return new Callback(function () { });
    };
    return Callback;
}());



/***/ }),

/***/ "../../../../../src/app/lib/checkBrowserCapabilities.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CheckBrowserCapabilities; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__assets_modernizr_custom_js__ = __webpack_require__("../../../../../src/assets/modernizr-custom.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__assets_modernizr_custom_js___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__assets_modernizr_custom_js__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__assets_browserDetection_js__ = __webpack_require__("../../../../../src/assets/browserDetection.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__assets_browserDetection_js___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__assets_browserDetection_js__);


var CheckBrowserCapabilities = /** @class */ (function () {
    function CheckBrowserCapabilities() {
    }
    CheckBrowserCapabilities.isOk = function () {
        var result = true;
        if (!Modernizr.canvas) {
            CheckBrowserCapabilities.errMsg += " canvas not support";
            result = false;
        }
        if (!Modernizr.dataview) {
            CheckBrowserCapabilities.errMsg += " dataview not support";
            result = false;
        }
        if (!Modernizr.es6collections) {
            CheckBrowserCapabilities.errMsg += " es6collections not support";
            result = false;
        }
        if (!Modernizr.es6math) {
            CheckBrowserCapabilities.errMsg += " es6math not support";
            result = false;
        }
        if (!Modernizr.es6number) {
            CheckBrowserCapabilities.errMsg += " es6number not support";
            result = false;
        }
        if (!Modernizr.es6object) {
            CheckBrowserCapabilities.errMsg += " es6object not support";
            result = false;
        }
        if (!Modernizr.promises) {
            CheckBrowserCapabilities.errMsg += " promises not support";
            result = false;
        }
        if (!Modernizr.filereader) {
            CheckBrowserCapabilities.errMsg += " filereader not support";
            result = false;
        }
        return result;
    };
    CheckBrowserCapabilities.isChrome = function () {
        return BrowserDetection.isChrome();
    };
    CheckBrowserCapabilities.errMsg = "";
    return CheckBrowserCapabilities;
}());



/***/ }),

/***/ "../../../../../src/app/lib/draw/color.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Color; });
/**
 * represents a RGBA color
 */
var Color = /** @class */ (function () {
    /**
     *initalize a new color with given values
     */
    function Color(r, g, b, a) {
        this.r = r;
        this.g = g;
        this.b = b;
        this.a = a;
    }
    Color.fromStringRGBA = function (rgba) {
        var splitted = rgba.replace("rgba(", "").replace("rgb(", "").replace(")", "").split(",");
        if (splitted.length >= 3) {
            var r = Number.parseInt(splitted[0]);
            var g = Number.parseInt(splitted[1]);
            var b = Number.parseInt(splitted[2]);
            var a = 255;
            if (splitted.length == 4)
                a = Math.round(Number.parseFloat(splitted[3]) * 255);
            return new Color(r, g, b, a);
        }
        return undefined;
    };
    Color.fromString = function (val) {
        if (!val)
            return Color.White;
        if (val.startsWith("rg"))
            return this.fromStringRGBA(val);
        var shorthandRegex = /^#?([a-f\d])([a-f\d])([a-f\d])$/i;
        val = val.replace(shorthandRegex, function (m, r, g, b) {
            return r + r + g + g + b + b;
        });
        var result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(val);
        return result ? new Color(parseInt(result[1], 16), parseInt(result[2], 16), parseInt(result[3], 16)) : Color.White;
    };
    Color.prototype.toRgba = function () {
        return "rgba(" + this.r + "," + this.g + "," + this.b + "," + this.a / 255 + ")";
    };
    Color.prototype.toRgb = function () {
        return "rgba(" + this.r + "," + this.g + "," + this.b + ",1)";
    };
    Color.prototype.toHex = function () {
        return "#" + this.componentToHex(this.r) + this.componentToHex(this.g) + this.componentToHex(this.b);
    };
    Color.prototype.componentToHex = function (c) {
        var hex = c.toString(16);
        return hex.length == 1 ? "0" + hex : hex;
    };
    Color.White = new Color(255, 255, 255, 255);
    return Color;
}());



/***/ }),

/***/ "../../../../../src/app/lib/draw/gradient.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export Gradient */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LineerGradient; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return RadialGradient; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__entities_tuples__ = __webpack_require__("../../../../../src/app/entities/tuples.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var Gradient = /** @class */ (function () {
    /**
     *
     */
    function Gradient() {
        this.colorStops = [];
        this.colorStops.push(new __WEBPACK_IMPORTED_MODULE_0__entities_tuples__["a" /* TupleStringNumber */]("rgb(255,255,255)", 0));
        this.colorStops.push(new __WEBPACK_IMPORTED_MODULE_0__entities_tuples__["a" /* TupleStringNumber */]("rgb(0,0,0)", 1));
        this.blendMode = "normal";
        this.opacity = 1;
    }
    Gradient.prototype.addColorStop = function (color, value) {
        this.colorStops.push(new __WEBPACK_IMPORTED_MODULE_0__entities_tuples__["a" /* TupleStringNumber */](color, value));
    };
    return Gradient;
}());

var LineerGradient = /** @class */ (function (_super) {
    __extends(LineerGradient, _super);
    /**
     *
     */
    function LineerGradient() {
        return _super.call(this) || this;
    }
    return LineerGradient;
}(Gradient));

var RadialGradient = /** @class */ (function (_super) {
    __extends(RadialGradient, _super);
    /**
     *
     */
    function RadialGradient() {
        return _super.call(this) || this;
    }
    return RadialGradient;
}(Gradient));



/***/ }),

/***/ "../../../../../src/app/lib/draw/point.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Point; });
var Point = /** @class */ (function () {
    /**
     *
     */
    function Point(x, y) {
        this.x = x;
        this.y = y;
    }
    return Point;
}());



/***/ }),

/***/ "../../../../../src/app/lib/draw/polygon.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Polygon; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__rect__ = __webpack_require__("../../../../../src/app/lib/draw/rect.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__point__ = __webpack_require__("../../../../../src/app/lib/draw/point.ts");


var Polygon = /** @class */ (function () {
    function Polygon(points) {
        if (points === void 0) { points = undefined; }
        if (points)
            this._points = points;
        else
            this._points = [];
    }
    Object.defineProperty(Polygon.prototype, "points", {
        get: function () {
            return this._points;
        },
        enumerable: true,
        configurable: true
    });
    Polygon.prototype.getPaths = function () {
        var path = [];
        this._points.forEach(function (item) { return path.push({ "X": item.x, "Y": item.y }); });
        return path;
    };
    Polygon.prototype.union = function (polygon) {
        var out = new ClipperLib.Paths();
        var source = new ClipperLib.Clipper();
        source.AddPath(this.getPaths(), ClipperLib.PolyType.ptSubject, true);
        source.AddPath(polygon.getPaths(), ClipperLib.PolyType.ptClip, true);
        source.Execute(ClipperLib.ClipType.ctUnion, out);
        var points = [];
        if (out.length > 0)
            out[0].forEach(function (item) { return points.push(new __WEBPACK_IMPORTED_MODULE_1__point__["a" /* Point */](item.X, item.Y)); });
        return new Polygon(points);
    };
    Polygon.prototype.intersect = function (polygon) {
        var out = new ClipperLib.Paths();
        var source = new ClipperLib.Clipper();
        source.AddPath(this.getPaths(), ClipperLib.PolyType.ptSubject, true);
        source.AddPath(polygon.getPaths(), ClipperLib.PolyType.ptClip, true);
        source.Execute(ClipperLib.ClipType.ctIntersection, out);
        var points = [];
        if (out.length > 0)
            out[0].forEach(function (item) { return points.push(new __WEBPACK_IMPORTED_MODULE_1__point__["a" /* Point */](item.X, item.Y)); });
        return new Polygon(points);
    };
    Polygon.prototype.exclude = function (polygon) {
        var out = new ClipperLib.Paths();
        var source = new ClipperLib.Clipper();
        source.AddPath(this.getPaths(), ClipperLib.PolyType.ptSubject, true);
        source.AddPath(polygon.getPaths(), ClipperLib.PolyType.ptClip, true);
        source.Execute(ClipperLib.ClipType.ctDifference, out);
        var points = [];
        if (out.length > 0)
            out[0].forEach(function (item) { return points.push(new __WEBPACK_IMPORTED_MODULE_1__point__["a" /* Point */](item.X, item.Y)); });
        return new Polygon(points);
    };
    Polygon.prototype.xor = function (polygon) {
        var out = new ClipperLib.Paths();
        var source = new ClipperLib.Clipper();
        source.AddPath(this.getPaths(), ClipperLib.PolyType.ptSubject, true);
        source.AddPath(polygon.getPaths(), ClipperLib.PolyType.ptClip, true);
        source.Execute(ClipperLib.ClipType.ctXor, out);
        var points = [];
        if (out.length > 0)
            out[0].forEach(function (item) { return points.push(new __WEBPACK_IMPORTED_MODULE_1__point__["a" /* Point */](item.X, item.Y)); });
        return new Polygon(points);
    };
    Object.defineProperty(Polygon.prototype, "bounds", {
        get: function () {
            var paths = this.getPaths();
            var bound = ClipperLib.Clipper.GetBounds([paths]);
            return new __WEBPACK_IMPORTED_MODULE_0__rect__["a" /* Rect */](bound.left, bound.top, bound.right - bound.left, bound.bottom - bound.top);
        },
        enumerable: true,
        configurable: true
    });
    Polygon.prototype.isPointInPath = function (point) {
        var out = new ClipperLib.Paths();
        var source = new ClipperLib.Clipper();
        source.AddPath(this.getPaths(), ClipperLib.PolyType.ptSubject, true);
        var poly = new Polygon([point, new __WEBPACK_IMPORTED_MODULE_1__point__["a" /* Point */](point.x, point.y + 1), new __WEBPACK_IMPORTED_MODULE_1__point__["a" /* Point */](point.x + 1, point.y + 1), new __WEBPACK_IMPORTED_MODULE_1__point__["a" /* Point */](point.x + 1, point.y)]);
        var paths = poly.getPaths();
        source.AddPath(poly.getPaths(), ClipperLib.PolyType.ptClip, true);
        source.Execute(ClipperLib.ClipType.ctIntersection, out);
        if (out.length > 0)
            return true;
        return false;
    };
    Polygon.prototype.simplify = function () {
        var paths = this.getPaths();
        var pol = ClipperLib.Clipper.SimplifyPolygons(paths, ClipperLib.PolyFillType.pftNonZero);
        var points = [];
        pol.forEach(function (p) { points.push(new __WEBPACK_IMPORTED_MODULE_1__point__["a" /* Point */](p[0].X, p[0].Y)); });
        return new Polygon(points);
    };
    Polygon.prototype.clean = function (value) {
        if (value === void 0) { value = 10; }
        var paths = this.getPaths();
        var pol = ClipperLib.JS.Clean(paths, value);
        var points = [];
        pol.forEach(function (p) { points.push(new __WEBPACK_IMPORTED_MODULE_1__point__["a" /* Point */](p.X, p.Y)); });
        return new Polygon(points);
    };
    Polygon.prototype.lighten = function (value) {
        if (value === void 0) { value = 3; }
        var paths = this.getPaths();
        var pol = ClipperLib.JS.Lighten(paths, value);
        var points = [];
        pol.forEach(function (p) { points.push(new __WEBPACK_IMPORTED_MODULE_1__point__["a" /* Point */](p.X, p.Y)); });
        return new Polygon(points);
    };
    Polygon.prototype.translate = function (x, y) {
        var paths = this.getPaths();
        var points = [];
        paths.forEach(function (pol) { return points.push(new __WEBPACK_IMPORTED_MODULE_1__point__["a" /* Point */](pol.X + x, pol.Y + y)); });
        return new Polygon(points);
    };
    Polygon.prototype.hull = function () {
        var points = [];
        this._points.forEach(function (item) {
            points.push([item.x, item.y]);
        });
        var temp = hull(points, 10);
        var newPoints = [];
        temp.forEach(function (element) {
            newPoints.push(new __WEBPACK_IMPORTED_MODULE_1__point__["a" /* Point */](element[0], element[1]));
        });
        return new Polygon(newPoints);
    };
    Polygon.prototype.clone = function () {
        var paths = this.getPaths();
        var points = [];
        paths.forEach(function (pol) { return points.push(new __WEBPACK_IMPORTED_MODULE_1__point__["a" /* Point */](pol.X, pol.Y)); });
        return new Polygon(points);
    };
    return Polygon;
}());



/***/ }),

/***/ "../../../../../src/app/lib/draw/rect.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Rect; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__point__ = __webpack_require__("../../../../../src/app/lib/draw/point.ts");

var Rect = /** @class */ (function () {
    function Rect(x, y, width, height) {
        this.x = x;
        this.y = y;
        this.width = width;
        this.height = height;
    }
    Rect.prototype.clone = function () {
        return new Rect(this.x, this.y, this.width, this.height);
    };
    Object.defineProperty(Rect.prototype, "leftTop", {
        get: function () {
            return new __WEBPACK_IMPORTED_MODULE_0__point__["a" /* Point */](this.x, this.y);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Rect.prototype, "leftBottom", {
        get: function () {
            return new __WEBPACK_IMPORTED_MODULE_0__point__["a" /* Point */](this.x, this.y + this.height);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Rect.prototype, "rightTop", {
        get: function () {
            return new __WEBPACK_IMPORTED_MODULE_0__point__["a" /* Point */](this.x + this.width, this.y);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Rect.prototype, "rightBottom", {
        get: function () {
            return new __WEBPACK_IMPORTED_MODULE_0__point__["a" /* Point */](this.x + this.width, this.y + this.height);
        },
        enumerable: true,
        configurable: true
    });
    Rect.prototype.toString = function () {
        return "{x:" + this.x + ",y:" + this.y + ",w:" + this.width + ",h:" + this.height + "}";
    };
    return Rect;
}());



/***/ }),

/***/ "../../../../../src/app/lib/draw/rect2D.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Rect2D; });
var Rect2D = /** @class */ (function () {
    function Rect2D(leftTop, leftBottom, rightTop, rightBottom) {
        this.leftTop = leftTop;
        this.leftBottom = leftBottom;
        this.rightTop = rightTop;
        this.rightBottom = rightBottom;
    }
    return Rect2D;
}());



/***/ }),

/***/ "../../../../../src/app/lib/draw/rectInt.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return RectInt; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__point__ = __webpack_require__("../../../../../src/app/lib/draw/point.ts");

var RectInt = /** @class */ (function () {
    function RectInt(x, y, width, height) {
        this._x = x.extToInt32();
        this._y = y.extToInt32();
        this._width = width.extToInt32();
        this._height = height.extToInt32();
    }
    Object.defineProperty(RectInt.prototype, "x", {
        get: function () { return this._x; },
        set: function (val) { this.x = val.extToInt32(); },
        enumerable: true,
        configurable: true
    });
    ;
    Object.defineProperty(RectInt.prototype, "y", {
        get: function () { return this._y; },
        set: function (val) { this._y = val.extToInt32(); },
        enumerable: true,
        configurable: true
    });
    ;
    ;
    Object.defineProperty(RectInt.prototype, "width", {
        get: function () { return this._width; },
        set: function (val) { this._width = val.extToInt32(); },
        enumerable: true,
        configurable: true
    });
    ;
    ;
    Object.defineProperty(RectInt.prototype, "height", {
        get: function () { return this._height; },
        set: function (val) { this._height = val.extToInt32(); },
        enumerable: true,
        configurable: true
    });
    ;
    ;
    Object.defineProperty(RectInt.prototype, "leftTop", {
        get: function () {
            return new __WEBPACK_IMPORTED_MODULE_0__point__["a" /* Point */](this.x, this.y);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(RectInt.prototype, "leftBottom", {
        get: function () {
            return new __WEBPACK_IMPORTED_MODULE_0__point__["a" /* Point */](this.x, this.y + this.height);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(RectInt.prototype, "rightTop", {
        get: function () {
            return new __WEBPACK_IMPORTED_MODULE_0__point__["a" /* Point */](this.x + this.width, this.y);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(RectInt.prototype, "rightBottom", {
        get: function () {
            return new __WEBPACK_IMPORTED_MODULE_0__point__["a" /* Point */](this.x + this.width, this.y + this.height);
        },
        enumerable: true,
        configurable: true
    });
    RectInt.prototype.toString = function () {
        return "{x:" + this.x + ",y:" + this.y + ",w:" + this.width + ",h:" + this.height + "}";
    };
    return RectInt;
}());



/***/ }),

/***/ "../../../../../src/app/lib/draw/svgShape.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SvgShape; });
var SvgShape = /** @class */ (function () {
    /**
     *
     */
    function SvgShape(name, unicode, path, viewportW, viewportH) {
        this.name = name;
        this.unicode = unicode;
        this.path = path;
        this.viewportW = viewportW;
        this.viewportH = viewportH;
    }
    SvgShape.cloneFrom = function (shape) {
        if (!shape)
            return shape;
        return new SvgShape(shape.name, shape.unicode, shape.path, shape.viewportW, shape.viewportH);
    };
    return SvgShape;
}());



/***/ }),

/***/ "../../../../../src/app/lib/eventEmitter.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return HEventEmitter; });
/**
 * an event class with promise,
 */
var HEventEmitter = /** @class */ (function () {
    function HEventEmitter() {
        this.events = new Map();
    }
    HEventEmitter.prototype.onEvent = function (eventName, func) {
        if (!this.events.has(eventName))
            this.events.set(eventName, new eventPublisher());
        this.events.get(eventName).add(func);
    };
    HEventEmitter.prototype.offEvent = function (eventName, func) {
        if (this.events.has(eventName)) {
            this.events.get(eventName).remove(func);
        }
    };
    /**
     * executes all publishers async
     * @param eventName name of event
     * @param parameters call function parameteters
     * @returns all promises array
     */
    HEventEmitter.prototype.callEvent = function (eventName, parameters) {
        if (this.events.has(eventName)) {
            return this.events.get(eventName).all(parameters);
        }
        return undefined;
    };
    return HEventEmitter;
}());

/**
 *  an event publish class, with promise
 * @see Promise
 */
var eventPublisher = /** @class */ (function () {
    function eventPublisher() {
        this.functions = [];
        this.promiseList = new Array();
    }
    /**
     * add function to array
     * @param func callback function
     */
    eventPublisher.prototype.add = function (func) {
        if (func)
            this.functions.push(func);
    };
    /**
     * removes functions from array
     * @param func remove callback function
     */
    eventPublisher.prototype.remove = function (func) {
        var index;
        if (func)
            if ((index = this.functions.findIndex(function (item) { return item === func; })) >= 0)
                this.functions.splice(index, 1);
    };
    /**
     * executes all functions with parameters
     * @param parameters execute parameters for functions
     */
    eventPublisher.prototype.all = function (parameters) {
        var _this = this;
        this.promiseList = new Array();
        this.functions.forEach(function (item) {
            var promise = new Promise(function (resolve, reject) {
                //setTimeout(()=> {
                var returnVal = item.call(parameters);
                resolve(returnVal);
                //}, 500);
            });
            _this.promiseList.push(promise);
        });
        return this.promiseList;
    };
    return eventPublisher;
}());


/***/ }),

/***/ "../../../../../src/app/lib/extensions.ts":
/***/ (function(module, exports) {

Number.prototype.extRound = function () {
    return Math.round(this);
};
Number.prototype.extCeil = function () {
    return Math.ceil(this);
};
Number.prototype.extFloor = function () {
    return Math.floor(this);
};
Number.prototype.extAbs = function () {
    return Math.abs(this);
};
Number.prototype.extToInt32 = function () {
    return this | 0;
};
/*
  Window.prototype.createImageBitmap = function(imageData):Promise<any>{
    debugger;
    return new Promise((resolve,reject)=>{

        let  canvas=document.createElement('canvas');
    canvas.width=imageData.width;
    canvas.height=imageData.height;
    let context= canvas.getContext("2d");
    context.putImageData(imageData,0,0);
        return resolve(canvas);

    });
    
    
    
} */


/***/ }),

/***/ "../../../../../src/app/lib/graphics.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Graphics; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__draw_color__ = __webpack_require__("../../../../../src/app/lib/draw/color.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__image__ = __webpack_require__("../../../../../src/app/lib/image.ts");


var Graphics = /** @class */ (function () {
    /**
     * creates a graphics context from canvas element
     */
    function Graphics(element, width, height, scale) {
        this._context = element.getContext("2d");
        this.width = width.extToInt32();
        this.height = height.extToInt32();
        this.scale = scale;
        this._canvas = element;
    }
    Graphics.prototype.dispose = function () {
    };
    Graphics.prototype.setGlobalAlpha = function (value) {
        this._context.globalAlpha = value;
    };
    Graphics.prototype.putImage = function (img, rect) {
        if (rect === void 0) { rect = undefined; }
        if (rect) {
            var imageData = this._context.getImageData(rect.x.extToInt32(), rect.y.extToInt32(), rect.width.extToInt32(), rect.height.extToInt32());
            var data = imageData.data;
            data.set(img.Pixels);
            this._context.putImageData(imageData, rect.x.extToInt32(), rect.y.extToInt32());
        }
        else {
            var imageData = this._context.getImageData(0, 0, this.width.extToInt32(), this.height.extToInt32());
            var data = imageData.data;
            data.set(img.Pixels);
            this._context.putImageData(imageData, 0, 0);
        }
    };
    /*  public putImage2(img: HImage) {
         let imageData = new ImageData(img.Pixels,img.width,img.height)
         this._context.putImageData(imageData, 0, 0,0,0,img.width,img.height);
       
     } */
    /**
     * allways creates a deep copy HImage
     * @returns HImage
     */
    Graphics.prototype.getImage = function (rect) {
        if (rect === void 0) { rect = undefined; }
        if (rect) {
            var imageData = this._context.getImageData(rect.x.extToInt32(), rect.y.extToInt32(), rect.width.extToInt32(), rect.height.extToInt32());
            var arr = new Uint8ClampedArray(imageData.data);
            var img = new __WEBPACK_IMPORTED_MODULE_1__image__["a" /* HImage */](rect.width.extToInt32(), rect.height.extToInt32(), arr);
            return img;
        }
        else {
            var imageData = this._context.getImageData(0, 0, this.width.extToInt32(), this.height.extToInt32());
            var arr = new Uint8ClampedArray(imageData.data);
            var img = new __WEBPACK_IMPORTED_MODULE_1__image__["a" /* HImage */](this.width.extToInt32(), this.height.extToInt32(), arr);
            return img;
        }
    };
    Graphics.prototype.getPixel = function (x, y) {
        var arr = this._context.getImageData(x, y, 1, 1).data;
        return new __WEBPACK_IMPORTED_MODULE_0__draw_color__["a" /* Color */](arr[0], arr[1], arr[2], arr[3]);
    };
    Graphics.prototype.setPixel = function (x, y, color) {
        var arr = this._context.createImageData(1, 1);
        arr.data[0] = color.r;
        arr.data[1] = color.g;
        arr.data[2] = color.b;
        arr.data[3] = color.a;
        this._context.putImageData(arr, x, y);
    };
    Graphics.prototype.drawImageRect = function (img, sourceRect, destRect, callback) {
        /*  if(destRect.width!=this.width || destRect.height!=this.height)
         debugger; */
        var imageData = new ImageData(img.Pixels, img.width, img.height);
        //this._context.putImageData(imageData,0,0);
        var canvas = this.createImage(imageData);
        this._context.drawImage(canvas, 0, 0, img.width, img.height, destRect.x, destRect.y, destRect.width, destRect.height);
        if (callback)
            callback.call(undefined);
    };
    Graphics.prototype.createImage = function (img) {
        var canvas = document.createElement('canvas');
        canvas.width = img.width;
        canvas.height = img.height;
        var context = canvas.getContext("2d");
        context.save();
        context.putImageData(img, 0, 0);
        context.restore();
        return canvas;
    };
    Graphics.prototype.drawHtmlImageFit = function (img, x, y) {
        this._context.drawImage(img, x, y, img.naturalWidth, img.naturalHeight, 0, 0, this.width, this.height);
    };
    Graphics.prototype.drawHtmlImageRect = function (img, sourceRect, destRect) {
        this._context.drawImage(img, sourceRect.x, sourceRect.y, sourceRect.width, sourceRect.height, destRect.x, destRect.y, destRect.width, destRect.height);
    };
    Graphics.prototype.fillRectRGBA = function (rect, r, g, b, a) {
        this._context.fillStyle = "rgba(" + r + "," + g + "," + b + "," + (a / 255) + ")";
        this._context.fillRect(rect.x, rect.y, rect.width, rect.height);
    };
    Graphics.prototype.fillRect = function (rect, brush) {
        if (brush)
            this._context.fillStyle = brush;
        this._context.fillRect(rect.x, rect.y, rect.width, rect.height);
    };
    Graphics.prototype.drawRect = function (rect, brush) {
        this._context.strokeStyle = brush;
        this._context.strokeRect(rect.x, rect.y, rect.width, rect.height);
    };
    Graphics.prototype.rect = function (rect) {
        this._context.rect(rect.x, rect.y, rect.width, rect.height);
    };
    Graphics.prototype.clearRect = function (rect) {
        this._context.clearRect(rect.x, rect.y, rect.width, rect.height);
    };
    Graphics.prototype.drawLine = function (x1, y1, x2, y2, lineWidth, brush) {
        if (lineWidth === void 0) { lineWidth = 1; }
        if (brush)
            this._context.fillStyle = brush;
        if (brush)
            this._context.strokeStyle = brush;
        this._context.lineWidth = lineWidth;
        this._context.beginPath();
        this._context.moveTo(x1, y1);
        this._context.lineTo(x2, y2);
        this._context.stroke();
    };
    Graphics.prototype.drawPolygon = function (polygon, closePath) {
        if (closePath === void 0) { closePath = true; }
        if (polygon.points.length > 0) {
            this._context.beginPath();
            this._context.moveTo(polygon.points[0].x, polygon.points[0].y);
            for (var i = 1; i < polygon.points.length; ++i) {
                this._context.lineTo(polygon.points[i].x, polygon.points[i].y);
            }
            if (closePath)
                this._context.closePath();
        }
    };
    Graphics.prototype.drawLine2 = function (x1, y1) {
        this._context.lineTo(x1, y1);
    };
    Graphics.prototype.drawString = function (text, color, isStroked, strokedColor, fontFamily, fontSize, isBold, isItalic, alignH, alignV) {
        var style = "";
        if (isBold)
            style += "Bold ";
        if (isItalic)
            style += "Italic ";
        this._context.fillStyle = color;
        if (isStroked)
            this._context.strokeStyle = strokedColor;
        // this.context.font=style+fontSize+"px "+fontFamily;
        // this.context.textBaseline="top";
        // this.context.textAlign="left";
        var font = style + fontSize + "px " + fontFamily;
        this._context.font = font;
        this._context.textAlign = "left";
        this._context.textBaseline = "top";
        var lineHeight = 1.2;
        var lines = this.splitText(text);
        var x = 0;
        var y = 0;
        if (alignV === "middle")
            y = (this.height - lineHeight * fontSize * lines.length) / 2;
        else if (alignV === "bottom")
            y += (this.height - lineHeight * fontSize * lines.length);
        for (var i = 0; i < lines.length; ++i) {
            var line = lines[i];
            if (alignH === "center")
                x = (this.width - line.width) / 2;
            else if (alignH === "right")
                x = (this.width - line.width);
            this._context.fillText(line.txt, x, y);
            if (isStroked)
                this._context.strokeText(line.txt, x, y);
            y += fontSize * lineHeight;
        }
        /* let options={
            font: style+fontSize+"px "+fontFamily,
            lineHeight: 1,
            textAlign: alignH,
            verticalAlign: alignV,
            paddingX: 0,
            paddingY: 0,
            fitParent: false,
          
            strokeText: isStroked,
            sizeToFill: false,
            maxFontSizeToFill: 0,
            allowNewLine: true,
            justifyLines: true,
            renderHDPI: true,
            
        };*/
        // CanvasTextWrapper(this._canvas, text, options); 
    };
    Graphics.prototype.splitText = function (text) {
        var splitted = text.split(/[ ]/);
        if (!splitted.length)
            return;
        var lines = [];
        var words = [];
        do {
            words.push(splitted[0]);
            var tmp = words.join(" ");
            var metrics = this._context.measureText(tmp);
            if (metrics.width > this.width) {
                // hem büyük hemde bir tane ise yapacak bir şey yok
                if (words.length == 1) {
                    lines.push({ txt: words.join(" "), width: this._context.measureText(words.join(" ")).width });
                    splitted.shift();
                    words = [];
                }
                else
                    lines.push({ txt: words.slice(0, -1).join(" "), width: this._context.measureText(words.slice(0, -1).join(" ")).width });
                words = [];
            }
            else {
                splitted.shift();
            }
        } while (splitted.length > 0);
        if (words.length > 0)
            lines.push({ txt: words.join(" "), width: this._context.measureText(words.join(" ")).width });
        return lines;
    };
    Graphics.prototype.fillStyle = function (brush) {
        this._context.fillStyle = brush;
    };
    Graphics.prototype.strokeStyle = function (brush) {
        this._context.strokeStyle = brush;
    };
    Graphics.prototype.beginPath = function () {
        this._context.beginPath();
    };
    Graphics.prototype.closePath = function () {
        this._context.closePath();
    };
    Graphics.prototype.lineWidth = function (width) {
        this._context.lineWidth = width;
    };
    Graphics.prototype.fill = function () {
        this._context.fill();
    };
    Graphics.prototype.stroke = function () {
        this._context.stroke();
    };
    Graphics.prototype.exportToURI = function (mimeType) {
        if (mimeType === void 0) { mimeType = 'image/jpg'; }
        return this._canvas.toDataURL(mimeType, 1.0);
    };
    Graphics.prototype.save = function () {
        this._context.save();
    };
    Graphics.prototype.restore = function () {
        this._context.restore();
    };
    Graphics.prototype.translate = function (w, h) {
        this._context.translate(w, h);
    };
    Graphics.prototype.rotate = function (angleDeg) {
        this._context.rotate(angleDeg * Math.PI / 180);
    };
    Graphics.prototype.setScale = function (x, y) {
        this._context.scale(x, y);
    };
    Graphics.prototype.moveTo = function (x, y) {
        this._context.moveTo(x, y);
    };
    Graphics.prototype.bezierCurveTo = function (cp1x, cp1y, cp2x, cp2y, x, y) {
        this._context.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y);
    };
    Graphics.prototype.quadraticCurveTo = function (cpx, cpy, x, y) {
        this._context.quadraticCurveTo(cpx, cpy, x, y);
    };
    Graphics.prototype.arc = function (x, y, radius, startAngle, endAngle, anticlockwise) {
        this._context.arc(x, y, radius, startAngle, endAngle, anticlockwise);
    };
    Graphics.prototype.ellipse = function (x, y, radiusX, radiusY, rotation, startAngle, endAngle, anticlockwise) {
        this._context.ellipse(x, y, radiusX, radiusY, rotation, startAngle, endAngle, anticlockwise);
    };
    Graphics.prototype.clip = function (fillrule) {
        this._context.clip(fillrule);
    };
    Graphics.prototype.setBlendMode = function (val) {
        this._context.globalCompositeOperation = val;
    };
    Graphics.prototype.createLinearGradient = function (x0, y0, x1, y1) {
        return this._context.createLinearGradient(x0, y0, x1, y1);
    };
    Graphics.prototype.createPattern = function (image, repetion) {
        return this._context.createPattern(image, repetion);
    };
    Graphics.prototype.createRadialGradient = function (x0, y0, r0, x1, y1, r1) {
        return this._context.createRadialGradient(x0, y0, r0, x1, y1, r1);
    };
    Graphics.prototype.isPointInPath = function (x, y) {
        return this._context.isPointInPath(x, y);
    };
    return Graphics;
}());



/***/ }),

/***/ "../../../../../src/app/lib/hMath.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return HMath; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__draw_polygon__ = __webpack_require__("../../../../../src/app/lib/draw/polygon.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__draw_point__ = __webpack_require__("../../../../../src/app/lib/draw/point.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__draw_rect__ = __webpack_require__("../../../../../src/app/lib/draw/rect.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__draw_rect2D__ = __webpack_require__("../../../../../src/app/lib/draw/rect2D.ts");




var HMath = /** @class */ (function () {
    function HMath() {
    }
    /**
     * counter clockwise rotates a point around another pointer
     * @param point source point
     * @param degres degress as degree
     * @param pointAround around point
     * @return new rotated point
     */
    HMath.rotatePoint = function (point, degres, pointAround) {
        var X = (point.x - pointAround.x) * Math.cos(degres / 180 * Math.PI) - (point.y - pointAround.y) * Math.sin(degres / 180 * Math.PI) + pointAround.x;
        var Y = (point.x - pointAround.x) * Math.sin(degres / 180 * Math.PI) + (point.y - pointAround.y) * Math.cos(degres / 180 * Math.PI) + pointAround.y;
        return new __WEBPACK_IMPORTED_MODULE_1__draw_point__["a" /* Point */](X, Y);
    };
    /**
     * counter clockwise rotates a rectagle around its center
     * @param rect
     * @param degres
     * @return new rotated rect
     */
    HMath.rotateRect = function (rect, degres) {
        var center = new __WEBPACK_IMPORTED_MODULE_1__draw_point__["a" /* Point */](rect.leftTop.x + rect.width / 2, rect.leftTop.y + rect.height / 2);
        var pointLeftTop = this.rotatePoint(rect.leftTop, degres, center);
        var pointLeftBottom = this.rotatePoint(rect.leftBottom, degres, center);
        var pointRightTop = this.rotatePoint(rect.rightTop, degres, center);
        var pointRightBottom = this.rotatePoint(rect.rightBottom, degres, center);
        var minx = Math.min(pointLeftTop.x, pointLeftBottom.x, pointRightTop.x, pointRightBottom.x);
        var maxx = Math.max(pointLeftTop.x, pointLeftBottom.x, pointRightTop.x, pointRightBottom.x);
        var miny = Math.min(pointLeftTop.y, pointLeftBottom.y, pointRightTop.y, pointRightBottom.y);
        var maxy = Math.max(pointLeftTop.y, pointLeftBottom.y, pointRightTop.y, pointRightBottom.y);
        var width = Math.abs(maxx - minx);
        var height = Math.abs(maxy - miny);
        return new __WEBPACK_IMPORTED_MODULE_2__draw_rect__["a" /* Rect */](minx, miny, width, height);
    };
    /**
     * rotates a @see Rect2D
     * @param rect
     * @param degres
     * @return new rotated Rect2D
     */
    HMath.rotateRect2D = function (rect, degres) {
        var minx = Math.min(rect.leftTop.x, rect.leftBottom.x, rect.rightTop.x, rect.rightBottom.x);
        var maxx = Math.max(rect.leftTop.x, rect.leftBottom.x, rect.rightTop.x, rect.rightBottom.x);
        var miny = Math.min(rect.leftTop.y, rect.leftBottom.y, rect.rightTop.y, rect.rightBottom.y);
        var maxy = Math.max(rect.leftTop.y, rect.leftBottom.y, rect.rightTop.y, rect.rightBottom.y);
        var width = Math.abs(maxx - minx);
        var height = Math.abs(maxy - miny);
        var center = new __WEBPACK_IMPORTED_MODULE_1__draw_point__["a" /* Point */](minx + width / 2, miny + height / 2);
        var pointLeftTop = this.rotatePoint(rect.leftTop, degres, center);
        var pointLeftBottom = this.rotatePoint(rect.leftBottom, degres, center);
        var pointRightTop = this.rotatePoint(rect.rightTop, degres, center);
        var pointRightBottom = this.rotatePoint(rect.rightBottom, degres, center);
        return new __WEBPACK_IMPORTED_MODULE_3__draw_rect2D__["a" /* Rect2D */](pointLeftTop, pointLeftBottom, pointRightTop, pointRightBottom);
    };
    /**
     * cos value of a degrees
     * @param degres
     */
    HMath.cos = function (degres) {
        return Math.cos(degres / 180 * Math.PI);
    };
    /**
     * sin value of a degree
     * @param degres
     */
    HMath.sin = function (degres) {
        return Math.sin(degres / 180 * Math.PI);
    };
    /**
     * scales a rectangle @see Rect
     * @param rect
     * @param scale
     * @return new scaled rect
     */
    HMath.scaleRect = function (rect, scale) {
        return new __WEBPACK_IMPORTED_MODULE_2__draw_rect__["a" /* Rect */](rect.x * scale, rect.y * scale, rect.width * scale, rect.height * scale);
    };
    /**
     * calculates intersection between two @see Rect
     * @param r1
     * @param r2
     * @return intersection rect or undefined
     */
    HMath.intersectRect = function (r1, r2) {
        var xmin = Math.max(r1.x, r2.x);
        var xmax1 = r1.x + r1.width;
        var xmax2 = r2.x + r2.width;
        var xmax = Math.min(xmax1, xmax2);
        if (xmax > xmin) {
            var ymin = Math.max(r1.y, r2.y);
            var ymax1 = r1.y + r1.height;
            var ymax2 = r2.y + r2.height;
            var ymax = Math.min(ymax1, ymax2);
            if (ymax > ymin) {
                var x = xmin;
                var y = ymin;
                var width = xmax - xmin;
                var height = ymax - ymin;
                return new __WEBPACK_IMPORTED_MODULE_2__draw_rect__["a" /* Rect */](x, y, width, height);
            }
        }
        return undefined;
    };
    /**
     * calculates if @see Point is in @see Rect
     * @param point
     * @param rect
     * @return if intersects true else false
     */
    HMath.isIntersect = function (point, rect) {
        if (point.x >= rect.leftTop.x)
            if (point.x <= rect.rightTop.x)
                if (point.y >= rect.leftTop.y)
                    if (point.y <= rect.leftBottom.y)
                        return true;
        return false;
    };
    HMath.translatePoint = function (point, x, y) {
        return new __WEBPACK_IMPORTED_MODULE_1__draw_point__["a" /* Point */](point.x + x, point.y + y);
    };
    HMath.pointDif = function (point1, point2) {
        return Math.sqrt((point1.x - point2.x) * (point1.x - point2.x) + (point1.y - point2.y) * (point1.y - point2.y));
    };
    HMath.roundPoint = function (point) {
        return new __WEBPACK_IMPORTED_MODULE_1__draw_point__["a" /* Point */](point.x.extRound(), point.y.extRound());
    };
    HMath.floorPoint = function (point) {
        return new __WEBPACK_IMPORTED_MODULE_1__draw_point__["a" /* Point */](point.x.extFloor(), point.y.extFloor());
    };
    HMath.intPoint = function (point) {
        return new __WEBPACK_IMPORTED_MODULE_1__draw_point__["a" /* Point */](point.x | 0, point.y | 0);
    };
    HMath.ceilPoint = function (point) {
        return new __WEBPACK_IMPORTED_MODULE_1__draw_point__["a" /* Point */](point.x.extCeil(), point.y.extCeil());
    };
    HMath.calculatePointsBetween = function (start, end, dif) {
        if (dif === void 0) { dif = 5; }
        // console.log("********");
        // console.log(start,end,dif);
        var temps = [];
        var prev = start;
        var cur = end;
        while (true) {
            var d = this.pointDif(prev, cur);
            if (d > dif) {
                var t = dif / d;
                var temp = new __WEBPACK_IMPORTED_MODULE_1__draw_point__["a" /* Point */]((1 - t) * prev.x + t * cur.x, (1 - t) * prev.y + t * cur.y);
                prev = temp;
                temps.push(temp);
            }
            else
                break;
        }
        // console.log(temps);
        return temps;
    };
    HMath.calculateBetweenPoints = function (points, dif, close, round) {
        var _this = this;
        if (dif === void 0) { dif = 5; }
        if (close === void 0) { close = true; }
        if (round === void 0) { round = false; }
        if (round)
            points.forEach(function (element) {
                element = _this.roundPoint(element);
            });
        var pTemps = [];
        if (points.length >= 1) {
            var prevPoint = points[0];
            pTemps.push(prevPoint);
            for (var i = 1; i < points.length; ++i) {
                var curPoint = points[i];
                if (curPoint.x == pTemps[pTemps.length - 1].x && curPoint.y == pTemps[pTemps.length - 1].y)
                    continue;
                while (true) {
                    var d = this.pointDif(curPoint, prevPoint);
                    if (d > dif) {
                        var t = dif / d;
                        var temp = new __WEBPACK_IMPORTED_MODULE_1__draw_point__["a" /* Point */]((1 - t) * prevPoint.x + t * curPoint.x, (1 - t) * prevPoint.y + t * curPoint.y);
                        if (round)
                            temp = this.roundPoint(temp);
                        if (temp.x != prevPoint.x || temp.y != prevPoint.y)
                            pTemps.push(temp);
                        else
                            break;
                        prevPoint = temp;
                    }
                    else {
                        break;
                    }
                }
            }
            if (close) {
                prevPoint = points[points.length - 1];
                var curPoint = points[0];
                if (prevPoint.x != curPoint.x || prevPoint.y != curPoint.y) {
                    pTemps.push(prevPoint);
                    while (true) {
                        var d = this.pointDif(curPoint, prevPoint);
                        if (d > dif) {
                            var t = dif / d;
                            var temp = new __WEBPACK_IMPORTED_MODULE_1__draw_point__["a" /* Point */]((1 - t) * prevPoint.x + t * curPoint.x, (1 - t) * prevPoint.y + t * curPoint.y);
                            if (round)
                                temp = this.roundPoint(temp);
                            if (temp.x != prevPoint.x || temp.y != prevPoint.y)
                                pTemps.push(temp);
                            else
                                break;
                            prevPoint = temp;
                        }
                        else
                            break;
                    }
                }
                pTemps.push(curPoint);
            }
        }
        return pTemps;
    };
    HMath.circleToPolygon = function (centerPoint, radius) {
        var points = [];
        for (var i = -180; i < 180; i += 1) {
            var point = new __WEBPACK_IMPORTED_MODULE_1__draw_point__["a" /* Point */](centerPoint.x + radius * Math.cos(i * Math.PI / 180.0), centerPoint.y + radius * Math.sin(i * Math.PI / 180.0));
            points.push(point);
        }
        return new __WEBPACK_IMPORTED_MODULE_0__draw_polygon__["a" /* Polygon */](points);
    };
    HMath.rectToPolygon = function (rect) {
        var points = [];
        points.push(new __WEBPACK_IMPORTED_MODULE_1__draw_point__["a" /* Point */](rect.x, rect.y));
        points.push(new __WEBPACK_IMPORTED_MODULE_1__draw_point__["a" /* Point */](rect.x, rect.y + rect.height));
        points.push(new __WEBPACK_IMPORTED_MODULE_1__draw_point__["a" /* Point */](rect.x + rect.width, rect.y + rect.height));
        points.push(new __WEBPACK_IMPORTED_MODULE_1__draw_point__["a" /* Point */](rect.x + rect.width, rect.y));
        return new __WEBPACK_IMPORTED_MODULE_0__draw_polygon__["a" /* Polygon */](points);
    };
    HMath.rect2DToPolygon = function (rect) {
        var points = [];
        points.push(rect.leftTop);
        points.push(rect.leftBottom);
        points.push(rect.rightBottom);
        points.push(rect.rightTop);
        return new __WEBPACK_IMPORTED_MODULE_0__draw_polygon__["a" /* Polygon */](points);
    };
    return HMath;
}());



/***/ }),

/***/ "../../../../../src/app/lib/image.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return HImage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__eventEmitter__ = __webpack_require__("../../../../../src/app/lib/eventEmitter.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

/**
 * an image with a RGBA  pixel layout,
 * top to bottom, left to right
 */
var HImage = /** @class */ (function (_super) {
    __extends(HImage, _super);
    /**
     *
     * @param width width of image in pixels
     * @param height height of image in pixels
     * @param pixels data of pixels as RGBA
     *
     * remarks pixel array does not copy buffer, only copies reference
     */
    function HImage(width, height, pixels, bytePerPixel) {
        if (pixels === void 0) { pixels = undefined; }
        if (bytePerPixel === void 0) { bytePerPixel = 4; }
        var _this = _super.call(this) || this;
        //check width or height
        _this._height = height;
        _this._width = width;
        _this._bytePerPixel = bytePerPixel;
        if (pixels) {
            //check if pixels count is equal to buffer count
            _this._pixels = pixels;
        }
        else {
            _this._pixels = new Uint8ClampedArray(width * height * bytePerPixel);
            _this._pixels.fill(255);
        }
        _this.Pixels = _this._pixels;
        _this.PixelsView = new DataView(_this._pixels.buffer, 0);
        return _this;
    }
    Object.defineProperty(HImage.prototype, "width", {
        /**
         * @returns width of image in pixels
         */
        get: function () {
            return this._width;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(HImage.prototype, "height", {
        /**
         * @returns height of image in pixels
         */
        get: function () {
            return this._height;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(HImage.prototype, "bytePerPixel", {
        get: function () {
            return this._bytePerPixel;
        },
        enumerable: true,
        configurable: true
    });
    HImage.prototype.processMutable = function (algorithm) {
        return algorithm.process(this);
    };
    HImage.prototype.processImmutable = function (algorithm) {
        return algorithm.process(this);
    };
    return HImage;
}(__WEBPACK_IMPORTED_MODULE_0__eventEmitter__["a" /* HEventEmitter */]));



/***/ }),

/***/ "../../../../../src/app/lib/imagealgorithm/colorConversion.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ColorConversion; });
var ColorConversion = /** @class */ (function () {
    function ColorConversion() {
    }
    /**
 * Converts an RGB color value to HSL. Conversion formula
 * adapted from http://en.wikipedia.org/wiki/HSL_color_space.
 * Assumes r, g, and b are contained in the set [0, 255] and
 * returns h, s, and l in the set [0, 1].
 *
 * @param   Number  r       The red color value
 * @param   Number  g       The green color value
 * @param   Number  b       The blue color value
 * @return  Array           The HSL representation
 */
    ColorConversion.rgbToHsl = function (r, g, b) {
        r /= 255, g /= 255, b /= 255;
        var max = Math.max(r, g, b), min = Math.min(r, g, b);
        var h, s, l = (max + min) / 2;
        if (max == min) {
            h = s = 0; // achromatic
        }
        else {
            var d = max - min;
            s = l > 0.5 ? d / (2 - max - min) : d / (max + min);
            switch (max) {
                case r:
                    h = (g - b) / d + (g < b ? 6 : 0);
                    break;
                case g:
                    h = (b - r) / d + 2;
                    break;
                case b:
                    h = (r - g) / d + 4;
                    break;
            }
            h /= 6;
        }
        return [h, s, l];
    };
    /**
     * Converts an HSL color value to RGB. Conversion formula
     * adapted from http://en.wikipedia.org/wiki/HSL_color_space.
     * Assumes h, s, and l are contained in the set [0, 1] and
     * returns r, g, and b in the set [0, 255].
     *
     * @param   Number  h       The hue
     * @param   Number  s       The saturation
     * @param   Number  l       The lightness
     * @return  Array           The RGB representation
     */
    ColorConversion.hslToRgb = function (h, s, l) {
        var r, g, b;
        if (s == 0) {
            r = g = b = l; // achromatic
        }
        else {
            var q = l < 0.5 ? l * (1 + s) : l + s - l * s;
            var p = 2 * l - q;
            r = this.hue2rgb(p, q, h + 1 / 3);
            g = this.hue2rgb(p, q, h);
            b = this.hue2rgb(p, q, h - 1 / 3);
        }
        return [r * 255, g * 255, b * 255];
    };
    ColorConversion.hue2rgb = function (p, q, t) {
        if (t < 0)
            t += 1;
        if (t > 1)
            t -= 1;
        if (t < 1 / 6)
            return p + (q - p) * 6 * t;
        if (t < 1 / 2)
            return q;
        if (t < 2 / 3)
            return p + (q - p) * (2 / 3 - t) * 6;
        return p;
    };
    /**
     * Converts an RGB color value to HSV. Conversion formula
     * adapted from http://en.wikipedia.org/wiki/HSV_color_space.
     * Assumes r, g, and b are contained in the set [0, 255] and
     * returns h, s, and v in the set [0, 1].
     *
     * @param   Number  r       The red color value
     * @param   Number  g       The green color value
     * @param   Number  b       The blue color value
     * @return  Array           The HSV representation
     */
    ColorConversion.rgbToHsv = function (r, g, b) {
        r /= 255, g /= 255, b /= 255;
        var max = Math.max(r, g, b), min = Math.min(r, g, b);
        var h, s, v = max;
        var d = max - min;
        s = max == 0 ? 0 : d / max;
        if (max == min) {
            h = 0; // achromatic
        }
        else {
            switch (max) {
                case r:
                    h = (g - b) / d + (g < b ? 6 : 0);
                    break;
                case g:
                    h = (b - r) / d + 2;
                    break;
                case b:
                    h = (r - g) / d + 4;
                    break;
            }
            h /= 6;
        }
        return [h, s, v];
    };
    /**
     * Converts an HSV color value to RGB. Conversion formula
     * adapted from http://en.wikipedia.org/wiki/HSV_color_space.
     * Assumes h, s, and v are contained in the set [0, 1] and
     * returns r, g, and b in the set [0, 255].
     *
     * @param   Number  h       The hue
     * @param   Number  s       The saturation
     * @param   Number  v       The value
     * @return  Array           The RGB representation
     */
    ColorConversion.hsvToRgb = function (h, s, v) {
        var r, g, b;
        var i = Math.floor(h * 6);
        var f = h * 6 - i;
        var p = v * (1 - s);
        var q = v * (1 - f * s);
        var t = v * (1 - (1 - f) * s);
        switch (i % 6) {
            case 0:
                r = v, g = t, b = p;
                break;
            case 1:
                r = q, g = v, b = p;
                break;
            case 2:
                r = p, g = v, b = t;
                break;
            case 3:
                r = p, g = q, b = v;
                break;
            case 4:
                r = t, g = p, b = v;
                break;
            case 5:
                r = v, g = p, b = q;
                break;
        }
        return [r * 255, g * 255, b * 255];
    };
    ColorConversion.rgbToXYZ = function (r, g, b) {
        var _R = (r / 255);
        var _G = (g / 255);
        var _B = (b / 255);
        if (_R > 0.04045)
            _R = Math.pow(((_R + 0.055) / 1.055), 2.4);
        else
            _R = _R / 12.92;
        if (_G > 0.04045)
            _G = Math.pow(((_G + 0.055) / 1.055), 2.4);
        else
            _G = _G / 12.92;
        if (_B > 0.04045)
            _B = Math.pow(((_B + 0.055) / 1.055), 2.4);
        else
            _B = _B / 12.92;
        _R = _R * 100;
        _G = _G * 100;
        _B = _B * 100;
        var X = _R * 0.4124 + _G * 0.3576 + _B * 0.1805;
        var Y = _R * 0.2126 + _G * 0.7152 + _B * 0.0722;
        var Z = _R * 0.0193 + _G * 0.1192 + _B * 0.9505;
        /*  let m00=0.412453;
         let m01=0.357580;
         let m02=0.180423;
         let m10=0.212671;
         let m11= 0.715160;
         let m12=0.072169;
         let m20=0.019334;
         let m21=0.119193;
         let m22=0.950227;
         let X=m00*_r+m01*g+m02*b;
         let Y=m10*r+m11*g+m12*b;
         let Z=m20*r+m21*g+m22*b; */
        return [X, Y, Z];
    };
    ColorConversion.XYZToLab = function (X, Y, Z) {
        var ReferenceX = 95.047;
        var ReferenceY = 100.000;
        var ReferenceZ = 108.883;
        var _X = X / ReferenceX;
        var _Y = Y / ReferenceY;
        var _Z = Z / ReferenceZ;
        if (_X > 0.008856)
            _X = Math.pow(_X, (1 / 3));
        else
            _X = (7.787 * _X) + (16 / 116);
        if (_Y > 0.008856)
            _Y = Math.pow(_Y, (1 / 3));
        else
            _Y = (7.787 * _Y) + (16 / 116);
        if (_Z > 0.008856)
            _Z = Math.pow(_Z, (1 / 3));
        else
            _Z = (7.787 * _Z) + (16 / 116);
        var CIEL = (116 * _Y) - 16;
        var CIEa = 500 * (_X - _Y);
        var CIEb = 200 * (_Y - _Z);
        return [CIEL, CIEa, CIEb];
    };
    ColorConversion.LabToLCH = function (L, a, b) {
        var _H = Math.atan2(b, a); //Quadrant by signs
        if (_H > 0)
            _H = (_H / Math.PI) * 180;
        else
            _H = 360 - (Math.abs(_H) / Math.PI) * 180;
        var C = Math.sqrt(Math.pow(a, 2) + Math.pow(b, 2));
        var H = _H;
        return [L, C, H];
        /*let C=Math.sqrt(a*a+b*b);
        let H=0;
        let temp=Math.atan2(b,a);
        if(temp>=0)
        H=temp;
        else H=temp+360;
        return [L,C,H];*/
    };
    return ColorConversion;
}());



/***/ }),

/***/ "../../../../../src/app/lib/imagealgorithm/convolution/imageAlgorithmBlur.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ImageAlgorithmBlur3x3; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return ImageAlgorithmBlur5x5; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return ImageAlgorithmBlurGaussian3x3; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "d", function() { return ImageAlgorithmBlurGaussian5x5; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "e", function() { return ImageAlgorithmBlurGaussian7x7; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "f", function() { return ImageAlgorithmBlurMotion; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "g", function() { return ImageAlgorithmBlurMotionLeftToRight; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "h", function() { return ImageAlgorithmBlurMotionRightToLeft; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__imageAlgorithmConvolution__ = __webpack_require__("../../../../../src/app/lib/imagealgorithm/convolution/imageAlgorithmConvolution.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var ImageAlgorithmBlur3x3 = /** @class */ (function (_super) {
    __extends(ImageAlgorithmBlur3x3, _super);
    /**
     *
     */
    function ImageAlgorithmBlur3x3() {
        return _super.call(this, "Blur 3x3", new __WEBPACK_IMPORTED_MODULE_0__imageAlgorithmConvolution__["a" /* ConvolutionMatrix */](1, 0, [
            [0.0, 0.2, 0.0],
            [0.2, 0.2, 0.2],
            [0.0, 0.2, 0.2]
        ])) || this;
    }
    return ImageAlgorithmBlur3x3;
}(__WEBPACK_IMPORTED_MODULE_0__imageAlgorithmConvolution__["b" /* ImageAlgorithmConvolution */]));

var ImageAlgorithmBlur5x5 = /** @class */ (function (_super) {
    __extends(ImageAlgorithmBlur5x5, _super);
    /**
     *
     */
    function ImageAlgorithmBlur5x5() {
        return _super.call(this, "Blur 5x5", new __WEBPACK_IMPORTED_MODULE_0__imageAlgorithmConvolution__["a" /* ConvolutionMatrix */](1 / 13, 0, [
            [0, 0, 1, 0, 0],
            [0, 1, 1, 1, 0],
            [1, 1, 1, 1, 1],
            [0, 1, 1, 1, 0],
            [0, 0, 1, 0, 0]
        ])) || this;
    }
    return ImageAlgorithmBlur5x5;
}(__WEBPACK_IMPORTED_MODULE_0__imageAlgorithmConvolution__["b" /* ImageAlgorithmConvolution */]));

var ImageAlgorithmBlurGaussian3x3 = /** @class */ (function (_super) {
    __extends(ImageAlgorithmBlurGaussian3x3, _super);
    /**
     *
     */
    function ImageAlgorithmBlurGaussian3x3() {
        return _super.call(this, "Blur Gaussian 3x3", new __WEBPACK_IMPORTED_MODULE_0__imageAlgorithmConvolution__["a" /* ConvolutionMatrix */](1 / 16, 0, [
            [1, 2, 1],
            [2, 4, 2],
            [1, 2, 1]
        ])) || this;
    }
    return ImageAlgorithmBlurGaussian3x3;
}(__WEBPACK_IMPORTED_MODULE_0__imageAlgorithmConvolution__["b" /* ImageAlgorithmConvolution */]));

var ImageAlgorithmBlurGaussian5x5 = /** @class */ (function (_super) {
    __extends(ImageAlgorithmBlurGaussian5x5, _super);
    /**
     *
     */
    function ImageAlgorithmBlurGaussian5x5() {
        return _super.call(this, "Blur Gaussian 5x5", new __WEBPACK_IMPORTED_MODULE_0__imageAlgorithmConvolution__["a" /* ConvolutionMatrix */](1 / 159, 0, [
            [2, 4, 5, 4, 2],
            [4, 9, 12, 9, 4],
            [5, 12, 15, 12, 5],
            [4, 9, 12, 9, 4],
            [2, 4, 5, 4, 2],
        ])) || this;
    }
    return ImageAlgorithmBlurGaussian5x5;
}(__WEBPACK_IMPORTED_MODULE_0__imageAlgorithmConvolution__["b" /* ImageAlgorithmConvolution */]));

var ImageAlgorithmBlurGaussian7x7 = /** @class */ (function (_super) {
    __extends(ImageAlgorithmBlurGaussian7x7, _super);
    /**
     *
     */
    function ImageAlgorithmBlurGaussian7x7() {
        return _super.call(this, "Blur Gaussian 7x7", new __WEBPACK_IMPORTED_MODULE_0__imageAlgorithmConvolution__["a" /* ConvolutionMatrix */](1 / 136, 0, [
            [1, 1, 2, 2, 2, 1, 1,],
            [1, 2, 2, 4, 2, 2, 1,],
            [2, 2, 4, 8, 4, 2, 2,],
            [2, 4, 8, 16, 8, 4, 2,],
            [2, 2, 4, 8, 4, 2, 2,],
            [1, 2, 2, 4, 2, 2, 1,],
            [1, 1, 2, 2, 2, 1, 1,],
        ])) || this;
    }
    return ImageAlgorithmBlurGaussian7x7;
}(__WEBPACK_IMPORTED_MODULE_0__imageAlgorithmConvolution__["b" /* ImageAlgorithmConvolution */]));

var ImageAlgorithmBlurMotion = /** @class */ (function (_super) {
    __extends(ImageAlgorithmBlurMotion, _super);
    /**
     *
     */
    function ImageAlgorithmBlurMotion() {
        return _super.call(this, "Blur Motion", new __WEBPACK_IMPORTED_MODULE_0__imageAlgorithmConvolution__["a" /* ConvolutionMatrix */](1 / 18, 0, [
            [1, 0, 0, 0, 0, 0, 0, 0, 1],
            [0, 1, 0, 0, 0, 0, 0, 1, 0],
            [0, 0, 1, 0, 0, 0, 1, 0, 0],
            [0, 0, 0, 1, 0, 1, 0, 0, 0],
            [0, 0, 0, 0, 1, 0, 0, 0, 0],
            [0, 0, 0, 1, 0, 1, 0, 0, 0],
            [0, 0, 1, 0, 0, 0, 1, 0, 0],
            [0, 1, 0, 0, 0, 0, 0, 1, 0],
            [1, 0, 0, 0, 0, 0, 0, 0, 1],
        ])) || this;
    }
    return ImageAlgorithmBlurMotion;
}(__WEBPACK_IMPORTED_MODULE_0__imageAlgorithmConvolution__["b" /* ImageAlgorithmConvolution */]));

var ImageAlgorithmBlurMotionLeftToRight = /** @class */ (function (_super) {
    __extends(ImageAlgorithmBlurMotionLeftToRight, _super);
    /**
     *
     */
    function ImageAlgorithmBlurMotionLeftToRight() {
        return _super.call(this, "Blur Motion Left To Right", new __WEBPACK_IMPORTED_MODULE_0__imageAlgorithmConvolution__["a" /* ConvolutionMatrix */](1 / 9, 0, [
            [1, 0, 0, 0, 0, 0, 0, 0, 0],
            [0, 1, 0, 0, 0, 0, 0, 0, 0],
            [0, 0, 1, 0, 0, 0, 0, 0, 0],
            [0, 0, 0, 1, 0, 0, 0, 0, 0],
            [0, 0, 0, 0, 1, 0, 0, 0, 0],
            [0, 0, 0, 0, 0, 1, 0, 0, 0],
            [0, 0, 0, 0, 0, 0, 1, 0, 0],
            [0, 0, 0, 0, 0, 0, 0, 1, 0],
            [0, 0, 0, 0, 0, 0, 0, 0, 1],
        ])) || this;
    }
    return ImageAlgorithmBlurMotionLeftToRight;
}(__WEBPACK_IMPORTED_MODULE_0__imageAlgorithmConvolution__["b" /* ImageAlgorithmConvolution */]));

var ImageAlgorithmBlurMotionRightToLeft = /** @class */ (function (_super) {
    __extends(ImageAlgorithmBlurMotionRightToLeft, _super);
    /**
     *
     */
    function ImageAlgorithmBlurMotionRightToLeft() {
        return _super.call(this, "Blur Motion Right To Left", new __WEBPACK_IMPORTED_MODULE_0__imageAlgorithmConvolution__["a" /* ConvolutionMatrix */](1 / 9, 0, [
            [0, 0, 0, 0, 0, 0, 0, 0, 1],
            [0, 0, 0, 0, 0, 0, 0, 1, 0],
            [0, 0, 0, 0, 0, 0, 1, 0, 0],
            [0, 0, 0, 0, 0, 1, 0, 0, 0],
            [0, 0, 0, 0, 1, 0, 0, 0, 0],
            [0, 0, 0, 1, 0, 0, 0, 0, 0],
            [0, 0, 1, 0, 0, 0, 0, 0, 0],
            [0, 1, 0, 0, 0, 0, 0, 0, 0],
            [1, 0, 0, 0, 0, 0, 0, 0, 0],
        ])) || this;
    }
    return ImageAlgorithmBlurMotionRightToLeft;
}(__WEBPACK_IMPORTED_MODULE_0__imageAlgorithmConvolution__["b" /* ImageAlgorithmConvolution */]));



/***/ }),

/***/ "../../../../../src/app/lib/imagealgorithm/convolution/imageAlgorithmConvolution.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ConvolutionMatrix; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return ImageAlgorithmConvolution; });
/* unused harmony export ImageAlgorithmConvolutionGeneric */
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__image__ = __webpack_require__("../../../../../src/app/lib/image.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var ConvolutionMatrix = /** @class */ (function () {
    /**
     *
     */
    function ConvolutionMatrix(factor, bias, matrix) {
        this._factor = factor;
        this._bias = bias;
        this._matrix = matrix;
        this._height = matrix.length;
        this._width = matrix[0].length;
    }
    Object.defineProperty(ConvolutionMatrix.prototype, "factor", {
        get: function () { return this._factor; },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ConvolutionMatrix.prototype, "bias", {
        get: function () { return this._bias; },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ConvolutionMatrix.prototype, "width", {
        get: function () { return this._width; },
        enumerable: true,
        configurable: true
    });
    ;
    Object.defineProperty(ConvolutionMatrix.prototype, "height", {
        get: function () { return this._height; },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ConvolutionMatrix.prototype, "matrix", {
        get: function () { return this._matrix; },
        enumerable: true,
        configurable: true
    });
    ;
    return ConvolutionMatrix;
}());

var ImageAlgorithmConvolution = /** @class */ (function () {
    /**
     *
     */
    function ImageAlgorithmConvolution(name, convolution) {
        this.convolution = convolution;
        this._name = name;
    }
    Object.defineProperty(ImageAlgorithmConvolution.prototype, "name", {
        get: function () { return this._name; },
        enumerable: true,
        configurable: true
    });
    ;
    ImageAlgorithmConvolution.prototype.process = function (img) {
        var preparedImage = this.prepareImage(img);
        var pixels = new Uint8ClampedArray(preparedImage.Pixels);
        var imgTemp = new __WEBPACK_IMPORTED_MODULE_0__image__["a" /* HImage */](preparedImage.width, preparedImage.height, pixels, preparedImage.bytePerPixel);
        var filterWidth = this.convolution.width;
        var filterHeight = this.convolution.height;
        var filterOffset = ((filterWidth - 1) / 2).extToInt32();
        var calcOffset = 0;
        var byteOffset = 0;
        for (var offsetY = filterOffset; offsetY < preparedImage.height - filterOffset; ++offsetY)
            for (var offsetX = filterOffset; offsetX < preparedImage.width - filterOffset; ++offsetX) {
                var blue = 0, green = 0, red = 0;
                byteOffset = offsetY * preparedImage.width * preparedImage.bytePerPixel + offsetX * preparedImage.bytePerPixel;
                for (var filterY = -filterOffset; filterY <= filterOffset; ++filterY)
                    for (var filterX = -filterOffset; filterX <= filterOffset; ++filterX) {
                        calcOffset = (offsetY + filterY) * preparedImage.width * preparedImage.bytePerPixel + (offsetX + filterX) * preparedImage.bytePerPixel;
                        red += preparedImage.Pixels[calcOffset + 0] * this.convolution.matrix[filterY + filterOffset][filterX + filterOffset];
                        green += preparedImage.Pixels[calcOffset + 1] * this.convolution.matrix[filterY + filterOffset][filterX + filterOffset];
                        blue += preparedImage.Pixels[calcOffset + 2] * this.convolution.matrix[filterY + filterOffset][filterX + filterOffset];
                    }
                red = this.convolution.factor * red + this.convolution.bias;
                green = this.convolution.factor * green + this.convolution.bias;
                blue = this.convolution.factor * blue + this.convolution.bias;
                if (blue > 255)
                    blue = 255;
                if (blue < 0)
                    blue = 0;
                if (green > 255)
                    green = 255;
                if (green < 0)
                    green = 0;
                if (red > 255)
                    red = 255;
                if (red < 0)
                    red = 0;
                imgTemp.Pixels[byteOffset + 0] = red;
                imgTemp.Pixels[byteOffset + 1] = green;
                imgTemp.Pixels[byteOffset + 2] = blue;
            }
        return imgTemp;
    };
    ImageAlgorithmConvolution.prototype.prepareImage = function (img) {
        return img;
    };
    return ImageAlgorithmConvolution;
}());

var ImageAlgorithmConvolutionGeneric = /** @class */ (function (_super) {
    __extends(ImageAlgorithmConvolutionGeneric, _super);
    /**
     *
     */
    function ImageAlgorithmConvolutionGeneric(name, convolution) {
        return _super.call(this, name, convolution) || this;
    }
    return ImageAlgorithmConvolutionGeneric;
}(ImageAlgorithmConvolution));



/***/ }),

/***/ "../../../../../src/app/lib/imagealgorithm/convolution/imageAlgorithmConvolutionXY.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ImageAlgorithmConvolutionXY; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__image__ = __webpack_require__("../../../../../src/app/lib/image.ts");

var ImageAlgorithmConvolutionXY = /** @class */ (function () {
    /**
     *
     */
    function ImageAlgorithmConvolutionXY(name, isGrayscale, convolutionX, convolutionY) {
        this._isGrayscale = isGrayscale;
        this._name = name + (isGrayscale ? " Gray" : "");
        this._convolutionX = convolutionX;
        this._convolutionY = convolutionY;
    }
    Object.defineProperty(ImageAlgorithmConvolutionXY.prototype, "name", {
        get: function () { return this._name; },
        enumerable: true,
        configurable: true
    });
    ;
    ImageAlgorithmConvolutionXY.prototype.process = function (img) {
        var preparedImage = this.prepareImage(img);
        var pixels = new Uint8ClampedArray(preparedImage.Pixels);
        var imgTemp = new __WEBPACK_IMPORTED_MODULE_0__image__["a" /* HImage */](preparedImage.width, preparedImage.height, pixels, preparedImage.bytePerPixel);
        var filterWidth = this._convolutionX.width;
        var filterHeight = this._convolutionX.height;
        var filterOffset = ((filterWidth - 1) / 2).extToInt32();
        var calcOffset = 0;
        var byteOffset = 0;
        for (var offsetY = filterOffset; offsetY < preparedImage.height - filterOffset; ++offsetY)
            for (var offsetX = filterOffset; offsetX < preparedImage.width - filterOffset; ++offsetX) {
                var blueX = 0, greenX = 0, redX = 0;
                var blueY = 0, greenY = 0, redY = 0;
                byteOffset = offsetY * preparedImage.width * preparedImage.bytePerPixel + offsetX * preparedImage.bytePerPixel;
                for (var filterY = -filterOffset; filterY <= filterOffset; ++filterY)
                    for (var filterX = -filterOffset; filterX <= filterOffset; ++filterX) {
                        calcOffset = (offsetY + filterY) * preparedImage.width * preparedImage.bytePerPixel + (offsetX + filterX) * preparedImage.bytePerPixel;
                        redX += preparedImage.Pixels[calcOffset + 0] * this._convolutionX.matrix[filterY + filterOffset][filterX + filterOffset];
                        greenX += preparedImage.Pixels[calcOffset + 1] * this._convolutionX.matrix[filterY + filterOffset][filterX + filterOffset];
                        blueX += preparedImage.Pixels[calcOffset + 2] * this._convolutionX.matrix[filterY + filterOffset][filterX + filterOffset];
                        redY += preparedImage.Pixels[calcOffset + 0] * this._convolutionY.matrix[filterY + filterOffset][filterX + filterOffset];
                        greenY += preparedImage.Pixels[calcOffset + 1] * this._convolutionY.matrix[filterY + filterOffset][filterX + filterOffset];
                        blueY += preparedImage.Pixels[calcOffset + 2] * this._convolutionY.matrix[filterY + filterOffset][filterX + filterOffset];
                    }
                var red = Math.sqrt(redX * redX + redY * redY);
                var green = Math.sqrt(greenX * greenX + greenY * greenY);
                var blue = Math.sqrt(blueX * blueX + blueY * blueY);
                if (blue > 255)
                    blue = 255;
                if (blue < 0)
                    blue = 0;
                if (green > 255)
                    green = 255;
                if (green < 0)
                    green = 0;
                if (red > 255)
                    red = 255;
                if (red < 0)
                    red = 0;
                imgTemp.Pixels[byteOffset + 0] = red;
                imgTemp.Pixels[byteOffset + 1] = green;
                imgTemp.Pixels[byteOffset + 2] = blue;
            }
        return imgTemp;
    };
    ImageAlgorithmConvolutionXY.prototype.prepareImage = function (img) {
        if (this._isGrayscale)
            return this.grayscale(img);
        return img;
    };
    ImageAlgorithmConvolutionXY.prototype.grayscale = function (img) {
        var grayscale = new __WEBPACK_IMPORTED_MODULE_0__image__["a" /* HImage */](img.width, img.height);
        var start;
        for (var i = 0; i < img.Pixels.byteLength / 4; ++i) {
            start = i * 4;
            var val = img.Pixels[start + 0] * 0.11 + img.Pixels[start + 1] * 0.59 + img.Pixels[start + 2] * 0.3;
            grayscale.Pixels[start + 0] = val;
            grayscale.Pixels[start + 1] = val;
            grayscale.Pixels[start + 2] = val;
            grayscale.Pixels[start + 3] = img.Pixels[start + 3];
        }
        return grayscale;
    };
    return ImageAlgorithmConvolutionXY;
}());



/***/ }),

/***/ "../../../../../src/app/lib/imagealgorithm/convolution/imageAlgorithmEdgeDetection.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ImageAlgorithmEdgeDetection; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return ImageAlgorithmEdgeDetection45Degree; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return ImageAlgorithmEdgeDetectionHorizontal; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "d", function() { return ImageAlgorithmEdgeDetectionTopLeftBottomRight; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "e", function() { return ImageAlgorithmEdgeDetectionVertical; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__imageAlgorithmConvolution__ = __webpack_require__("../../../../../src/app/lib/imagealgorithm/convolution/imageAlgorithmConvolution.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var ImageAlgorithmEdgeDetection = /** @class */ (function (_super) {
    __extends(ImageAlgorithmEdgeDetection, _super);
    /**
     *
     */
    function ImageAlgorithmEdgeDetection() {
        return _super.call(this, "Edge 3x3", new __WEBPACK_IMPORTED_MODULE_0__imageAlgorithmConvolution__["a" /* ConvolutionMatrix */](1, 0, [
            [-1, -1, -1],
            [-1, 8, -1],
            [-1, -1, -1],
        ])) || this;
    }
    return ImageAlgorithmEdgeDetection;
}(__WEBPACK_IMPORTED_MODULE_0__imageAlgorithmConvolution__["b" /* ImageAlgorithmConvolution */]));

var ImageAlgorithmEdgeDetection45Degree = /** @class */ (function (_super) {
    __extends(ImageAlgorithmEdgeDetection45Degree, _super);
    /**
     *
     */
    function ImageAlgorithmEdgeDetection45Degree() {
        return _super.call(this, "45 Degree", new __WEBPACK_IMPORTED_MODULE_0__imageAlgorithmConvolution__["a" /* ConvolutionMatrix */](1, 0, [
            [-1, 0, 0, 0, 0],
            [0, -2, 0, 0, 0],
            [0, 0, 6, 0, 0],
            [0, 0, 0, -2, 0],
            [0, 0, 0, 0, -1],
        ])) || this;
    }
    return ImageAlgorithmEdgeDetection45Degree;
}(__WEBPACK_IMPORTED_MODULE_0__imageAlgorithmConvolution__["b" /* ImageAlgorithmConvolution */]));

var ImageAlgorithmEdgeDetectionHorizontal = /** @class */ (function (_super) {
    __extends(ImageAlgorithmEdgeDetectionHorizontal, _super);
    /**
     *
     */
    function ImageAlgorithmEdgeDetectionHorizontal() {
        return _super.call(this, "Edge Horizontal", new __WEBPACK_IMPORTED_MODULE_0__imageAlgorithmConvolution__["a" /* ConvolutionMatrix */](1, 0, [
            [0, 0, 0, 0, 0],
            [0, 0, 0, 0, 0],
            [-1, -1, 2, 0, 0],
            [0, 0, 0, 0, 0],
            [0, 0, 0, 0, 0],
        ])) || this;
    }
    return ImageAlgorithmEdgeDetectionHorizontal;
}(__WEBPACK_IMPORTED_MODULE_0__imageAlgorithmConvolution__["b" /* ImageAlgorithmConvolution */]));

var ImageAlgorithmEdgeDetectionTopLeftBottomRight = /** @class */ (function (_super) {
    __extends(ImageAlgorithmEdgeDetectionTopLeftBottomRight, _super);
    /**
     *
     */
    function ImageAlgorithmEdgeDetectionTopLeftBottomRight() {
        return _super.call(this, "Edge TopLeft", new __WEBPACK_IMPORTED_MODULE_0__imageAlgorithmConvolution__["a" /* ConvolutionMatrix */](1, 0, [
            [-5, 0, 0],
            [0, 0, 0],
            [0, 0, 5],
        ])) || this;
    }
    return ImageAlgorithmEdgeDetectionTopLeftBottomRight;
}(__WEBPACK_IMPORTED_MODULE_0__imageAlgorithmConvolution__["b" /* ImageAlgorithmConvolution */]));

var ImageAlgorithmEdgeDetectionVertical = /** @class */ (function (_super) {
    __extends(ImageAlgorithmEdgeDetectionVertical, _super);
    /**
     *
     */
    function ImageAlgorithmEdgeDetectionVertical() {
        return _super.call(this, "Edge Vertical", new __WEBPACK_IMPORTED_MODULE_0__imageAlgorithmConvolution__["a" /* ConvolutionMatrix */](1, 0, [
            [0, 0, -1, 0, 0],
            [0, 0, -1, 0, 0],
            [0, 0, 4, 0, 0],
            [0, 0, -1, 0, 0],
            [0, 0, -1, 0, 0],
        ])) || this;
    }
    return ImageAlgorithmEdgeDetectionVertical;
}(__WEBPACK_IMPORTED_MODULE_0__imageAlgorithmConvolution__["b" /* ImageAlgorithmConvolution */]));



/***/ }),

/***/ "../../../../../src/app/lib/imagealgorithm/convolution/imageAlgorithmEdgeDetectionLaplace.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export ImageAlgorithmEdgeDetectionLaplace */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ImageAlgorithmEdgeDetectionLaplace3x3; });
/* unused harmony export ImageAlgorithmEdgeDetectionLaplace5x5_2 */
/* unused harmony export ImageAlgorithmEdgeDetectionLaplace5x5_3 */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return ImageAlgorithmEdgeDetectionLaplace5x5; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return ImageAlgorithmEdgeDetectionLaplaceGaussian; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__image__ = __webpack_require__("../../../../../src/app/lib/image.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__imageAlgorithmConvolution__ = __webpack_require__("../../../../../src/app/lib/imagealgorithm/convolution/imageAlgorithmConvolution.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();


var ImageAlgorithmEdgeDetectionLaplace = /** @class */ (function (_super) {
    __extends(ImageAlgorithmEdgeDetectionLaplace, _super);
    function ImageAlgorithmEdgeDetectionLaplace(isGrayscale, name, matrix) {
        if (isGrayscale === void 0) { isGrayscale = true; }
        var _this = _super.call(this, name, matrix) || this;
        _this._isGrayscale = isGrayscale;
        return _this;
    }
    ImageAlgorithmEdgeDetectionLaplace.prototype.prepareImage = function (img) {
        if (this._isGrayscale)
            return this.grayscale(img);
        return img;
    };
    ImageAlgorithmEdgeDetectionLaplace.prototype.grayscale = function (img) {
        var grayscale = new __WEBPACK_IMPORTED_MODULE_0__image__["a" /* HImage */](img.width, img.height);
        var start;
        for (var i = 0; i < img.Pixels.byteLength / 4; ++i) {
            start = i * 4;
            var val = img.Pixels[start + 0] * 0.11 + img.Pixels[start + 1] * 0.59 + img.Pixels[start + 2] * 0.3;
            grayscale.Pixels[start + 0] = val;
            grayscale.Pixels[start + 1] = val;
            grayscale.Pixels[start + 2] = val;
            grayscale.Pixels[start + 3] = img.Pixels[start + 3];
        }
        return grayscale;
    };
    return ImageAlgorithmEdgeDetectionLaplace;
}(__WEBPACK_IMPORTED_MODULE_1__imageAlgorithmConvolution__["b" /* ImageAlgorithmConvolution */]));

var ImageAlgorithmEdgeDetectionLaplace3x3 = /** @class */ (function (_super) {
    __extends(ImageAlgorithmEdgeDetectionLaplace3x3, _super);
    function ImageAlgorithmEdgeDetectionLaplace3x3(isGrayscale) {
        if (isGrayscale === void 0) { isGrayscale = true; }
        return _super.call(this, isGrayscale, "Laplace 3x3 " + (isGrayscale ? "Gray" : ""), new __WEBPACK_IMPORTED_MODULE_1__imageAlgorithmConvolution__["a" /* ConvolutionMatrix */](1, 0, [
            [-1, -1, -1],
            [-1, 8, -1],
            [-1, -1, -1],
        ])) || this;
    }
    return ImageAlgorithmEdgeDetectionLaplace3x3;
}(ImageAlgorithmEdgeDetectionLaplace));

var ImageAlgorithmEdgeDetectionLaplace5x5_2 = /** @class */ (function (_super) {
    __extends(ImageAlgorithmEdgeDetectionLaplace5x5_2, _super);
    function ImageAlgorithmEdgeDetectionLaplace5x5_2(isGrayscale) {
        if (isGrayscale === void 0) { isGrayscale = true; }
        return _super.call(this, isGrayscale, "Laplace 5x5_2" + (isGrayscale ? " Gray" : ""), new __WEBPACK_IMPORTED_MODULE_1__imageAlgorithmConvolution__["a" /* ConvolutionMatrix */](1 / 159, 0, [
            [2, 4, 5, 4, 2],
            [4, 9, 12, 9, 4],
            [5, 12, 15, 12, 5],
            [4, 9, 12, 9, 4],
            [2, 4, 5, 4, 2],
        ])) || this;
    }
    return ImageAlgorithmEdgeDetectionLaplace5x5_2;
}(ImageAlgorithmEdgeDetectionLaplace));

var ImageAlgorithmEdgeDetectionLaplace5x5_3 = /** @class */ (function (_super) {
    __extends(ImageAlgorithmEdgeDetectionLaplace5x5_3, _super);
    function ImageAlgorithmEdgeDetectionLaplace5x5_3(isGrayscale) {
        if (isGrayscale === void 0) { isGrayscale = true; }
        return _super.call(this, isGrayscale, "Laplace 5x5_3" + (isGrayscale ? " Gray" : ""), new __WEBPACK_IMPORTED_MODULE_1__imageAlgorithmConvolution__["a" /* ConvolutionMatrix */](1 / 256, 0, [
            [1, 4, 6, 4, 1],
            [4, 16, 24, 16, 4],
            [6, 24, 36, 24, 6],
            [4, 16, 24, 16, 4],
            [1, 4, 6, 4, 1],
        ])) || this;
    }
    return ImageAlgorithmEdgeDetectionLaplace5x5_3;
}(ImageAlgorithmEdgeDetectionLaplace));

var ImageAlgorithmEdgeDetectionLaplace5x5 = /** @class */ (function (_super) {
    __extends(ImageAlgorithmEdgeDetectionLaplace5x5, _super);
    function ImageAlgorithmEdgeDetectionLaplace5x5(isGrayscale) {
        if (isGrayscale === void 0) { isGrayscale = true; }
        var _this = _super.call(this, isGrayscale, "Laplace 5x5 " + (isGrayscale ? "Gray" : ""), new __WEBPACK_IMPORTED_MODULE_1__imageAlgorithmConvolution__["a" /* ConvolutionMatrix */](1, 0, [
            [-1, -1, -1, -1, -1],
            [-1, -1, -1, -1, -1],
            [-1, -1, 24, -1, -1],
            [-1, -1, -1, -1, -1],
            [-1, -1, -1, -1, -1]
        ])) || this;
        _this._isGrayscale = isGrayscale;
        return _this;
    }
    return ImageAlgorithmEdgeDetectionLaplace5x5;
}(ImageAlgorithmEdgeDetectionLaplace));

var ImageAlgorithmEdgeDetectionLaplaceGaussian = /** @class */ (function (_super) {
    __extends(ImageAlgorithmEdgeDetectionLaplaceGaussian, _super);
    function ImageAlgorithmEdgeDetectionLaplaceGaussian(isGrayscale) {
        if (isGrayscale === void 0) { isGrayscale = true; }
        var _this = _super.call(this, isGrayscale, "Laplace Gaussian " + (isGrayscale ? "Gray" : ""), new __WEBPACK_IMPORTED_MODULE_1__imageAlgorithmConvolution__["a" /* ConvolutionMatrix */](1, 0, [
            [0, 0, -1, 0, 0],
            [0, -1, -2, -1, 0],
            [-1, -2, 16, -2, -1],
            [0, -1, -2, -1, 0],
            [0, 0, -1, 0, 0]
        ])) || this;
        _this._isGrayscale = isGrayscale;
        return _this;
    }
    return ImageAlgorithmEdgeDetectionLaplaceGaussian;
}(ImageAlgorithmEdgeDetectionLaplace));



/***/ }),

/***/ "../../../../../src/app/lib/imagealgorithm/convolution/imageAlgorithmEmboss.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ImageAlgorithmEmboss; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return ImageAlgorithmEmboss45Degree; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return ImageAlgorithmEmbossIntense; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "d", function() { return ImageAlgorithmEmbossTopLeftBottomRight; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__imageAlgorithmConvolution__ = __webpack_require__("../../../../../src/app/lib/imagealgorithm/convolution/imageAlgorithmConvolution.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var ImageAlgorithmEmboss = /** @class */ (function (_super) {
    __extends(ImageAlgorithmEmboss, _super);
    /**
     *
     */
    function ImageAlgorithmEmboss() {
        return _super.call(this, "Emboss", new __WEBPACK_IMPORTED_MODULE_0__imageAlgorithmConvolution__["a" /* ConvolutionMatrix */](1, 128, [
            [2, 0, 0],
            [0, -1, 0],
            [0, 0, -1],
        ])) || this;
    }
    return ImageAlgorithmEmboss;
}(__WEBPACK_IMPORTED_MODULE_0__imageAlgorithmConvolution__["b" /* ImageAlgorithmConvolution */]));

var ImageAlgorithmEmboss45Degree = /** @class */ (function (_super) {
    __extends(ImageAlgorithmEmboss45Degree, _super);
    /**
     *
     */
    function ImageAlgorithmEmboss45Degree() {
        return _super.call(this, "45 Degree", new __WEBPACK_IMPORTED_MODULE_0__imageAlgorithmConvolution__["a" /* ConvolutionMatrix */](1, 128, [
            [-1, -1, 0],
            [-1, 0, 1],
            [0, 1, 1],
        ])) || this;
    }
    return ImageAlgorithmEmboss45Degree;
}(__WEBPACK_IMPORTED_MODULE_0__imageAlgorithmConvolution__["b" /* ImageAlgorithmConvolution */]));

var ImageAlgorithmEmbossIntense = /** @class */ (function (_super) {
    __extends(ImageAlgorithmEmbossIntense, _super);
    /**
     *
     */
    function ImageAlgorithmEmbossIntense() {
        return _super.call(this, "Intense", new __WEBPACK_IMPORTED_MODULE_0__imageAlgorithmConvolution__["a" /* ConvolutionMatrix */](1, 128, [
            [-1, -1, -1, -1, 0],
            [-1, -1, -1, 0, 1],
            [-1, -1, 0, 1, 1],
            [-1, 0, 1, 1, 1],
            [0, 1, 1, 1, 1],
        ])) || this;
    }
    return ImageAlgorithmEmbossIntense;
}(__WEBPACK_IMPORTED_MODULE_0__imageAlgorithmConvolution__["b" /* ImageAlgorithmConvolution */]));

var ImageAlgorithmEmbossTopLeftBottomRight = /** @class */ (function (_super) {
    __extends(ImageAlgorithmEmbossTopLeftBottomRight, _super);
    /**
     *
     */
    function ImageAlgorithmEmbossTopLeftBottomRight() {
        return _super.call(this, "TopLeft BottomRight", new __WEBPACK_IMPORTED_MODULE_0__imageAlgorithmConvolution__["a" /* ConvolutionMatrix */](1, 128, [
            [-1, 0, 0],
            [0, 0, 0],
            [0, 0, 1],
        ])) || this;
    }
    return ImageAlgorithmEmbossTopLeftBottomRight;
}(__WEBPACK_IMPORTED_MODULE_0__imageAlgorithmConvolution__["b" /* ImageAlgorithmConvolution */]));



/***/ }),

/***/ "../../../../../src/app/lib/imagealgorithm/convolution/imageAlgorithmHighPass.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ImageAlgorithmHighPass3x3; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__imageAlgorithmConvolution__ = __webpack_require__("../../../../../src/app/lib/imagealgorithm/convolution/imageAlgorithmConvolution.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var ImageAlgorithmHighPass3x3 = /** @class */ (function (_super) {
    __extends(ImageAlgorithmHighPass3x3, _super);
    /**
     *
     */
    function ImageAlgorithmHighPass3x3() {
        return _super.call(this, "High pass 3x3", new __WEBPACK_IMPORTED_MODULE_0__imageAlgorithmConvolution__["a" /* ConvolutionMatrix */](1, 128, [
            [-1, -2, -1],
            [-2, 12, -2],
            [-1, -2, -1]
        ])) || this;
    }
    return ImageAlgorithmHighPass3x3;
}(__WEBPACK_IMPORTED_MODULE_0__imageAlgorithmConvolution__["b" /* ImageAlgorithmConvolution */]));



/***/ }),

/***/ "../../../../../src/app/lib/imagealgorithm/convolution/imageAlgorithmKrish.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ImageAlgorithmKrish; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__imageAlgorithmConvolution__ = __webpack_require__("../../../../../src/app/lib/imagealgorithm/convolution/imageAlgorithmConvolution.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__imageAlgorithmConvolutionXY__ = __webpack_require__("../../../../../src/app/lib/imagealgorithm/convolution/imageAlgorithmConvolutionXY.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();


var ImageAlgorithmKrish = /** @class */ (function (_super) {
    __extends(ImageAlgorithmKrish, _super);
    /**
     *
     */
    function ImageAlgorithmKrish(isGrayscale) {
        return _super.call(this, "Krish", isGrayscale, new __WEBPACK_IMPORTED_MODULE_0__imageAlgorithmConvolution__["a" /* ConvolutionMatrix */](1, 1, [
            [5, 5, 5],
            [-3, 0, -3],
            [-3, -3, -3],
        ]), new __WEBPACK_IMPORTED_MODULE_0__imageAlgorithmConvolution__["a" /* ConvolutionMatrix */](1, 1, [
            [5, -3, -3],
            [5, 0, -3],
            [5, -3, -3],
        ])) || this;
    }
    return ImageAlgorithmKrish;
}(__WEBPACK_IMPORTED_MODULE_1__imageAlgorithmConvolutionXY__["a" /* ImageAlgorithmConvolutionXY */]));



/***/ }),

/***/ "../../../../../src/app/lib/imagealgorithm/convolution/imageAlgorithmLowpass.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ImageAlgorithmLowpass3x3; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return ImageAlgorithmLowpass5x5; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__imageAlgorithmConvolution__ = __webpack_require__("../../../../../src/app/lib/imagealgorithm/convolution/imageAlgorithmConvolution.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var ImageAlgorithmLowpass3x3 = /** @class */ (function (_super) {
    __extends(ImageAlgorithmLowpass3x3, _super);
    /**
     *
     */
    function ImageAlgorithmLowpass3x3() {
        return _super.call(this, "Lowpass 3x3", new __WEBPACK_IMPORTED_MODULE_0__imageAlgorithmConvolution__["a" /* ConvolutionMatrix */](1 / 16, 0, [
            [1, 2, 1,],
            [2, 4, 2,],
            [1, 2, 1,],
        ])) || this;
    }
    return ImageAlgorithmLowpass3x3;
}(__WEBPACK_IMPORTED_MODULE_0__imageAlgorithmConvolution__["b" /* ImageAlgorithmConvolution */]));

var ImageAlgorithmLowpass5x5 = /** @class */ (function (_super) {
    __extends(ImageAlgorithmLowpass5x5, _super);
    /**
     *
     */
    function ImageAlgorithmLowpass5x5() {
        return _super.call(this, "Lowpass 5x5", new __WEBPACK_IMPORTED_MODULE_0__imageAlgorithmConvolution__["a" /* ConvolutionMatrix */](1 / 60, 0, [
            [1, 1, 1, 1, 1,],
            [1, 4, 4, 4, 1,],
            [1, 4, 12, 4, 1,],
            [1, 4, 4, 4, 1,],
            [1, 1, 1, 1, 1,],
        ])) || this;
    }
    return ImageAlgorithmLowpass5x5;
}(__WEBPACK_IMPORTED_MODULE_0__imageAlgorithmConvolution__["b" /* ImageAlgorithmConvolution */]));



/***/ }),

/***/ "../../../../../src/app/lib/imagealgorithm/convolution/imageAlgorithmMean.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ImageAlgorithmMean3x3; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return ImageAlgorithmMean5x5; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__imageAlgorithmConvolution__ = __webpack_require__("../../../../../src/app/lib/imagealgorithm/convolution/imageAlgorithmConvolution.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var ImageAlgorithmMean3x3 = /** @class */ (function (_super) {
    __extends(ImageAlgorithmMean3x3, _super);
    function ImageAlgorithmMean3x3() {
        return _super.call(this, "Mean 3x3", new __WEBPACK_IMPORTED_MODULE_0__imageAlgorithmConvolution__["a" /* ConvolutionMatrix */](1 / 9, 0, [
            [1, 1, 1],
            [1, 1, 1],
            [1, 1, 1],
        ])) || this;
    }
    return ImageAlgorithmMean3x3;
}(__WEBPACK_IMPORTED_MODULE_0__imageAlgorithmConvolution__["b" /* ImageAlgorithmConvolution */]));

var ImageAlgorithmMean5x5 = /** @class */ (function (_super) {
    __extends(ImageAlgorithmMean5x5, _super);
    function ImageAlgorithmMean5x5() {
        return _super.call(this, "Mean 5x5", new __WEBPACK_IMPORTED_MODULE_0__imageAlgorithmConvolution__["a" /* ConvolutionMatrix */](1 / 25, 0, [
            [1, 1, 1, 1, 1],
            [1, 1, 1, 1, 1],
            [1, 1, 1, 1, 1],
            [1, 1, 1, 1, 1],
            [1, 1, 1, 1, 1],
        ])) || this;
    }
    return ImageAlgorithmMean5x5;
}(__WEBPACK_IMPORTED_MODULE_0__imageAlgorithmConvolution__["b" /* ImageAlgorithmConvolution */]));



/***/ }),

/***/ "../../../../../src/app/lib/imagealgorithm/convolution/imageAlgorithmMedian.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export ImageAlgorithmMedian */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ImageAlgorithmMedian3x3; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return ImageAlgorithmMedian5x5; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return ImageAlgorithmMedian7x7; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "d", function() { return ImageAlgorithmMedian9x9; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__imageAlgorithmConvolution__ = __webpack_require__("../../../../../src/app/lib/imagealgorithm/convolution/imageAlgorithmConvolution.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__image__ = __webpack_require__("../../../../../src/app/lib/image.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();


var ImageAlgorithmMedian = /** @class */ (function () {
    function ImageAlgorithmMedian(name, matrix) {
        this._matrix = matrix;
        this._name = name;
    }
    Object.defineProperty(ImageAlgorithmMedian.prototype, "name", {
        get: function () {
            return this._name;
        },
        enumerable: true,
        configurable: true
    });
    ImageAlgorithmMedian.prototype.process = function (img) {
        var tempImage = new __WEBPACK_IMPORTED_MODULE_1__image__["a" /* HImage */](img.width, img.height, new Uint8ClampedArray(img.Pixels), img.bytePerPixel);
        var filterOffset = ((this._matrix.width - 1) / 2).extToInt32();
        var calcOffset = 0;
        var neighboursPixels = [];
        var middlePixel = [];
        var byteOffset = 0;
        for (var offsetY = filterOffset; offsetY < img.height - filterOffset; ++offsetY)
            for (var offsetX = filterOffset; offsetX < img.width - filterOffset; ++offsetX) {
                byteOffset = offsetY * img.width * img.bytePerPixel + offsetX * img.bytePerPixel;
                neighboursPixels = [];
                for (var filterY = -filterOffset; filterY <= filterOffset; ++filterY)
                    for (var filterX = -filterOffset; filterX <= filterOffset; ++filterX) {
                        calcOffset = (offsetY + filterY) * img.width * img.bytePerPixel + (offsetX + filterX) * img.bytePerPixel;
                        var red = img.Pixels[calcOffset] << 24;
                        var green = img.Pixels[calcOffset + 1] << 16;
                        var blue = img.Pixels[calcOffset + 2] << 8;
                        var alpha = img.Pixels[calcOffset + 3];
                        neighboursPixels.push(red | green | blue | alpha);
                    }
                neighboursPixels = neighboursPixels.sort();
                var r = neighboursPixels[filterOffset] >>> 24;
                var g = neighboursPixels[filterOffset] << 8 >>> 24;
                var b = neighboursPixels[filterOffset] << 16 >>> 24;
                var a = neighboursPixels[filterOffset] << 24 >>> 24;
                tempImage.Pixels[byteOffset] = r;
                tempImage.Pixels[byteOffset + 1] = g;
                tempImage.Pixels[byteOffset + 2] = b;
                tempImage.Pixels[byteOffset + 3] = a;
            }
        return tempImage;
    };
    return ImageAlgorithmMedian;
}());

var ImageAlgorithmMedian3x3 = /** @class */ (function (_super) {
    __extends(ImageAlgorithmMedian3x3, _super);
    function ImageAlgorithmMedian3x3() {
        return _super.call(this, "Median 3x3", new __WEBPACK_IMPORTED_MODULE_0__imageAlgorithmConvolution__["a" /* ConvolutionMatrix */](1, 0, [
            [1, 1, 1,],
            [1, 1, 1,],
            [1, 1, 1,]
        ])) || this;
    }
    return ImageAlgorithmMedian3x3;
}(ImageAlgorithmMedian));

var ImageAlgorithmMedian5x5 = /** @class */ (function (_super) {
    __extends(ImageAlgorithmMedian5x5, _super);
    function ImageAlgorithmMedian5x5() {
        return _super.call(this, "Median 5x5", new __WEBPACK_IMPORTED_MODULE_0__imageAlgorithmConvolution__["a" /* ConvolutionMatrix */](1, 0, [
            [1, 1, 1, 1, 1,],
            [1, 1, 1, 1, 1,],
            [1, 1, 1, 1, 1,],
            [1, 1, 1, 1, 1,],
            [1, 1, 1, 1, 1,],
        ])) || this;
    }
    return ImageAlgorithmMedian5x5;
}(ImageAlgorithmMedian));

var ImageAlgorithmMedian7x7 = /** @class */ (function (_super) {
    __extends(ImageAlgorithmMedian7x7, _super);
    function ImageAlgorithmMedian7x7() {
        return _super.call(this, "Median 7x7", new __WEBPACK_IMPORTED_MODULE_0__imageAlgorithmConvolution__["a" /* ConvolutionMatrix */](1, 0, [
            [1, 1, 1, 1, 1, 1, 1],
            [1, 1, 1, 1, 1, 1, 1],
            [1, 1, 1, 1, 1, 1, 1],
            [1, 1, 1, 1, 1, 1, 1],
            [1, 1, 1, 1, 1, 1, 1],
            [1, 1, 1, 1, 1, 1, 1],
            [1, 1, 1, 1, 1, 1, 1],
        ])) || this;
    }
    return ImageAlgorithmMedian7x7;
}(ImageAlgorithmMedian));

var ImageAlgorithmMedian9x9 = /** @class */ (function (_super) {
    __extends(ImageAlgorithmMedian9x9, _super);
    function ImageAlgorithmMedian9x9() {
        return _super.call(this, "Median 9x9", new __WEBPACK_IMPORTED_MODULE_0__imageAlgorithmConvolution__["a" /* ConvolutionMatrix */](1, 0, [
            [1, 1, 1, 1, 1, 1, 1, 1, 1],
            [1, 1, 1, 1, 1, 1, 1, 1, 1],
            [1, 1, 1, 1, 1, 1, 1, 1, 1],
            [1, 1, 1, 1, 1, 1, 1, 1, 1],
            [1, 1, 1, 1, 1, 1, 1, 1, 1],
            [1, 1, 1, 1, 1, 1, 1, 1, 1],
            [1, 1, 1, 1, 1, 1, 1, 1, 1],
            [1, 1, 1, 1, 1, 1, 1, 1, 1],
            [1, 1, 1, 1, 1, 1, 1, 1, 1]
        ])) || this;
    }
    return ImageAlgorithmMedian9x9;
}(ImageAlgorithmMedian));



/***/ }),

/***/ "../../../../../src/app/lib/imagealgorithm/convolution/imageAlgorithmPrewitt.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ImageAlgorithmPrewitt; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__imageAlgorithmConvolution__ = __webpack_require__("../../../../../src/app/lib/imagealgorithm/convolution/imageAlgorithmConvolution.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__imageAlgorithmConvolutionXY__ = __webpack_require__("../../../../../src/app/lib/imagealgorithm/convolution/imageAlgorithmConvolutionXY.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();


var ImageAlgorithmPrewitt = /** @class */ (function (_super) {
    __extends(ImageAlgorithmPrewitt, _super);
    /**
     *
     */
    function ImageAlgorithmPrewitt(isGrayscale) {
        return _super.call(this, "Prewitt", isGrayscale, new __WEBPACK_IMPORTED_MODULE_0__imageAlgorithmConvolution__["a" /* ConvolutionMatrix */](1, 1, [
            [-1, 0, 1],
            [-1, 0, 1],
            [-1, 0, 1],
        ]), new __WEBPACK_IMPORTED_MODULE_0__imageAlgorithmConvolution__["a" /* ConvolutionMatrix */](1, 1, [
            [1, 1, 1],
            [0, 0, 0],
            [-1, -1, -1],
        ])) || this;
    }
    return ImageAlgorithmPrewitt;
}(__WEBPACK_IMPORTED_MODULE_1__imageAlgorithmConvolutionXY__["a" /* ImageAlgorithmConvolutionXY */]));



/***/ }),

/***/ "../../../../../src/app/lib/imagealgorithm/convolution/imageAlgorithmSharpen.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ImageAlgorithmSharpen; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return ImageAlgorithmSharpen3x3; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return ImageAlgorithmSharpen3x3Factor; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "d", function() { return ImageAlgorithmSharpen5x5; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "e", function() { return ImageAlgorithmSharpenIntense; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__imageAlgorithmConvolution__ = __webpack_require__("../../../../../src/app/lib/imagealgorithm/convolution/imageAlgorithmConvolution.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var ImageAlgorithmSharpen = /** @class */ (function (_super) {
    __extends(ImageAlgorithmSharpen, _super);
    /**
     *
     */
    function ImageAlgorithmSharpen() {
        return _super.call(this, "Sharpen", new __WEBPACK_IMPORTED_MODULE_0__imageAlgorithmConvolution__["a" /* ConvolutionMatrix */](1, 0, [
            [-1, -1, -1],
            [-1, 9, -1],
            [-1, -1, -1],
        ])) || this;
    }
    return ImageAlgorithmSharpen;
}(__WEBPACK_IMPORTED_MODULE_0__imageAlgorithmConvolution__["b" /* ImageAlgorithmConvolution */]));

var ImageAlgorithmSharpen3x3 = /** @class */ (function (_super) {
    __extends(ImageAlgorithmSharpen3x3, _super);
    /**
     *
     */
    function ImageAlgorithmSharpen3x3() {
        return _super.call(this, "Sharpen 3x3", new __WEBPACK_IMPORTED_MODULE_0__imageAlgorithmConvolution__["a" /* ConvolutionMatrix */](1, 0, [
            [0, -1, 0],
            [-1, 5, -1],
            [0, -1, 0],
        ])) || this;
    }
    return ImageAlgorithmSharpen3x3;
}(__WEBPACK_IMPORTED_MODULE_0__imageAlgorithmConvolution__["b" /* ImageAlgorithmConvolution */]));

var ImageAlgorithmSharpen3x3Factor = /** @class */ (function (_super) {
    __extends(ImageAlgorithmSharpen3x3Factor, _super);
    /**
     *
     */
    function ImageAlgorithmSharpen3x3Factor() {
        return _super.call(this, "Sharpen Factor 3x3", new __WEBPACK_IMPORTED_MODULE_0__imageAlgorithmConvolution__["a" /* ConvolutionMatrix */](1 / 3, 0, [
            [0, -2, 0],
            [-2, 11, -2],
            [0, -2, 0],
        ])) || this;
    }
    return ImageAlgorithmSharpen3x3Factor;
}(__WEBPACK_IMPORTED_MODULE_0__imageAlgorithmConvolution__["b" /* ImageAlgorithmConvolution */]));

var ImageAlgorithmSharpen5x5 = /** @class */ (function (_super) {
    __extends(ImageAlgorithmSharpen5x5, _super);
    /**
     *
     */
    function ImageAlgorithmSharpen5x5() {
        return _super.call(this, "Sharpen 5x5", new __WEBPACK_IMPORTED_MODULE_0__imageAlgorithmConvolution__["a" /* ConvolutionMatrix */](1 / 8, 0, [
            [-1, -1, -1, -1, -1],
            [-1, 2, 2, 2, -1],
            [-1, 2, 8, 2, -1],
            [-1, 2, 2, 2, -1],
            [-1, -1, -1, -1, -1],
        ])) || this;
    }
    return ImageAlgorithmSharpen5x5;
}(__WEBPACK_IMPORTED_MODULE_0__imageAlgorithmConvolution__["b" /* ImageAlgorithmConvolution */]));

var ImageAlgorithmSharpenIntense = /** @class */ (function (_super) {
    __extends(ImageAlgorithmSharpenIntense, _super);
    /**
     *
     */
    function ImageAlgorithmSharpenIntense() {
        return _super.call(this, "Sharpen Intense", new __WEBPACK_IMPORTED_MODULE_0__imageAlgorithmConvolution__["a" /* ConvolutionMatrix */](1, 0, [
            [1, 1, 1,],
            [1, -7, 1,],
            [1, 1, 1,],
        ])) || this;
    }
    return ImageAlgorithmSharpenIntense;
}(__WEBPACK_IMPORTED_MODULE_0__imageAlgorithmConvolution__["b" /* ImageAlgorithmConvolution */]));



/***/ }),

/***/ "../../../../../src/app/lib/imagealgorithm/convolution/imageAlgorithmSobel.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ImageAlgorithmSobel; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__imageAlgorithmConvolution__ = __webpack_require__("../../../../../src/app/lib/imagealgorithm/convolution/imageAlgorithmConvolution.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__imageAlgorithmConvolutionXY__ = __webpack_require__("../../../../../src/app/lib/imagealgorithm/convolution/imageAlgorithmConvolutionXY.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();


var ImageAlgorithmSobel = /** @class */ (function (_super) {
    __extends(ImageAlgorithmSobel, _super);
    /**
     *
     */
    function ImageAlgorithmSobel(isGrayscale) {
        return _super.call(this, "Sobel", isGrayscale, new __WEBPACK_IMPORTED_MODULE_0__imageAlgorithmConvolution__["a" /* ConvolutionMatrix */](1, 1, [
            [-1, 0, 1],
            [-2, 0, 2],
            [-1, 0, 1],
        ]), new __WEBPACK_IMPORTED_MODULE_0__imageAlgorithmConvolution__["a" /* ConvolutionMatrix */](1, 1, [
            [1, 2, 1],
            [0, 0, 0],
            [-1, -2, -1],
        ])) || this;
    }
    return ImageAlgorithmSobel;
}(__WEBPACK_IMPORTED_MODULE_1__imageAlgorithmConvolutionXY__["a" /* ImageAlgorithmConvolutionXY */]));



/***/ }),

/***/ "../../../../../src/app/lib/imagealgorithm/convolution/imageAlgorithmSoften.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ImageAlgorithmSoften; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__imageAlgorithmConvolution__ = __webpack_require__("../../../../../src/app/lib/imagealgorithm/convolution/imageAlgorithmConvolution.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var ImageAlgorithmSoften = /** @class */ (function (_super) {
    __extends(ImageAlgorithmSoften, _super);
    /**
     *
     */
    function ImageAlgorithmSoften() {
        return _super.call(this, "Soften", new __WEBPACK_IMPORTED_MODULE_0__imageAlgorithmConvolution__["a" /* ConvolutionMatrix */](1 / 8, 0, [
            [1, 1, 1],
            [1, 1, 1],
            [1, 1, 1],
        ])) || this;
    }
    return ImageAlgorithmSoften;
}(__WEBPACK_IMPORTED_MODULE_0__imageAlgorithmConvolution__["b" /* ImageAlgorithmConvolution */]));



/***/ }),

/***/ "../../../../../src/app/lib/imagealgorithm/imageAlgorithmBrightness.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ImageAlgorithmBrightness; });
/**
* creates a  filtered image
*/
var ImageAlgorithmBrightness = /** @class */ (function () {
    function ImageAlgorithmBrightness(value) {
        this._brightness = value;
    }
    ImageAlgorithmBrightness.prototype.process = function (img) {
        var start;
        for (var i = 0; i < img.Pixels.byteLength / 4; ++i) {
            start = i * 4;
            img.Pixels[start + 0] = this.calc(img.Pixels[start + 0]);
            img.Pixels[start + 1] = this.calc(img.Pixels[start + 1]);
            img.Pixels[start + 2] = this.calc(img.Pixels[start + 2]);
        }
        return img;
    };
    ImageAlgorithmBrightness.prototype.calc = function (val) {
        var temp = val + this._brightness;
        if (temp < 0)
            return 0;
        if (temp > 255)
            return 255;
        return temp;
    };
    return ImageAlgorithmBrightness;
}());



/***/ }),

/***/ "../../../../../src/app/lib/imagealgorithm/imageAlgorithmClone.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ImageAlgorithmClone; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__image__ = __webpack_require__("../../../../../src/app/lib/image.ts");

/**
* creates a deep copy image
*/
var ImageAlgorithmClone = /** @class */ (function () {
    function ImageAlgorithmClone() {
    }
    ImageAlgorithmClone.prototype.process = function (img) {
        var arr = new Uint8ClampedArray(img.width * img.height * 4);
        arr.set(img.Pixels);
        return new __WEBPACK_IMPORTED_MODULE_0__image__["a" /* HImage */](img.width, img.height, arr, img.bytePerPixel);
    };
    return ImageAlgorithmClone;
}());



/***/ }),

/***/ "../../../../../src/app/lib/imagealgorithm/imageAlgorithmColorRemap.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ImageAlgorithmColorRemap; });
/**
* creates a  filtered image
*/
var ImageAlgorithmColorRemap = /** @class */ (function () {
    function ImageAlgorithmColorRemap(effect) {
        this._effect = effect;
    }
    ImageAlgorithmColorRemap.prototype.process = function (img) {
        var start;
        for (var i = 0; i < img.Pixels.byteLength / 4; ++i) {
            start = i * 4;
            img.Pixels[start + 0] = this._effect.r[img.Pixels[start + 0]];
            img.Pixels[start + 1] = this._effect.g[img.Pixels[start + 1]];
            img.Pixels[start + 2] = this._effect.b[img.Pixels[start + 2]];
        }
        /* for(let x=0;x<img.width;++x){
            start=y*img.width*4+x*4;
            end=start+4;
           let array= img.Pixels.slice(start,end);
           array[0] *=0.16666;
           array[1] *=0.5;
           array[2] *=0.833333;
           img.Pixels.set(array,start);
        }
     */
        return img;
    };
    return ImageAlgorithmColorRemap;
}());



/***/ }),

/***/ "../../../../../src/app/lib/imagealgorithm/imageAlgorithmContrast.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ImageAlgorithmContrast; });
/**
* creates a  filtered image
*/
var ImageAlgorithmContrast = /** @class */ (function () {
    function ImageAlgorithmContrast(contrast) {
        this._contrast = contrast;
        this._factor = (259 * (this._contrast + 255)) / (255 * (259 - this._contrast));
    }
    ImageAlgorithmContrast.prototype.process = function (img) {
        var start;
        for (var i = 0; i < img.Pixels.byteLength / 4; ++i) {
            start = i * 4;
            img.Pixels[start + 0] = this.calc(img.Pixels[start + 0]);
            img.Pixels[start + 1] = this.calc(img.Pixels[start + 1]);
            img.Pixels[start + 2] = this.calc(img.Pixels[start + 2]);
        }
        return img;
    };
    ImageAlgorithmContrast.prototype.calc = function (val) {
        var temp = this._factor * (val - 128) + 128;
        if (temp < 0)
            return 0;
        if (temp > 255)
            return 255;
        return temp;
    };
    return ImageAlgorithmContrast;
}());



/***/ }),

/***/ "../../../../../src/app/lib/imagealgorithm/imageAlgorithmCrop.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ImageAlgorithmCrop; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__draw_rectInt__ = __webpack_require__("../../../../../src/app/lib/draw/rectInt.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__image__ = __webpack_require__("../../../../../src/app/lib/image.ts");


/**
 * crops a @see HImage with a @see Rect
*/
var ImageAlgorithmCrop = /** @class */ (function () {
    /**
     *@param rect source rectangle for crop
     */
    function ImageAlgorithmCrop(rect) {
        this.rect = new __WEBPACK_IMPORTED_MODULE_0__draw_rectInt__["a" /* RectInt */](rect.x, rect.y, rect.width, rect.height);
        if (this.rect.x < 0) {
            this.rect.width += this.rect.x;
            this.rect.x = 0;
        }
        if (this.rect.y < 0) {
            this.rect.height += this.rect.y;
            this.rect.y = 0;
        }
    }
    ImageAlgorithmCrop.prototype.process = function (img) {
        var arr = new Uint8ClampedArray(this.rect.width * this.rect.height * img.bytePerPixel);
        var pos = 0;
        for (var y = this.rect.y; y < this.rect.y + this.rect.height; ++y) {
            var start = y * img.width * img.bytePerPixel + this.rect.x * img.bytePerPixel;
            var end = start + this.rect.width * img.bytePerPixel;
            var row = img.Pixels.slice(start, end);
            arr.set(row, pos);
            pos += row.byteLength;
        }
        return new __WEBPACK_IMPORTED_MODULE_1__image__["a" /* HImage */](this.rect.width, this.rect.height, arr);
    };
    return ImageAlgorithmCrop;
}());



/***/ }),

/***/ "../../../../../src/app/lib/imagealgorithm/imageAlgorithmEdgeDetectionGradient.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return GradientEdgeFilterType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return GradientDerivativeLevel; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return ImageAlgorithmEdgeDetectionGradient; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__image__ = __webpack_require__("../../../../../src/app/lib/image.ts");

var GradientEdgeFilterType;
(function (GradientEdgeFilterType) {
    GradientEdgeFilterType[GradientEdgeFilterType["None"] = 0] = "None";
    GradientEdgeFilterType[GradientEdgeFilterType["EdgeDetectMono"] = 1] = "EdgeDetectMono";
    GradientEdgeFilterType[GradientEdgeFilterType["EdgeDetectGradient"] = 2] = "EdgeDetectGradient";
    GradientEdgeFilterType[GradientEdgeFilterType["Sharpen"] = 3] = "Sharpen";
    GradientEdgeFilterType[GradientEdgeFilterType["SharpenGradient"] = 4] = "SharpenGradient";
})(GradientEdgeFilterType || (GradientEdgeFilterType = {}));
var GradientDerivativeLevel;
(function (GradientDerivativeLevel) {
    GradientDerivativeLevel[GradientDerivativeLevel["First"] = 1] = "First";
    GradientDerivativeLevel[GradientDerivativeLevel["Second"] = 2] = "Second";
})(GradientDerivativeLevel || (GradientDerivativeLevel = {}));
var ImageAlgorithmEdgeDetectionGradient = /** @class */ (function () {
    function ImageAlgorithmEdgeDetectionGradient(filterType, level, redFactor, greenFactor, blueFactor, threshold, name, isCartoon) {
        if (name === void 0) { name = "Gradient Edge Detection"; }
        if (isCartoon === void 0) { isCartoon = false; }
        this._filterType = filterType;
        this._level = level;
        this._redFactor = redFactor;
        this._greenFactor = greenFactor;
        this._blueFactor = blueFactor;
        this._threshold = threshold;
        this._name = name;
        this._isCartoon = isCartoon;
    }
    Object.defineProperty(ImageAlgorithmEdgeDetectionGradient.prototype, "name", {
        get: function () {
            return this._name;
        },
        enumerable: true,
        configurable: true
    });
    ImageAlgorithmEdgeDetectionGradient.prototype.process = function (img) {
        var tempImage = new __WEBPACK_IMPORTED_MODULE_0__image__["a" /* HImage */](img.width, img.height, new Uint8ClampedArray(img.Pixels), img.bytePerPixel);
        var derivative = this._level.extToInt32();
        var byteOffset = 0;
        var blueGradient = 0, greenGradient = 0, redGradient = 0;
        var blue = 0, green = 0, red = 0;
        var exceedsThreshold = false;
        var stride = img.width * img.bytePerPixel;
        for (var offsetY = 1; offsetY < img.height - 1; ++offsetY)
            for (var offsetX = 1; offsetX < img.width - 1; ++offsetX) {
                byteOffset = offsetY * img.width * img.bytePerPixel + offsetX * img.bytePerPixel;
                redGradient = this.calculateDerivation(img.Pixels, byteOffset, 4, derivative);
                redGradient += this.calculateDerivation(img.Pixels, byteOffset, stride, derivative);
                byteOffset++;
                greenGradient = this.calculateDerivation(img.Pixels, byteOffset, 4, derivative);
                greenGradient += this.calculateDerivation(img.Pixels, byteOffset, stride, derivative);
                byteOffset++;
                blueGradient = this.calculateDerivation(img.Pixels, byteOffset, 4, derivative);
                blueGradient += this.calculateDerivation(img.Pixels, byteOffset, stride, derivative);
                if (redGradient + greenGradient + blueGradient > this._threshold) {
                    exceedsThreshold = true;
                }
                else {
                    byteOffset += -2;
                    redGradient = this.calculateDerivation(img.Pixels, byteOffset, 4, derivative);
                    byteOffset++;
                    greenGradient = this.calculateDerivation(img.Pixels, byteOffset, 4, derivative);
                    byteOffset++;
                    blueGradient = this.calculateDerivation(img.Pixels, byteOffset, 4, derivative);
                    if (redGradient + greenGradient + blueGradient > this._threshold) {
                        exceedsThreshold = true;
                    }
                    else {
                        byteOffset += -2;
                        redGradient = this.calculateDerivation(img.Pixels, byteOffset, stride, derivative);
                        byteOffset++;
                        greenGradient = this.calculateDerivation(img.Pixels, byteOffset, stride, derivative);
                        byteOffset++;
                        blueGradient = this.calculateDerivation(img.Pixels, byteOffset, stride, derivative);
                        if (redGradient + greenGradient + blueGradient > this._threshold) {
                            exceedsThreshold = true;
                        }
                        else {
                            byteOffset += -2;
                            redGradient = this.calculateDerivation(img.Pixels, byteOffset, 4 + stride, derivative);
                            redGradient += this.calculateDerivation(img.Pixels, byteOffset, (stride - 4), derivative);
                            byteOffset++;
                            greenGradient = this.calculateDerivation(img.Pixels, byteOffset, 4 + stride, derivative);
                            greenGradient += this.calculateDerivation(img.Pixels, byteOffset, (stride - 4), derivative);
                            byteOffset++;
                            blueGradient = this.calculateDerivation(img.Pixels, byteOffset, 4 + stride, derivative);
                            blueGradient += this.calculateDerivation(img.Pixels, byteOffset, (stride - 4), derivative);
                            if (redGradient + greenGradient + blueGradient > this._threshold) {
                                exceedsThreshold = true;
                            }
                            else {
                                exceedsThreshold = false;
                            }
                        }
                    }
                }
                byteOffset += -2;
                if (!this._isCartoon)
                    if (exceedsThreshold) {
                        if (this._filterType == GradientEdgeFilterType.EdgeDetectMono) {
                            blue = green = red = 255;
                        }
                        else if (this._filterType == GradientEdgeFilterType.EdgeDetectGradient) {
                            blue = blueGradient * this._blueFactor;
                            green = greenGradient * this._greenFactor;
                            red = redGradient * this._redFactor;
                        }
                        else if (this._filterType == GradientEdgeFilterType.Sharpen) {
                            red = img.Pixels[byteOffset] * this._redFactor;
                            green = img.Pixels[byteOffset + 1] * this._greenFactor;
                            blue = img.Pixels[byteOffset + 2] * this._blueFactor;
                        }
                        else if (this._filterType == GradientEdgeFilterType.SharpenGradient) {
                            red = img.Pixels[byteOffset] + redGradient * this._redFactor;
                            green = img.Pixels[byteOffset + 1] + greenGradient * this._greenFactor;
                            blue = img.Pixels[byteOffset + 2] + blueGradient * this._blueFactor;
                        }
                    }
                    else {
                        if (this._filterType == GradientEdgeFilterType.EdgeDetectMono ||
                            this._filterType == GradientEdgeFilterType.EdgeDetectGradient) {
                            blue = green = red = 0;
                        }
                        else if (this._filterType == GradientEdgeFilterType.Sharpen ||
                            this._filterType == GradientEdgeFilterType.SharpenGradient) {
                            red = img.Pixels[byteOffset] * this._redFactor;
                            green = img.Pixels[byteOffset + 1] * this._greenFactor;
                            blue = img.Pixels[byteOffset + 2] * this._blueFactor;
                        }
                    }
                if (this._isCartoon) {
                    if (exceedsThreshold) {
                        blue = 0;
                        red = 0;
                        green = 0;
                    }
                    else {
                        red = img.Pixels[byteOffset];
                        green = img.Pixels[byteOffset + 1];
                        blue = img.Pixels[byteOffset + 2];
                    }
                }
                blue = (blue > 255 ? 255 :
                    (blue < 0 ? 0 :
                        blue));
                green = (green > 255 ? 255 :
                    (green < 0 ? 0 :
                        green));
                red = (red > 255 ? 255 :
                    (red < 0 ? 0 :
                        red));
                tempImage.Pixels[byteOffset] = red.extToInt32();
                tempImage.Pixels[byteOffset + 1] = green.extToInt32();
                tempImage.Pixels[byteOffset + 2] = blue.extToInt32();
                tempImage.Pixels[byteOffset + 3] = img.Pixels[byteOffset + 3];
            }
        return tempImage;
    };
    ImageAlgorithmEdgeDetectionGradient.prototype.calculateDerivation = function (pixels, offset, val, derivative) {
        return ((pixels[offset - val] - pixels[offset + val]) / derivative).extAbs();
    };
    return ImageAlgorithmEdgeDetectionGradient;
}());



/***/ }),

/***/ "../../../../../src/app/lib/imagealgorithm/imageAlgorithmFill.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ImageAlgorithmFill; });
/**
*  fills an image with a number or a color
*/
var ImageAlgorithmFill = /** @class */ (function () {
    /**
     * @param fillValue if value is defined then fills with  value
     * @param fillColor if color is defined then fills with color
     */
    function ImageAlgorithmFill(fillValue, fillColor) {
        this.fillValue = fillValue;
        this.fillColor = fillColor;
    }
    ImageAlgorithmFill.prototype.process = function (img) {
        if (this.fillValue)
            img.Pixels.fill(this.fillValue);
        else if (this.fillColor) {
            var array = [this.fillColor.r, this.fillColor.g, this.fillColor.b, this.fillColor.a];
            for (var y = 0; y < img.height; ++y)
                for (var x = 0; x < img.width; ++x) {
                    img.Pixels.set(array, y * img.width * 4 + x * 4);
                }
        }
        return img;
    };
    return ImageAlgorithmFill;
}());



/***/ }),

/***/ "../../../../../src/app/lib/imagealgorithm/imageAlgorithmFlip.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ImageAlgorithmFlip; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__image__ = __webpack_require__("../../../../../src/app/lib/image.ts");

/**
* creates a  filtered image
*/
var ImageAlgorithmFlip = /** @class */ (function () {
    function ImageAlgorithmFlip(isHorizontal) {
        this._isHorizontal = isHorizontal;
    }
    ImageAlgorithmFlip.prototype.process = function (img) {
        if (this._isHorizontal) {
            return this.processHorizontal(img);
        }
        return this.processVertical(img);
    };
    ImageAlgorithmFlip.prototype.processHorizontal = function (img) {
        var newImage = new __WEBPACK_IMPORTED_MODULE_0__image__["a" /* HImage */](img.width, img.height);
        for (var y = 0; y < img.height; ++y)
            for (var x = 0; x < img.width; ++x) {
                var start = y * img.width * 4 + x * 4;
                var startN = y * img.width * 4 + (img.width - x - 1) * 4;
                newImage.Pixels[startN + 0] = img.Pixels[start + 0];
                newImage.Pixels[startN + 1] = img.Pixels[start + 1];
                newImage.Pixels[startN + 2] = img.Pixels[start + 2];
                newImage.Pixels[startN + 3] = img.Pixels[start + 3];
            }
        return newImage;
    };
    ImageAlgorithmFlip.prototype.processVertical = function (img) {
        var newImage = new __WEBPACK_IMPORTED_MODULE_0__image__["a" /* HImage */](img.width, img.height);
        for (var y = 0; y < img.height; ++y) {
            var start = (img.height - 1 - y) * img.width * 4;
            ;
            var end = start + img.width * 4;
            var startN = y * img.width * 4;
            newImage.Pixels.set(img.Pixels.slice(start, end), startN);
        }
        return newImage;
    };
    return ImageAlgorithmFlip;
}());



/***/ }),

/***/ "../../../../../src/app/lib/imagealgorithm/imageAlgorithmGrayscale.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ImageAlgorithmGrayscale; });
/**
* creates a  grayscale image
*/
var ImageAlgorithmGrayscale = /** @class */ (function () {
    function ImageAlgorithmGrayscale(version) {
        switch (version) {
            case 1:
                this.selectedFunc = this.version1;
                break;
            case 2:
                this.selectedFunc = this.version2;
                break;
            case 3:
                this.selectedFunc = this.version3;
                break;
            case 4:
                this.selectedFunc = this.version4;
                break;
            case 5:
                this.selectedFunc = this.version5;
                break;
            case 6:
                this.selectedFunc = this.version6;
                break;
            case 7:
                this.selectedFunc = this.version7;
                break;
            case 8:
                this.selectedFunc = this.version8;
                break;
            default:
                this.selectedFunc = this.version1;
                break;
        }
    }
    ImageAlgorithmGrayscale.prototype.process = function (img) {
        return this.selectedFunc(img);
    };
    ImageAlgorithmGrayscale.prototype.common = function (img, func) {
        var start;
        for (var i = 0; i < img.Pixels.byteLength / 4; ++i) {
            start = i * 4;
            var val = func(img.Pixels[start + 0], img.Pixels[start + 1], img.Pixels[start + 2]);
            img.Pixels[start + 0] = val;
            img.Pixels[start + 1] = val;
            img.Pixels[start + 2] = val;
        }
        return img;
    };
    ImageAlgorithmGrayscale.prototype.version1 = function (img) {
        return this.common(img, function (r, g, b) {
            var temp = (r + g + b) / 3;
            return temp.extRound();
        });
    };
    ImageAlgorithmGrayscale.prototype.version2 = function (img) {
        return this.common(img, function (r, g, b) {
            var temp = (r * 0.3 + g * 0.59 + b * 0.11);
            return temp.extRound();
        });
    };
    /* private version3(img:HImage):HImage{
        return this.common(img,(r,g,b)=>{
        let temp=(r*0.2126+g*0.7152+b*0.0722)
       return temp.extRound();
        });
    }

    private version4(img:HImage):HImage{
        return this.common(img,(r,g,b)=>{
        let temp=(r*0.299+g*0.587+b*0.114)
       return temp.extRound();
        });
    } */
    ImageAlgorithmGrayscale.prototype.version3 = function (img) {
        return this.common(img, function (r, g, b) {
            var temp = (Math.max(r, g, b));
            return temp.extRound();
        });
    };
    ImageAlgorithmGrayscale.prototype.version4 = function (img) {
        return this.common(img, function (r, g, b) {
            var temp = (Math.min(r, g, b));
            return temp.extRound();
        });
    };
    ImageAlgorithmGrayscale.prototype.version5 = function (img) {
        return this.common(img, function (r, g, b) {
            var temp = r;
            return temp;
        });
    };
    ImageAlgorithmGrayscale.prototype.version6 = function (img) {
        return this.common(img, function (r, g, b) {
            var temp = g;
            return temp;
        });
    };
    ImageAlgorithmGrayscale.prototype.version7 = function (img) {
        return this.common(img, function (r, g, b) {
            var temp = b;
            return temp;
        });
    };
    ImageAlgorithmGrayscale.prototype.version8 = function (img) {
        return this.common(img, function (r, g, b) {
            var ConversionFactor = 255 / (16 - 1);
            var AverageValue = (r + g + b) / 3;
            var Gray = (((AverageValue / ConversionFactor) + 0.5) * ConversionFactor).extRound();
            var temp = Gray;
            return temp;
        });
    };
    return ImageAlgorithmGrayscale;
}());



/***/ }),

/***/ "../../../../../src/app/lib/imagealgorithm/imageAlgorithmOilPainting.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ImageAlgorithmOilPainting; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__image__ = __webpack_require__("../../../../../src/app/lib/image.ts");

var ImageAlgorithmOilPainting = /** @class */ (function () {
    function ImageAlgorithmOilPainting(levels, filterSize) {
        this._filterSize = filterSize;
        this._levels = levels;
    }
    ImageAlgorithmOilPainting.prototype.process = function (img) {
        var tempImage = new __WEBPACK_IMPORTED_MODULE_0__image__["a" /* HImage */](img.width, img.height, new Uint8ClampedArray(img.Pixels), img.bytePerPixel);
        var intensityBin = new Array(this._levels);
        var blueBin = new Array(this._levels);
        var greenBin = new Array(this._levels);
        var redBin = new Array(this._levels);
        var levels = this._levels - 1;
        var filterOffset = ((this._filterSize - 1) / 2).extToInt32();
        var byteOffset = 0;
        var calcOffset = 0;
        var currentIntensity = 0;
        var maxIntensity = 0;
        var maxIndex = 0;
        var blue = 0;
        var green = 0;
        var red = 0;
        for (var offsetY = filterOffset; offsetY < img.height - filterOffset; ++offsetY)
            for (var offsetX = filterOffset; offsetX < img.width - filterOffset; ++offsetX) {
                blue = green = red = 0;
                currentIntensity = maxIntensity = maxIndex = 0;
                intensityBin.fill(0, 0, this._levels);
                blueBin.fill(0, 0, this._levels);
                greenBin.fill(0, 0, this._levels);
                redBin.fill(0, 0, this._levels);
                byteOffset = offsetY * img.width * img.bytePerPixel + offsetX * img.bytePerPixel;
                for (var filterY = -filterOffset; filterY <= filterOffset; ++filterY)
                    for (var filterX = -filterOffset; filterX <= filterOffset; ++filterX) {
                        calcOffset = (offsetY + filterY) * img.width * img.bytePerPixel + (offsetX + filterX) * img.bytePerPixel;
                        currentIntensity = ((img.Pixels[calcOffset] + img.Pixels[calcOffset + 1] + img.Pixels[calcOffset + 2]) / 3 * levels / 255).extRound().extToInt32();
                        intensityBin[currentIntensity] += 1;
                        redBin[currentIntensity] += img.Pixels[calcOffset + 0];
                        greenBin[currentIntensity] += img.Pixels[calcOffset + 1];
                        blueBin[currentIntensity] += img.Pixels[calcOffset + 2];
                        if (intensityBin[currentIntensity] > maxIntensity) {
                            maxIntensity = intensityBin[currentIntensity];
                            maxIndex = currentIntensity;
                        }
                    }
                red = (redBin[maxIndex] / maxIntensity).extToInt32();
                green = (greenBin[maxIndex] / maxIntensity).extToInt32();
                blue = (blueBin[maxIndex] / maxIntensity).extToInt32();
                tempImage.Pixels[byteOffset] = red;
                tempImage.Pixels[byteOffset + 1] = green;
                tempImage.Pixels[byteOffset + 2] = blue;
            }
        return tempImage;
    };
    return ImageAlgorithmOilPainting;
}());



/***/ }),

/***/ "../../../../../src/app/lib/imagealgorithm/imageAlgorithmRotate.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ImageAlgorithmRotate; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__image__ = __webpack_require__("../../../../../src/app/lib/image.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__draw_rect__ = __webpack_require__("../../../../../src/app/lib/draw/rect.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__draw_point__ = __webpack_require__("../../../../../src/app/lib/draw/point.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__hMath__ = __webpack_require__("../../../../../src/app/lib/hMath.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__imageAlgorithmFill__ = __webpack_require__("../../../../../src/app/lib/imagealgorithm/imageAlgorithmFill.ts");





/**
* rotates an image
*/
var ImageAlgorithmRotate = /** @class */ (function () {
    /**
     *
     * @param angleDegrees rotation angle
     * @param padColor padding color
     */
    function ImageAlgorithmRotate(angleDegrees, padColor) {
        this.padColor = padColor;
        this.angleDegrees = angleDegrees;
    }
    ImageAlgorithmRotate.prototype.process = function (img) {
        if (this.angleDegrees == 90) {
            return this.rotate90(img);
        }
        if (this.angleDegrees == -90) {
            return this.rotate90Minus(img);
        }
        if (this.angleDegrees == 180 || this.angleDegrees == -180) {
            //debugger;
            return this.rotate180(img);
        }
        return this.rotateOther(img);
    };
    /**
     * rotates 90 degress
     * @param img
     */
    ImageAlgorithmRotate.prototype.rotate90 = function (img) {
        var rotatedImage = new __WEBPACK_IMPORTED_MODULE_0__image__["a" /* HImage */](img.height, img.width);
        var arr = new Uint8ClampedArray(rotatedImage.width * 4);
        for (var x1 = 0; x1 < img.width; ++x1) {
            for (var y1 = img.height - 1; y1 >= 0; --y1) {
                arr[(img.height - y1 - 1) * 4 + 0] = img.Pixels[y1 * img.width * 4 + x1 * 4 + 0];
                arr[(img.height - y1 - 1) * 4 + 1] = img.Pixels[y1 * img.width * 4 + x1 * 4 + 1];
                arr[(img.height - y1 - 1) * 4 + 2] = img.Pixels[y1 * img.width * 4 + x1 * 4 + 2];
                arr[(img.height - y1 - 1) * 4 + 3] = img.Pixels[y1 * img.width * 4 + x1 * 4 + 3];
            }
            rotatedImage.Pixels.set(arr, x1 * rotatedImage.width * 4);
        }
        return rotatedImage;
    };
    /**
     * rotates -90 degress
     * @param img
     */
    ImageAlgorithmRotate.prototype.rotate90Minus = function (img) {
        var rotatedImage = new __WEBPACK_IMPORTED_MODULE_0__image__["a" /* HImage */](img.height, img.width);
        var arr = new Uint8ClampedArray(rotatedImage.width * 4);
        for (var x1 = 0; x1 < img.width; ++x1) {
            for (var y1 = 0; y1 < img.height; ++y1) {
                arr[y1 * 4 + 0] = img.Pixels[y1 * img.width * 4 + x1 * 4 + 0];
                arr[y1 * 4 + 1] = img.Pixels[y1 * img.width * 4 + x1 * 4 + 1];
                arr[y1 * 4 + 2] = img.Pixels[y1 * img.width * 4 + x1 * 4 + 2];
                arr[y1 * 4 + 3] = img.Pixels[y1 * img.width * 4 + x1 * 4 + 3];
            }
            rotatedImage.Pixels.set(arr, (img.width - 1 - x1) * rotatedImage.width * 4);
        }
        return rotatedImage;
    };
    /**
     * rotates 180 degress
     * @param img
     */
    ImageAlgorithmRotate.prototype.rotate180 = function (img) {
        var rotatedImage = new __WEBPACK_IMPORTED_MODULE_0__image__["a" /* HImage */](img.width, img.height);
        var arr = new Uint8ClampedArray(rotatedImage.width * 4);
        for (var y1 = 0; y1 < img.height; ++y1) {
            for (var x1 = 0; x1 < img.width; ++x1) {
                arr[(img.width - x1 - 1) * 4 + 0] = img.Pixels[y1 * img.width * 4 + x1 * 4 + 0];
                arr[(img.width - x1 - 1) * 4 + 1] = img.Pixels[y1 * img.width * 4 + x1 * 4 + 1];
                arr[(img.width - x1 - 1) * 4 + 2] = img.Pixels[y1 * img.width * 4 + x1 * 4 + 2];
                arr[(img.width - x1 - 1) * 4 + 3] = img.Pixels[y1 * img.width * 4 + x1 * 4 + 3];
            }
            rotatedImage.Pixels.set(arr, (img.height - 1 - y1) * rotatedImage.width * 4);
        }
        return rotatedImage;
    };
    //bilinear interpolation rotation algorithm
    ImageAlgorithmRotate.prototype.rotateOther = function (img) {
        var rectSource = new __WEBPACK_IMPORTED_MODULE_1__draw_rect__["a" /* Rect */](0, 0, img.width, img.height);
        var rotatedSourceRect = __WEBPACK_IMPORTED_MODULE_3__hMath__["a" /* HMath */].rotateRect(rectSource, this.angleDegrees);
        var rotatedImage = new __WEBPACK_IMPORTED_MODULE_0__image__["a" /* HImage */](rotatedSourceRect.width.extCeil(), rotatedSourceRect.height.extCeil());
        if (this.padColor)
            rotatedImage.processMutable(new __WEBPACK_IMPORTED_MODULE_4__imageAlgorithmFill__["a" /* ImageAlgorithmFill */](undefined, this.padColor));
        else
            rotatedImage.processMutable(new __WEBPACK_IMPORTED_MODULE_4__imageAlgorithmFill__["a" /* ImageAlgorithmFill */](0, undefined));
        var centerPoint = new __WEBPACK_IMPORTED_MODULE_2__draw_point__["a" /* Point */](rotatedImage.width / 2, rotatedImage.height / 2);
        var ymax = img.height - 1;
        var xmax = img.width - 1;
        var ox, oy, dx1, dy1, dx2, dy2;
        var ox1, oy1, ox2, oy2;
        var v1, v2;
        var p1, p2, p3, p4;
        for (var y = 0; y < rotatedImage.height; ++y) {
            for (var x = 0; x < rotatedImage.width; ++x) {
                var rotatedPoint = __WEBPACK_IMPORTED_MODULE_3__hMath__["a" /* HMath */].rotatePoint(new __WEBPACK_IMPORTED_MODULE_2__draw_point__["a" /* Point */](x, y), -this.angleDegrees, centerPoint);
                rotatedPoint.x += rotatedSourceRect.x;
                rotatedPoint.y += rotatedSourceRect.y;
                ox = rotatedPoint.x;
                oy = rotatedPoint.y;
                ox1 = ox.extFloor();
                oy1 = oy.extFloor();
                if (ox1 >= 0 && oy1 >= 0 && ox1 < img.width && oy1 < img.height) {
                    ox2 = (ox1 == xmax) ? ox1 : ox1 + 1;
                    oy2 = (oy1 == ymax) ? oy1 : oy1 + 1;
                    if ((dx1 = ox - ox1) < 0)
                        dx1 = 0;
                    dx2 = 1.0 - dx1;
                    if ((dy1 = oy - oy1) < 0)
                        dy1 = 0;
                    dy2 = 1.0 - dy1;
                    p1 = p2 = oy1 * img.width * 4;
                    p1 += ox1 * 4;
                    p2 += ox2 * 4;
                    p3 = p4 = oy2 * img.width * 4;
                    p3 += ox1 * 4;
                    p4 += ox2 * 4;
                    // red
                    var p1pixels = img.Pixels.slice(p1, p1 + 4);
                    p1pixels.forEach(function (val, index, array) { return array[index] = dx2 * val; });
                    var p2pixels = img.Pixels.slice(p2, p2 + 4);
                    p2pixels.forEach(function (val, index, array) { return array[index] = dx1 * val; });
                    var p3pixels = img.Pixels.slice(p3, p3 + 4);
                    p3pixels.forEach(function (val, index, array) { return array[index] = dx2 * val; });
                    var p4pixels = img.Pixels.slice(p4, p4 + 4);
                    p4pixels.forEach(function (val, index, array) { return array[index] = dx1 * val; });
                    var result = [0, 0, 0, 0];
                    for (var a = 0; a < 4; ++a) {
                        var v1_1 = p1pixels[a] + p2pixels[a];
                        var v2_1 = p3pixels[a] + p4pixels[a];
                        var val = (dy2 * v1_1 + dy1 * v2_1);
                        result[a] = val;
                    }
                    rotatedImage.Pixels.set(result, y * rotatedImage.width * 4 + x * 4);
                }
            }
        }
        return rotatedImage;
    };
    return ImageAlgorithmRotate;
}());



/***/ }),

/***/ "../../../../../src/app/lib/imagealgorithm/imageAlgorithmSaturationLight.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ImageAlgorithmSaturationLight; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__colorConversion__ = __webpack_require__("../../../../../src/app/lib/imagealgorithm/colorConversion.ts");

/**
* creates a  filtered image
* https://www.pocketmagic.net/enhance-saturation-in-images-programatically/
*/
var ImageAlgorithmSaturationLight = /** @class */ (function () {
    function ImageAlgorithmSaturationLight(value, isLight) {
        this.Pr = .299;
        this.Pg = .587;
        this.Pb = .114;
        this._value = value;
        this._isLight = isLight;
    }
    ImageAlgorithmSaturationLight.prototype.process = function (img) {
        var start;
        for (var i = 0; i < img.Pixels.byteLength / 4; ++i) {
            start = i * 4;
            var temp = this._isLight ? this.calculate4(img.Pixels[start + 0], img.Pixels[start + 1], img.Pixels[start + 2]) : this.calculate3(img.Pixels[start + 0], img.Pixels[start + 1], img.Pixels[start + 2]);
            img.Pixels[start + 0] = temp.r;
            img.Pixels[start + 1] = temp.g;
            img.Pixels[start + 2] = temp.b;
        }
        return img;
    };
    ImageAlgorithmSaturationLight.prototype.calculate2 = function (r, g, b) {
        var hsl = __WEBPACK_IMPORTED_MODULE_0__colorConversion__["a" /* ColorConversion */].rgbToHsl(r, g, b);
        var rgb = __WEBPACK_IMPORTED_MODULE_0__colorConversion__["a" /* ColorConversion */].hslToRgb(hsl[0], hsl[1] * this._value, hsl[2]);
        return { r: rgb[0], g: rgb[1], b: rgb[2] };
    };
    ImageAlgorithmSaturationLight.prototype.calculate3 = function (r, g, b) {
        var hsl = __WEBPACK_IMPORTED_MODULE_0__colorConversion__["a" /* ColorConversion */].rgbToHsl(r, g, b);
        if (this._value >= 0) {
            // we don't want to saturate unsaturated colors -> we get only defects
            // for unsaturared colors this tends to 0
            var gray_factor = hsl[1] / 255.0;
            // how far can we go?
            // if we increase saturation, we have "255-s" space left
            var var_interval = 255 - hsl[1];
            // compute the new saturation
            hsl[1] = hsl[1] + this._value * var_interval * gray_factor;
        }
        else {
            // how far can we go?
            // for decrease we have "s" left
            var var_interval = hsl[1];
            hsl[1] = hsl[1] + this._value * var_interval;
        }
        var rgb = __WEBPACK_IMPORTED_MODULE_0__colorConversion__["a" /* ColorConversion */].hslToRgb(hsl[0], hsl[1], hsl[2]);
        return { r: rgb[0], g: rgb[1], b: rgb[2] };
    };
    ImageAlgorithmSaturationLight.prototype.calculate4 = function (r, g, b) {
        var hsl = __WEBPACK_IMPORTED_MODULE_0__colorConversion__["a" /* ColorConversion */].rgbToHsl(r, g, b);
        if (this._value >= 0) {
            // we don't want to saturate unsaturated colors -> we get only defects
            // for unsaturared colors this tends to 0
            var gray_factor = hsl[2] / 255.0;
            // how far can we go?
            // if we increase saturation, we have "255-s" space left
            var var_interval = 255 - hsl[2];
            // compute the new saturation
            hsl[2] = hsl[2] + this._value * var_interval * gray_factor;
        }
        else {
            // how far can we go?
            // for decrease we have "s" left
            var var_interval = hsl[2];
            hsl[2] = hsl[2] + this._value * var_interval;
        }
        var rgb = __WEBPACK_IMPORTED_MODULE_0__colorConversion__["a" /* ColorConversion */].hslToRgb(hsl[0], hsl[1], hsl[2]);
        return { r: rgb[0], g: rgb[1], b: rgb[2] };
    };
    return ImageAlgorithmSaturationLight;
}());



/***/ }),

/***/ "../../../../../src/app/lib/imagealgorithm/imageAlgorithmSepia.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ImageAlgorithmSepia; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__image__ = __webpack_require__("../../../../../src/app/lib/image.ts");

/**
* creates a  filtered image
*/
var ImageAlgorithmSepia = /** @class */ (function () {
    function ImageAlgorithmSepia(name) {
        if (name === void 0) { name = undefined; }
        this._name = name;
    }
    Object.defineProperty(ImageAlgorithmSepia.prototype, "name", {
        get: function () {
            return this._name;
        },
        enumerable: true,
        configurable: true
    });
    ImageAlgorithmSepia.prototype.process = function (img) {
        var temp = new __WEBPACK_IMPORTED_MODULE_0__image__["a" /* HImage */](img.width, img.height, new Uint8ClampedArray(img.Pixels), img.bytePerPixel);
        var start;
        for (var i = 0; i < img.Pixels.byteLength / 4; ++i) {
            start = i * 4;
            var red = img.Pixels[start];
            var green = img.Pixels[start + 1];
            var blue = img.Pixels[start + 2];
            temp.Pixels[start + 0] = (0.393 * red + 0.769 * green + 0.189 * blue).extToInt32();
            temp.Pixels[start + 1] = (0.349 * red + 0.686 * green + 0.168 * blue).extToInt32();
            temp.Pixels[start + 2] = (0.272 * red + 0.534 * green + 0.131 * blue).extToInt32();
        }
        return temp;
    };
    return ImageAlgorithmSepia;
}());



/***/ }),

/***/ "../../../../../src/app/lib/imagealgorithm/morphology/imageAlgorithmErosionDelation.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export MorphologyType */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return MorphologyProcessType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ImageAlgorithmErosionDelation; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__image__ = __webpack_require__("../../../../../src/app/lib/image.ts");

var MorphologyType;
(function (MorphologyType) {
    MorphologyType[MorphologyType["Erosion"] = 0] = "Erosion";
    MorphologyType[MorphologyType["Dilation"] = 1] = "Dilation";
})(MorphologyType || (MorphologyType = {}));
var MorphologyProcessType;
(function (MorphologyProcessType) {
    MorphologyProcessType[MorphologyProcessType["Erosion"] = 0] = "Erosion";
    MorphologyProcessType[MorphologyProcessType["Dilation"] = 1] = "Dilation";
    MorphologyProcessType[MorphologyProcessType["Open"] = 2] = "Open";
    MorphologyProcessType[MorphologyProcessType["Closed"] = 3] = "Closed";
})(MorphologyProcessType || (MorphologyProcessType = {}));
var ImageAlgorithmErosionDelation = /** @class */ (function () {
    function ImageAlgorithmErosionDelation(type, matrixSize, applyRed, applyGree, applyBlue) {
        if (applyRed === void 0) { applyRed = true; }
        if (applyGree === void 0) { applyGree = true; }
        if (applyBlue === void 0) { applyBlue = true; }
        this.matrixSize = 0;
        this.processType = type;
        this.applyBlue = applyBlue;
        this.applyGreen = applyGree;
        this.applyRed = applyRed;
        this.matrixSize = matrixSize;
    }
    ImageAlgorithmErosionDelation.prototype.process = function (img) {
        var preparedImage = this.prepareImage(img);
        if (this.processType == MorphologyProcessType.Erosion)
            return this.processErosionDilation(preparedImage, MorphologyType.Erosion, this.matrixSize, this.applyBlue, this.applyRed, this.applyGreen);
        if (this.processType == MorphologyProcessType.Dilation)
            return this.processErosionDilation(preparedImage, MorphologyType.Dilation, this.matrixSize, this.applyBlue, this.applyRed, this.applyGreen);
        if (this.processType == MorphologyProcessType.Open) {
            var temp = this.processErosionDilation(preparedImage, MorphologyType.Erosion, this.matrixSize, this.applyBlue, this.applyRed, this.applyGreen);
            return this.processErosionDilation(temp, MorphologyType.Dilation, this.matrixSize, this.applyBlue, this.applyRed, this.applyGreen);
        }
        if (this.processType == MorphologyProcessType.Closed) {
            var temp = this.processErosionDilation(preparedImage, MorphologyType.Dilation, this.matrixSize, this.applyBlue, this.applyRed, this.applyGreen);
            return this.processErosionDilation(temp, MorphologyType.Erosion, this.matrixSize, this.applyBlue, this.applyRed, this.applyGreen);
        }
        return new __WEBPACK_IMPORTED_MODULE_0__image__["a" /* HImage */](preparedImage.width, preparedImage.height, new Uint8ClampedArray(preparedImage.Pixels), preparedImage.bytePerPixel);
    };
    ImageAlgorithmErosionDelation.prototype.processErosionDilation = function (preparedImage, morphologyType, matrixSize, applyBlue, applyRed, applyGreen) {
        var pixels = new Uint8ClampedArray(preparedImage.Pixels);
        var imgTemp = new __WEBPACK_IMPORTED_MODULE_0__image__["a" /* HImage */](preparedImage.width, preparedImage.height, pixels, preparedImage.bytePerPixel);
        var filterOffset = ((matrixSize - 1) / 2).extToInt32();
        var calcOffset = 0;
        var byteOffset = 0;
        var morphResetValue = 0;
        if (morphologyType == MorphologyType.Erosion)
            morphResetValue = 255;
        for (var offsetY = filterOffset; offsetY < preparedImage.height - filterOffset; ++offsetY)
            for (var offsetX = filterOffset; offsetX < preparedImage.width - filterOffset; ++offsetX) {
                var blue = morphResetValue, green = morphResetValue, red = morphResetValue;
                byteOffset = offsetY * preparedImage.width * preparedImage.bytePerPixel + offsetX * preparedImage.bytePerPixel;
                if (morphologyType == MorphologyType.Dilation) {
                    for (var filterY = -filterOffset; filterY <= filterOffset; ++filterY)
                        for (var filterX = -filterOffset; filterX <= filterOffset; ++filterX) {
                            calcOffset = (offsetY + filterY) * preparedImage.width * preparedImage.bytePerPixel + (offsetX + filterX) * preparedImage.bytePerPixel;
                            if (preparedImage.Pixels[calcOffset + 0] > red)
                                red = preparedImage.Pixels[calcOffset + 0];
                            if (preparedImage.Pixels[calcOffset + 1] > green)
                                green = preparedImage.Pixels[calcOffset + 1];
                            if (preparedImage.Pixels[calcOffset + 2] > blue)
                                blue = preparedImage.Pixels[calcOffset + 2];
                        }
                }
                if (morphologyType == MorphologyType.Erosion) {
                    for (var filterY = -filterOffset; filterY <= filterOffset; ++filterY)
                        for (var filterX = -filterOffset; filterX <= filterOffset; ++filterX) {
                            calcOffset = (offsetY + filterY) * preparedImage.width * preparedImage.bytePerPixel + (offsetX + filterX) * preparedImage.bytePerPixel;
                            if (preparedImage.Pixels[calcOffset + 0] < red)
                                red = preparedImage.Pixels[calcOffset + 0];
                            if (preparedImage.Pixels[calcOffset + 1] < green)
                                green = preparedImage.Pixels[calcOffset + 1];
                            if (preparedImage.Pixels[calcOffset + 2] < blue)
                                blue = preparedImage.Pixels[calcOffset + 2];
                        }
                }
                if (!applyRed)
                    red = preparedImage.Pixels[byteOffset];
                if (!applyGreen)
                    green = preparedImage.Pixels[byteOffset + 1];
                if (!applyBlue)
                    blue = preparedImage.Pixels[byteOffset + 2];
                imgTemp.Pixels[byteOffset] = red;
                imgTemp.Pixels[byteOffset + 1] = green;
                imgTemp.Pixels[byteOffset + 2] = blue;
            }
        return imgTemp;
    };
    ImageAlgorithmErosionDelation.prototype.prepareImage = function (img) {
        return img;
    };
    return ImageAlgorithmErosionDelation;
}());



/***/ }),

/***/ "../../../../../src/app/lib/imageprocess/imageProcessCrop.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ImageProcessCrop; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__imagealgorithm_imageAlgorithmRotate__ = __webpack_require__("../../../../../src/app/lib/imagealgorithm/imageAlgorithmRotate.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__imagealgorithm_imageAlgorithmCrop__ = __webpack_require__("../../../../../src/app/lib/imagealgorithm/imageAlgorithmCrop.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__draw_color__ = __webpack_require__("../../../../../src/app/lib/draw/color.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__hMath__ = __webpack_require__("../../../../../src/app/lib/hMath.ts");




var ImageProcessCrop = /** @class */ (function () {
    function ImageProcessCrop() {
    }
    ImageProcessCrop.process = function (img, rectSource, rectDestination, angleDegrees) {
        if (angleDegrees == 0) {
            var rectIntersect = __WEBPACK_IMPORTED_MODULE_3__hMath__["a" /* HMath */].intersectRect(rectSource, rectDestination);
            if (!rectIntersect)
                return undefined;
            rectIntersect.x -= rectSource.x;
            rectIntersect.y -= rectSource.y;
            rectIntersect.x = rectIntersect.x.extRound();
            rectIntersect.y = rectIntersect.y.extRound();
            rectIntersect.width = rectIntersect.width.extRound();
            rectIntersect.height = rectIntersect.height.extRound();
            return img.processImmutable(new __WEBPACK_IMPORTED_MODULE_1__imagealgorithm_imageAlgorithmCrop__["a" /* ImageAlgorithmCrop */](rectIntersect));
        }
        else {
            var rotatedSourceRect = __WEBPACK_IMPORTED_MODULE_3__hMath__["a" /* HMath */].rotateRect(rectSource, angleDegrees);
            var rectIntersect = __WEBPACK_IMPORTED_MODULE_3__hMath__["a" /* HMath */].intersectRect(rotatedSourceRect, rectDestination);
            if (!rectIntersect)
                return undefined;
            rectIntersect.x -= rotatedSourceRect.x;
            rectIntersect.y -= rotatedSourceRect.y;
            rectIntersect.x = rectIntersect.x.extRound();
            rectIntersect.y = rectIntersect.y.extRound();
            rectIntersect.width = rectIntersect.width.extRound();
            rectIntersect.height = rectIntersect.height.extRound();
            var rotatedImage = img.processImmutable(new __WEBPACK_IMPORTED_MODULE_0__imagealgorithm_imageAlgorithmRotate__["a" /* ImageAlgorithmRotate */](angleDegrees, new __WEBPACK_IMPORTED_MODULE_2__draw_color__["a" /* Color */](0, 0, 0, 0)));
            //return rotatedImage;
            return rotatedImage.processImmutable(new __WEBPACK_IMPORTED_MODULE_1__imagealgorithm_imageAlgorithmCrop__["a" /* ImageAlgorithmCrop */](rectIntersect));
        }
    };
    return ImageProcessCrop;
}());



/***/ }),

/***/ "../../../../../src/app/lib/imageprocess/imageProcessSimilarColors.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ImageProcessSimilarColors; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__imagealgorithm_colorConversion__ = __webpack_require__("../../../../../src/app/lib/imagealgorithm/colorConversion.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__draw_point__ = __webpack_require__("../../../../../src/app/lib/draw/point.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__draw_polygon__ = __webpack_require__("../../../../../src/app/lib/draw/polygon.ts");



var ImageProcessSimilarColors = /** @class */ (function () {
    function ImageProcessSimilarColors() {
    }
    ///layer parametresini debug yapmak için kullanıyorum
    ImageProcessSimilarColors.process = function (layer, img, color, point, threshold, continous) {
        if (continous === void 0) { continous = 8; }
        var xyz = __WEBPACK_IMPORTED_MODULE_0__imagealgorithm_colorConversion__["a" /* ColorConversion */].rgbToXYZ(color.r, color.g, color.b);
        var lab = __WEBPACK_IMPORTED_MODULE_0__imagealgorithm_colorConversion__["a" /* ColorConversion */].XYZToLab(xyz[0], xyz[1], xyz[2]);
        var lch = __WEBPACK_IMPORTED_MODULE_0__imagealgorithm_colorConversion__["a" /* ColorConversion */].LabToLCH(lab[0], lab[1], lab[2]);
        var points = [];
        ImageProcessSimilarColors.check(layer, img, points, lch, threshold, point);
        return [new __WEBPACK_IMPORTED_MODULE_2__draw_polygon__["a" /* Polygon */](points)];
    };
    ImageProcessSimilarColors.check = function (layer, img, points, reflch, threshold, point) {
        var visited = new Array(img.width * img.height);
        visited.forEach(function (item, index, arr) { return visited[index] = false; });
        var visitPoints = [];
        visitPoints.push(point);
        while (visitPoints.length > 0) {
            var currentPoint = visitPoints.pop();
            var x = currentPoint.x;
            var y = currentPoint.y;
            if (x < 0 || y < 0)
                continue;
            if (x > img.width || y > img.height)
                continue;
            if (visited[y * img.width + x])
                continue;
            visited[y * img.width + x] = true;
            var position = y * img.width * img.bytePerPixel + x * img.bytePerPixel;
            var r = img.Pixels[position];
            var g = img.Pixels[position + 1];
            var b = img.Pixels[position + 2];
            var xyz = __WEBPACK_IMPORTED_MODULE_0__imagealgorithm_colorConversion__["a" /* ColorConversion */].rgbToXYZ(r, g, b);
            var lab = __WEBPACK_IMPORTED_MODULE_0__imagealgorithm_colorConversion__["a" /* ColorConversion */].XYZToLab(xyz[0], xyz[1], xyz[2]);
            var lch = __WEBPACK_IMPORTED_MODULE_0__imagealgorithm_colorConversion__["a" /* ColorConversion */].LabToLCH(lab[0], lab[1], lab[2]);
            var dif = ImageProcessSimilarColors.delta2000({ L: lch[0], a: lch[1], b: lch[2] }, { L: reflch[0], a: reflch[1], b: reflch[2] });
            if (dif < threshold) {
                points.push(new __WEBPACK_IMPORTED_MODULE_1__draw_point__["a" /* Point */](x, y));
                //  layer.graphics.setPixel(x,y,new Color(255,255,255,255));
                //visitPoints.push(new Point(x - 1, y - 1));
                visitPoints.push(new __WEBPACK_IMPORTED_MODULE_1__draw_point__["a" /* Point */](x - 1, y));
                //visitPoints.push(new Point(x - 1, y + 1));
                visitPoints.push(new __WEBPACK_IMPORTED_MODULE_1__draw_point__["a" /* Point */](x, y - 1));
                visitPoints.push(new __WEBPACK_IMPORTED_MODULE_1__draw_point__["a" /* Point */](x, y + 1));
                //visitPoints.push(new Point(x + 1, y - 1));
                visitPoints.push(new __WEBPACK_IMPORTED_MODULE_1__draw_point__["a" /* Point */](x + 1, y));
                //visitPoints.push(new Point(x + 1, y + 1));
            }
            else {
                // layer.graphics.setPixel(x,y,new Color(255,0,0,255));
                // debugger;
            }
        }
    };
    ImageProcessSimilarColors.delta2000 = function (Lab1, Lab2) {
        var kL = 1.0;
        var kC = 1.0;
        var kH = 1.0;
        var lBarPrime = 0.5 * (Lab1.L + Lab2.L);
        var c1 = Math.sqrt(Lab1.a * Lab1.a + Lab1.b * Lab1.b);
        var c2 = Math.sqrt(Lab2.a * Lab2.a + Lab2.b * Lab2.b);
        var cBar = 0.5 * (c1 + c2);
        var cBar7 = cBar * cBar * cBar * cBar * cBar * cBar * cBar;
        var g = 0.5 * (1.0 - Math.sqrt(cBar7 / (cBar7 + 6103515625.0))); /* 6103515625 = 25^7 */
        var a1Prime = Lab1.a * (1.0 + g);
        var a2Prime = Lab2.a * (1.0 + g);
        var c1Prime = Math.sqrt(a1Prime * a1Prime + Lab1.b * Lab1.b);
        var c2Prime = Math.sqrt(a2Prime * a2Prime + Lab2.b * Lab2.b);
        var cBarPrime = 0.5 * (c1Prime + c2Prime);
        var h1Prime = (Math.atan2(Lab1.b, a1Prime) * 180.0) / Math.PI;
        if (h1Prime < 0.0)
            h1Prime += 360.0;
        var h2Prime = (Math.atan2(Lab2.b, a2Prime) * 180.0) / Math.PI;
        if (h2Prime < 0.0)
            h2Prime += 360.0;
        var hBarPrime = (Math.abs(h1Prime - h2Prime) > 180.0) ? (0.5 * (h1Prime + h2Prime + 360.0)) : (0.5 * (h1Prime + h2Prime));
        var t = 1.0 -
            0.17 * Math.cos(Math.PI * (hBarPrime - 30.0) / 180.0) +
            0.24 * Math.cos(Math.PI * (2.0 * hBarPrime) / 180.0) +
            0.32 * Math.cos(Math.PI * (3.0 * hBarPrime + 6.0) / 180.0) -
            0.20 * Math.cos(Math.PI * (4.0 * hBarPrime - 63.0) / 180.0);
        var dhPrime = 0;
        if (Math.abs(h2Prime - h1Prime) <= 180.0)
            dhPrime = h2Prime - h1Prime;
        else
            dhPrime = (h2Prime <= h1Prime) ? (h2Prime - h1Prime + 360.0) : (h2Prime - h1Prime - 360.0);
        var dLPrime = Lab2.L - Lab1.L;
        var dCPrime = c2Prime - c1Prime;
        var dHPrime = 2.0 * Math.sqrt(c1Prime * c2Prime) * Math.sin(Math.PI * (0.5 * dhPrime) / 180.0);
        var sL = 1.0 + ((0.015 * (lBarPrime - 50.0) * (lBarPrime - 50.0)) / Math.sqrt(20.0 + (lBarPrime - 50.0) * (lBarPrime - 50.0)));
        var sC = 1.0 + 0.045 * cBarPrime;
        var sH = 1.0 + 0.015 * cBarPrime * t;
        var dTheta = 30.0 * Math.exp(-((hBarPrime - 275.0) / 25.0) * ((hBarPrime - 275.0) / 25.0));
        var cBarPrime7 = cBarPrime * cBarPrime * cBarPrime * cBarPrime * cBarPrime * cBarPrime * cBarPrime;
        var rC = Math.sqrt(cBarPrime7 / (cBarPrime7 + 6103515625.0));
        var rT = -2.0 * rC * Math.sin(Math.PI * (2.0 * dTheta) / 180.0);
        var DE2000 = Math.sqrt((dLPrime / (kL * sL)) * (dLPrime / (kL * sL)) +
            (dCPrime / (kC * sC)) * (dCPrime / (kC * sC)) +
            (dHPrime / (kH * sH)) * (dHPrime / (kH * sH)) +
            (dCPrime / (kC * sC)) * (dHPrime / (kH * sH)) * rT);
        return DE2000;
    };
    return ImageProcessSimilarColors;
}());



/***/ }),

/***/ "../../../../../src/app/lib/messageBus.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MessageBus; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__eventEmitter__ = __webpack_require__("../../../../../src/app/lib/eventEmitter.ts");

var MessageBus = /** @class */ (function () {
    function MessageBus() {
    }
    MessageBus.publish = function (message, data) {
        if (!MessageBus.emitter)
            MessageBus.emitter = new __WEBPACK_IMPORTED_MODULE_0__eventEmitter__["a" /* HEventEmitter */]();
        MessageBus.emitter.callEvent(message, data);
    };
    MessageBus.subscribe = function (message, func) {
        if (!MessageBus.emitter)
            MessageBus.emitter = new __WEBPACK_IMPORTED_MODULE_0__eventEmitter__["a" /* HEventEmitter */]();
        MessageBus.emitter.onEvent(message, func);
    };
    MessageBus.unsubscribe = function (message, func) {
        if (!MessageBus.emitter)
            MessageBus.emitter = new __WEBPACK_IMPORTED_MODULE_0__eventEmitter__["a" /* HEventEmitter */]();
        MessageBus.emitter.offEvent(message, func);
    };
    return MessageBus;
}());



/***/ }),

/***/ "../../../../../src/app/lib/readFileOrUrl.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ReadFileOrUrl; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__entities_fileData__ = __webpack_require__("../../../../../src/app/entities/fileData.ts");

var ReadFileOrUrl = /** @class */ (function () {
    function ReadFileOrUrl() {
    }
    ReadFileOrUrl.readAsync = function (file, readType, onSuccess, onError, onProgress) {
        var reader = new FileReader();
        reader.onprogress = function (oEvent) {
            if (oEvent.lengthComputable) {
                var percentComplete = oEvent.loaded / oEvent.total;
                if (onProgress)
                    onProgress.call(percentComplete);
                // ...
            }
            else {
                // Unable to compute progress information since the total size is unknown
            }
        };
        reader.onload = function (e) {
            if (onSuccess) {
                var data = reader.result;
                var fileResult = new __WEBPACK_IMPORTED_MODULE_0__entities_fileData__["a" /* FileData */]();
                fileResult.result = reader.result;
                fileResult.fileName = file.name;
                onSuccess.call(fileResult);
            }
        };
        reader.onerror = function (e) {
            if (onerror)
                onError.call(e.message);
        };
        //start reading
        if (readType == 1)
            reader.readAsArrayBuffer(file);
        if (readType == 2)
            reader.readAsDataURL(file);
    };
    return ReadFileOrUrl;
}());



/***/ }),

/***/ "../../../../../src/app/lib/utility.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Utility; });
var Utility = /** @class */ (function () {
    function Utility() {
    }
    /**
     * creates an uuid string
     */
    Utility.uuid = function () {
        Utility.counter++;
        return "pe" + Utility.counter.toString();
    };
    Utility.guid = function () {
        return 'PE' + 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {
            var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);
            return v.toString(16);
        }).replace('-', '');
    };
    Utility.counter = 0;
    return Utility;
}());



/***/ }),

/***/ "../../../../../src/app/models/photoedit/history/history.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return History; });
var History = /** @class */ (function () {
    function History() {
    }
    History.create = function () {
        return new History();
    };
    History.prototype.dispose = function () {
        if (this._disposecallback) {
            this._disposecallback.call(undefined);
        }
    };
    History.prototype.setUndo = function (callback) {
        this._undocallback = callback;
        return this;
    };
    History.prototype.setRedo = function (callback) {
        this._redocallback = callback;
        return this;
    };
    History.prototype.setDispose = function (callback) {
        this._disposecallback = callback;
        return this;
    };
    History.prototype.undo = function () {
        if (this._undocallback) {
            this._undocallback.call(undefined);
        }
    };
    History.prototype.redo = function () {
        if (this._redocallback) {
            this._redocallback.call(undefined);
        }
    };
    return History;
}());



/***/ }),

/***/ "../../../../../src/app/models/photoedit/history/historyManager.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return HistoryManager; });
var HistoryManager = /** @class */ (function () {
    function HistoryManager() {
        this._state = -1;
        this._histories = new Array();
        this._state = -1;
    }
    HistoryManager.prototype.add = function (state, redoCallback) {
        //console.log("adding history "+this._state);
        var spliced = this._histories.splice(this._state + 1);
        spliced.forEach(function (item) { return item.dispose(); });
        if (this._histories.length >= 1)
            this._histories[this._histories.length - 1].setRedo(redoCallback);
        this._histories.push(state);
        this._state = this._histories.length - 1;
        //console.log("added history "+this._histories.length);
    };
    Object.defineProperty(HistoryManager.prototype, "canRedo", {
        get: function () {
            return this._state >= 0 && this._state < this._histories.length - 1;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(HistoryManager.prototype, "canUndo", {
        get: function () {
            return this._state > 0 && this._state < this._histories.length;
        },
        enumerable: true,
        configurable: true
    });
    HistoryManager.prototype.undo = function () {
        if (this.canUndo) {
            //console.log("Undo before:"+this._state);
            this._histories[this._state].undo();
            this._state--;
            if (this._state < 0)
                this._state = 0;
            //console.log("Undo after:"+this._state);
        }
    };
    HistoryManager.prototype.redo = function () {
        if (this.canRedo) {
            // console.log("Redo before:"+this._state);
            this._histories[this._state].redo();
            this._state++;
            if (this._state >= this._histories.length)
                this._state = this._histories.length - 1;
            // console.log("Redo after:"+this._state);
        }
    };
    return HistoryManager;
}());



/***/ }),

/***/ "../../../../../src/app/models/photoedit/iworkspace.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return WorkModes; });
var WorkModes = /** @class */ (function () {
    function WorkModes() {
    }
    WorkModes.Default = 1;
    WorkModes.Selection = 3;
    WorkModes.ResizeWorkspace = 4;
    WorkModes.AddTextLayer = 5;
    WorkModes.Crop = 7;
    WorkModes.ColorPicker = 12;
    WorkModes.Brush = 13;
    WorkModes.Erase = 14;
    WorkModes.Hand = 15;
    WorkModes.Bucket = 16;
    WorkModes.MagicWand = 17;
    WorkModes.Gradient = 19;
    WorkModes.Shapes = 21;
    return WorkModes;
}());



/***/ }),

/***/ "../../../../../src/app/models/photoedit/layer.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Layer; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__lib_draw_point__ = __webpack_require__("../../../../../src/app/lib/draw/point.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__lib_callback__ = __webpack_require__("../../../../../src/app/lib/callback.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__surface__ = __webpack_require__("../../../../../src/app/models/photoedit/surface.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__lib_draw_rect__ = __webpack_require__("../../../../../src/app/lib/draw/rect.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__lib_rotationHelper__ = __webpack_require__("../../../../../src/app/models/photoedit/lib/rotationHelper.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__lib_utility__ = __webpack_require__("../../../../../src/app/lib/utility.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__lib_hMath__ = __webpack_require__("../../../../../src/app/lib/hMath.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();







var Layer = /** @class */ (function (_super) {
    __extends(Layer, _super);
    function Layer(name) {
        var _this = _super.call(this) || this;
        _this._blendMode = "normal";
        if (name)
            _this._name = name.replace(/[\(\)]/g, '_').substring(0, 10);
        else
            _this._name = 'layer';
        _this.isHidden = false;
        _this._mouseDownPoint = new MouseDownPoint();
        _this.showSelected = true;
        _this.canResizeOrRotate = true;
        _this._cssNotSelectedClass = { clayerEmpty: true };
        _this._cssSelectedClass = { clayerSelected: true };
        _this._uuid = __WEBPACK_IMPORTED_MODULE_5__lib_utility__["a" /* Utility */].uuid();
        _this.whenCreatedGraphicsAgain = __WEBPACK_IMPORTED_MODULE_1__lib_callback__["a" /* Callback */].from(function () {
            _this.render();
        });
        return _this;
    }
    Layer.prototype.clone = function () {
        var instance = _super.prototype.clone.call(this);
        // instance.graphics=this.graphics;    
        instance._name = this._name;
        instance._blendMode = this._blendMode;
        instance._mouseDownPoint = this._mouseDownPoint;
        instance._uuid = this._uuid;
        instance.canResizeOrRotate = this.canResizeOrRotate;
        instance.canRotate = this.canRotate;
        instance.isHidden = this.isHidden;
        instance.showSelected = this.showSelected;
        // instance.htmlElement=this.htmlElement;
        this._cssNotSelectedClass = { clayerEmpty: this._cssNotSelectedClass.clayerEmpty };
        this._cssSelectedClass = { clayerSelected: this._cssSelectedClass.clayerSelected };
        return instance;
    };
    Object.defineProperty(Layer.prototype, "uuid", {
        get: function () {
            return this._uuid;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * if you need realy set uuid, use this
     * @param val
     */
    Layer.prototype.setuuid = function (val) {
        this._uuid = val;
    };
    Object.defineProperty(Layer.prototype, "classes", {
        get: function () {
            if (this.isSelected)
                return this._cssSelectedClass;
            return this._cssNotSelectedClass;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Layer.prototype, "name", {
        get: function () {
            return this._name;
        },
        set: function (val) {
            this._name = val;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Layer.prototype, "blendMode", {
        get: function () {
            return this._blendMode;
        },
        set: function (val) {
            this._blendMode = val;
        },
        enumerable: true,
        configurable: true
    });
    Layer.prototype.invalidate = function (callback) {
        var _this = this;
        this.whenCreatedGraphicsAgain = __WEBPACK_IMPORTED_MODULE_1__lib_callback__["a" /* Callback */].from(function () {
            //  debugger;
            _this.render();
            if (callback)
                callback.call(undefined);
        });
        this.createAgain = true;
    };
    Layer.prototype.exportToURI = function (format) {
        if (format === void 0) { format = 'image/jpg'; }
        return this.graphics.exportToURI(format);
    };
    Layer.prototype.mouseDown = function (event, scroll) {
        //this.isSelected = true;
        this.isMouseDown = true;
    };
    Layer.prototype.mouseDownSelectedPoint = function (event, corner) {
        this._mouseDownPoint.allFalse();
        this.isMouseDown = true;
        switch (corner) {
            //starts from left and rotates clock wise
            case 1:
                this._mouseDownPoint.isLeft = true;
                break;
            case 2:
                this._mouseDownPoint.isTopLeft = true;
                break;
            case 3:
                this._mouseDownPoint.isTop = true;
                break;
            case 4:
                this._mouseDownPoint.isTopRight = true;
                break;
            case 5:
                this._mouseDownPoint.isRight = true;
                break;
            case 6:
                this._mouseDownPoint.isBottomRight = true;
                break;
            case 7:
                this._mouseDownPoint.isBottom = true;
                break;
            case 8:
                this._mouseDownPoint.isBottomLeft = true;
                break;
            case 9:
                this._mouseDownPoint.isRotate = true;
                break;
            default: break;
        }
        event.preventDefault();
    };
    Layer.prototype.mouseMove = function (event, scroll) {
        var _this = this;
        if (!this.isSelected)
            return;
        if (this._mouseDownPoint.isLeft && this.isMouseDown) {
            var move = __WEBPACK_IMPORTED_MODULE_4__lib_rotationHelper__["a" /* RotationHelper */].calculateRotationMoveLeft(event, this);
            this.calculateBy(move.width, move.height, move.left, move.top, move.maskLeft, move.maskTop, __WEBPACK_IMPORTED_MODULE_1__lib_callback__["a" /* Callback */].from(function () { return _this.render(); }));
        }
        else if (this._mouseDownPoint.isTop && this.isMouseDown) {
            var move = __WEBPACK_IMPORTED_MODULE_4__lib_rotationHelper__["a" /* RotationHelper */].calculateRotationMoveTop(event, this);
            this.calculateBy(move.width, move.height, move.left, move.top, move.maskLeft, move.maskTop, __WEBPACK_IMPORTED_MODULE_1__lib_callback__["a" /* Callback */].from(function () { return _this.render(); }));
        }
        else if (this._mouseDownPoint.isRight && this.isMouseDown) {
            var move = __WEBPACK_IMPORTED_MODULE_4__lib_rotationHelper__["a" /* RotationHelper */].calculateRotationMoveRight(event, this);
            this.calculateBy(move.width, move.height, move.left, move.top, move.maskLeft, move.maskTop, __WEBPACK_IMPORTED_MODULE_1__lib_callback__["a" /* Callback */].from(function () { return _this.render(); }));
        }
        else if (this._mouseDownPoint.isBottom && this.isMouseDown) {
            var move = __WEBPACK_IMPORTED_MODULE_4__lib_rotationHelper__["a" /* RotationHelper */].calculateRotationMoveBottom(event, this);
            this.calculateBy(move.width, move.height, move.left, move.top, move.maskLeft, move.maskTop, __WEBPACK_IMPORTED_MODULE_1__lib_callback__["a" /* Callback */].from(function () { return _this.render(); }));
        }
        else if (this._mouseDownPoint.isRotate && this.isMouseDown) {
            var currentangle = this.rotateAngleDeg;
            var move = event.movementX;
            currentangle += move / 2;
            if (currentangle > 180)
                currentangle = 180;
            if (currentangle < -180)
                currentangle = -180;
            this.rotateAngleDeg = currentangle;
        }
        else if (this.isSelected && this.isMouseDown) {
            this.marginLeft += event.movementX / this.scale;
            this.marginTop += event.movementY / this.scale;
            // console.log(this.marginLeft,this.marginTop,this.width,this.height);
        }
        event.preventDefault();
    };
    Layer.prototype.mouseUp = function (event, scroll) {
        //console.log(this.name + " mouseup");
        this._mouseDownPoint.allFalse();
        this.isMouseDown = false;
        event.preventDefault();
    };
    Layer.prototype.doubleClick = function (event, scroll) {
    };
    Layer.prototype.hitMouseEvent = function (event, scroll) {
        if (this.htmlElement) {
            var rc = this.htmlElement.nativeElement.getBoundingClientRect();
            var rcrect = new __WEBPACK_IMPORTED_MODULE_3__lib_draw_rect__["a" /* Rect */](rc.left, rc.top, rc.width, rc.height);
            var evpoint = new __WEBPACK_IMPORTED_MODULE_0__lib_draw_point__["a" /* Point */](event.clientX, event.clientY);
            var rcscaledRect = new __WEBPACK_IMPORTED_MODULE_3__lib_draw_rect__["a" /* Rect */](rc.left / this.scale, rc.top / this.scale, rc.width / this.scale, rc.height / this.scale);
            var point = new __WEBPACK_IMPORTED_MODULE_0__lib_draw_point__["a" /* Point */]((evpoint.x - rcrect.x) / this.scale, (evpoint.y - rcrect.y) / this.scale);
            if (this.rotateAngleDeg != 0) {
                var temp = new __WEBPACK_IMPORTED_MODULE_0__lib_draw_point__["a" /* Point */](point.x, point.y);
                var rotated = __WEBPACK_IMPORTED_MODULE_6__lib_hMath__["a" /* HMath */].rotatePoint(temp, -this.rotateAngleDeg, new __WEBPACK_IMPORTED_MODULE_0__lib_draw_point__["a" /* Point */](rcscaledRect.width / 2, rcscaledRect.height / 2));
                // let rotatedRect=HMath.rotateRect(rcscaledRect,-this.rotateAngleDeg);
                point = new __WEBPACK_IMPORTED_MODULE_0__lib_draw_point__["a" /* Point */](rotated.x - (rcscaledRect.width - this.width) / 2, rotated.y - (rcscaledRect.height - this.height) / 2);
            }
            point = new __WEBPACK_IMPORTED_MODULE_0__lib_draw_point__["a" /* Point */](point.x.extToInt32(), point.y.extToInt32());
            if (point.x >= 0 && point.y >= 0 && point.x <= this.width && point.y <= this.height) {
                return point;
            }
        }
        return undefined;
    };
    Layer.prototype.normalizeMouseEvent = function (event, scroll, makeNormalize) {
        if (makeNormalize === void 0) { makeNormalize = true; }
        if (this.htmlElement) {
            var rc = this.htmlElement.nativeElement.getBoundingClientRect();
            var rcrect = new __WEBPACK_IMPORTED_MODULE_3__lib_draw_rect__["a" /* Rect */](rc.left, rc.top, rc.width, rc.height);
            var evpoint = new __WEBPACK_IMPORTED_MODULE_0__lib_draw_point__["a" /* Point */](event.clientX, event.clientY);
            var rcscaledRect = new __WEBPACK_IMPORTED_MODULE_3__lib_draw_rect__["a" /* Rect */](rc.left / this.scale, rc.top / this.scale, rc.width / this.scale, rc.height / this.scale);
            var point = new __WEBPACK_IMPORTED_MODULE_0__lib_draw_point__["a" /* Point */]((evpoint.x - rcrect.x) / this.scale, (evpoint.y - rcrect.y) / this.scale);
            if (this.rotateAngleDeg != 0) {
                var temp = new __WEBPACK_IMPORTED_MODULE_0__lib_draw_point__["a" /* Point */](point.x, point.y);
                var rotated = __WEBPACK_IMPORTED_MODULE_6__lib_hMath__["a" /* HMath */].rotatePoint(temp, -this.rotateAngleDeg, new __WEBPACK_IMPORTED_MODULE_0__lib_draw_point__["a" /* Point */](rcscaledRect.width / 2, rcscaledRect.height / 2));
                // let rotatedRect=HMath.rotateRect(rcscaledRect,-this.rotateAngleDeg);
                point = new __WEBPACK_IMPORTED_MODULE_0__lib_draw_point__["a" /* Point */](rotated.x - (rcscaledRect.width - this.width) / 2, rotated.y - (rcscaledRect.height - this.height) / 2);
            }
            point = new __WEBPACK_IMPORTED_MODULE_0__lib_draw_point__["a" /* Point */](point.x.extToInt32(), point.y.extToInt32());
            if (makeNormalize) {
                if (point.x < 0)
                    point.x = 0;
                if (point.y < 0)
                    point.y = 0;
                if (point.x > this.width)
                    point.x = this.width;
                if (point.y > this.height)
                    point.y = this.height;
            }
            //console.log(point.x,point.y);
            return point;
        }
        return undefined;
    };
    return Layer;
}(__WEBPACK_IMPORTED_MODULE_2__surface__["a" /* SurfaceCanvas */]));

/**mouse down point holder for resizing, rotating */
var MouseDownPoint = /** @class */ (function () {
    function MouseDownPoint() {
        this.allFalse();
    }
    MouseDownPoint.prototype.allFalse = function () {
        this.isLeft = false;
        this.isTopLeft = false;
        this.isBottom = false;
        this.isBottomLeft = false;
        this.isBottomRight = false;
        this.isRight = false;
        this.isTop = false;
        this.isTopRight = false;
        this.isRotate = false;
    };
    return MouseDownPoint;
}());


/***/ }),

/***/ "../../../../../src/app/models/photoedit/layerBackground.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LayerBackground; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__layer__ = __webpack_require__("../../../../../src/app/models/photoedit/layer.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__lib_draw_rect__ = __webpack_require__("../../../../../src/app/lib/draw/rect.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();


var LayerBackground = /** @class */ (function (_super) {
    __extends(LayerBackground, _super);
    function LayerBackground(name) {
        var _this = _super.call(this, name) || this;
        _this.lastScaleValue = 0;
        _this.canRotate = false;
        _this.patternsIndex = -1;
        _this.patterns = [];
        _this.patterns.push([255, 255, 255, 255, 180, 180, 180, 255]);
        _this.patterns.push([0, 0, 0, 255, 100, 100, 100, 255]);
        _this.patterns.push([0, 255, 255, 255, 255, 51, 204, 255]);
        _this.patterns.push([0, 102, 0, 255, 255, 153, 0, 255]);
        _this.patterns.push([255, 255, 204, 255, 50, 50, 150, 255]);
        _this.patterns.push([150, 50, 0, 255, 100, 150, 150, 255]);
        _this.patterns.push([200, 150, 255, 255, 0, 100, 0, 255]);
        return _this;
    }
    LayerBackground.prototype.createInstanceForClone = function () {
        return new LayerBackground(this.name);
    };
    LayerBackground.prototype.createPattern = function (graphics, changePattern) {
        var _this = this;
        if (changePattern === void 0) { changePattern = false; }
        if (changePattern || !this.pattern)
            this.patternsIndex++;
        if (this.patternsIndex >= this.patterns.length)
            this.patternsIndex = 0;
        var p = this.patterns[this.patternsIndex];
        var a = [p[0], p[1], p[2], p[3]];
        var b = [p[4], p[5], p[6], p[7]];
        var array = [];
        this.lastScaleValue = this.scale;
        var count = Math.round((this.scale < 5 ? (5 - this.scale) : 0) + 1);
        for (var xt = 0; xt < count; ++xt) {
            for (var x = 0; x < count; ++x) {
                a.forEach(function (item) { return array.push(item); });
            }
            for (var x = 0; x < count; ++x) {
                b.forEach(function (item) { return array.push(item); });
            }
        }
        for (var xt = 0; xt < count; ++xt) {
            for (var x = 0; x < count; ++x) {
                b.forEach(function (item) { return array.push(item); });
            }
            for (var x = 0; x < count; ++x) {
                a.forEach(function (item) { return array.push(item); });
            }
        }
        var data = new Uint8ClampedArray(array);
        var imageData = new ImageData(data, Math.sqrt(array.length / 4), Math.sqrt(array.length / 4));
        window.createImageBitmap(imageData).then(function (bitmap) {
            _this.pattern = graphics.createPattern(bitmap, "");
            _this.render();
        }).catch(function (ex) {
            //TODO: exception durumu handle edilmeli
        });
        return true;
    };
    LayerBackground.prototype.changeColors = function () {
        this.createPattern(this.graphics, true);
    };
    LayerBackground.prototype.render = function () {
        if (!this.pattern) {
            this.createPattern(this.graphics);
            return;
        }
        if (this.lastScaleValue != this.scale) {
            this.createPattern(this.graphics);
            return;
        }
        this.graphics.fillRect(new __WEBPACK_IMPORTED_MODULE_1__lib_draw_rect__["a" /* Rect */](0, 0, this.width, this.height), this.pattern);
    };
    LayerBackground.prototype.dispose = function () {
        if (this.graphics)
            this.graphics.dispose();
    };
    return LayerBackground;
}(__WEBPACK_IMPORTED_MODULE_0__layer__["a" /* Layer */]));



/***/ }),

/***/ "../../../../../src/app/models/photoedit/layerCropRectangle.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LayerCropRectangle; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__lib_helper__ = __webpack_require__("../../../../../src/app/models/photoedit/lib/helper.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__layer__ = __webpack_require__("../../../../../src/app/models/photoedit/layer.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__lib_callback__ = __webpack_require__("../../../../../src/app/lib/callback.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__lib_draw_rect__ = __webpack_require__("../../../../../src/app/lib/draw/rect.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__lib_draw_point__ = __webpack_require__("../../../../../src/app/lib/draw/point.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();





var LayerCropRectangle = /** @class */ (function (_super) {
    __extends(LayerCropRectangle, _super);
    function LayerCropRectangle(width, height, left, top) {
        var _this = _super.call(this, "crop layer") || this;
        _this.strokeStyle = "#FFF";
        _this.frameCounter = 0;
        _this.fillStyle = "rgba(" + 10 + "," + 10 + "," + 50 + "," + (100 / 255) + ")";
        _this.keepRatio = false;
        _this.width = width;
        _this.height = height;
        _this.marginLeft = left;
        _this.marginTop = top;
        _this.isSelected = true;
        _this.mouseDownPoint = new __WEBPACK_IMPORTED_MODULE_4__lib_draw_point__["a" /* Point */](left, top);
        _this.canRotate = false;
        _this.isFinishedContructing = false;
        __WEBPACK_IMPORTED_MODULE_0__lib_helper__["a" /* Helper */].createStrokeStyle(_this.graphics, function (bitmap) {
            var gradient = _this.graphics.createPattern(bitmap, "");
            _this.strokeStyle = gradient;
        });
        return _this;
    }
    Object.defineProperty(LayerCropRectangle.prototype, "classes", {
        get: function () {
            return { clayerEmpty: true };
        },
        enumerable: true,
        configurable: true
    });
    LayerCropRectangle.prototype.mouseDown = function (event, scroll) {
        _super.prototype.mouseDown.call(this, event, scroll);
    };
    LayerCropRectangle.prototype.mouseMove = function (event, scroll) {
        var _this = this;
        if (this.isFinishedContructing) {
            _super.prototype.mouseMove.call(this, event, scroll);
        }
        else if (this.isSelected && this.isMouseDown) {
            //burası eksi değer için configure edilecek       
            this.calculateBy(event.movementX / this.scale, event.movementY / this.scale, 0, 0, 0, 0, __WEBPACK_IMPORTED_MODULE_2__lib_callback__["a" /* Callback */].from(function () {
                _this.render();
            }));
        }
    };
    LayerCropRectangle.prototype.mouseDownSelectedPoint = function (event, corner) {
        _super.prototype.mouseDownSelectedPoint.call(this, event, corner);
        this.stopAnimation();
    };
    LayerCropRectangle.prototype.mouseUp = function (event, scroll) {
        _super.prototype.mouseUp.call(this, event, scroll);
        this.isFinishedContructing = true;
        this.startAnimation();
    };
    LayerCropRectangle.prototype.startAnimation = function () {
        var _this = this;
        if (!this.animation)
            this.animation = window.requestAnimationFrame(function () { return _this.renderAnimation(); });
    };
    LayerCropRectangle.prototype.stopAnimation = function () {
        if (this.animation)
            window.cancelAnimationFrame(this.animation);
        this.animation = undefined;
    };
    LayerCropRectangle.prototype.render = function () {
        this.graphics.save();
        var rect = new __WEBPACK_IMPORTED_MODULE_3__lib_draw_rect__["a" /* Rect */](0, 0, this.width, this.height);
        this.graphics.clearRect(rect);
        this.graphics.lineWidth(3);
        this.graphics.fillRect(rect, this.fillStyle);
        this.graphics.drawRect(rect, this.strokeStyle);
        this.graphics.restore();
    };
    LayerCropRectangle.prototype.renderAnimation = function () {
        if (this.graphics) {
            this.graphics.save();
            var rect = new __WEBPACK_IMPORTED_MODULE_3__lib_draw_rect__["a" /* Rect */](0, 0, this.width, this.height);
            this.graphics.clearRect(rect);
            this.graphics.beginPath();
            var splitSize = 5;
            var totalParts = Math.ceil(this.width / splitSize) * 2 + Math.ceil(this.height / splitSize) * 2;
            var lh = 4; //linewidth
            this.frameCounter++;
            var dividen = this.frameCounter % totalParts;
            for (var x = 0; x < totalParts; x += 1) {
                if ((x + dividen) % 2 == 0) {
                    if (x * splitSize < this.width)
                        this.graphics.drawLine(x * splitSize, 0, x * splitSize + splitSize, 0, lh, this.strokeStyle);
                    else if (x * splitSize < this.width + this.height)
                        this.graphics.drawLine(this.width, x * splitSize - this.width, this.width, x * splitSize + splitSize - this.width, lh, this.strokeStyle);
                    else if (x * splitSize < this.width + this.height + this.width)
                        this.graphics.drawLine(this.width + this.height + this.width - x * splitSize, this.height, this.width + this.height + this.width - x * splitSize + splitSize, this.height, lh, this.strokeStyle);
                    else
                        this.graphics.drawLine(0, this.width + this.height + this.width + this.height - x * splitSize, 0, this.width + this.height + this.width + this.height - x * splitSize + splitSize, lh, this.strokeStyle);
                }
            }
            this.graphics.restore();
        }
        this.scheduleAnimation();
    };
    LayerCropRectangle.prototype.scheduleAnimation = function () {
        var _this = this;
        setTimeout(function () {
            if (_this.animation)
                _this.animation = window.requestAnimationFrame(function () { return _this.renderAnimation(); });
        }, 1000 / 3);
    };
    LayerCropRectangle.prototype.dispose = function () {
        this.stopAnimation();
    };
    LayerCropRectangle.prototype.selectedCss = function () {
        var classes = {
            divSelectedLayer: false,
            divCropLayer: true,
        };
        return classes;
    };
    return LayerCropRectangle;
}(__WEBPACK_IMPORTED_MODULE_1__layer__["a" /* Layer */]));



/***/ }),

/***/ "../../../../../src/app/models/photoedit/layerEmpty.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LayerEmpty; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__layer__ = __webpack_require__("../../../../../src/app/models/photoedit/layer.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var LayerEmpty = /** @class */ (function (_super) {
    __extends(LayerEmpty, _super);
    function LayerEmpty(name, width, height) {
        var _this = _super.call(this, name) || this;
        if (width)
            _this.width = width;
        if (height)
            _this.height = height;
        _this.canRotate = false;
        return _this;
    }
    LayerEmpty.prototype.createInstanceForClone = function () {
        return new LayerEmpty(this.name, this.width, this.height);
    };
    LayerEmpty.prototype.render = function () {
    };
    LayerEmpty.prototype.dispose = function () {
    };
    return LayerEmpty;
}(__WEBPACK_IMPORTED_MODULE_0__layer__["a" /* Layer */]));



/***/ }),

/***/ "../../../../../src/app/models/photoedit/layerGraphics.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LayerGraphics; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__layer__ = __webpack_require__("../../../../../src/app/models/photoedit/layer.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var LayerGraphics = /** @class */ (function (_super) {
    __extends(LayerGraphics, _super);
    function LayerGraphics(name, width, height) {
        var _this = _super.call(this, name) || this;
        if (width)
            _this.width = width;
        if (height)
            _this.height = height;
        _this.canRotate = false;
        return _this;
    }
    LayerGraphics.prototype.clone = function () {
        var instance = _super.prototype.clone.call(this);
        instance._backgroundPattern = this._backgroundPattern;
        instance._foregroundPattern = this._foregroundPattern;
        return instance;
    };
    LayerGraphics.prototype.createInstanceForClone = function () {
        return new LayerGraphics(this.name, this.width, this.height);
    };
    Object.defineProperty(LayerGraphics.prototype, "backgroundPattern", {
        get: function () {
            return this._backgroundPattern;
        },
        set: function (val) {
            this._backgroundPattern = val;
            this.render();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(LayerGraphics.prototype, "foregroundPattern", {
        get: function () {
            return this._foregroundPattern;
        },
        set: function (val) {
            this._foregroundPattern = val;
            this.render();
        },
        enumerable: true,
        configurable: true
    });
    LayerGraphics.prototype.render = function () {
    };
    LayerGraphics.prototype.dispose = function () {
    };
    return LayerGraphics;
}(__WEBPACK_IMPORTED_MODULE_0__layer__["a" /* Layer */]));



/***/ }),

/***/ "../../../../../src/app/models/photoedit/layerHtmlImage.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LayerHtmlImage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__layer__ = __webpack_require__("../../../../../src/app/models/photoedit/layer.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__lib_draw_rect__ = __webpack_require__("../../../../../src/app/lib/draw/rect.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__layerImage__ = __webpack_require__("../../../../../src/app/models/photoedit/layerImage.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();



var LayerHtmlImage = /** @class */ (function (_super) {
    __extends(LayerHtmlImage, _super);
    function LayerHtmlImage(img, name) {
        var _this = _super.call(this, name) || this;
        _this.width = img.width;
        _this.height = img.height;
        _this.canRotate = true;
        _this.img = img;
        return _this;
    }
    LayerHtmlImage.prototype.createInstanceForClone = function () {
        if (this.graphics)
            return new __WEBPACK_IMPORTED_MODULE_2__layerImage__["a" /* LayerImage */](this.getImage(), this.name);
        return new LayerHtmlImage(this.img.cloneNode(), this.name);
    };
    LayerHtmlImage.prototype.render = function () {
        this.graphics.save();
        this.graphics.clearRect(new __WEBPACK_IMPORTED_MODULE_1__lib_draw_rect__["a" /* Rect */](0, 0, this.width, this.height));
        this.graphics.setGlobalAlpha(this.globalAlpha);
        this.graphics.drawHtmlImageRect(this.img, new __WEBPACK_IMPORTED_MODULE_1__lib_draw_rect__["a" /* Rect */](0, 0, this.img.naturalWidth, this.img.naturalHeight), new __WEBPACK_IMPORTED_MODULE_1__lib_draw_rect__["a" /* Rect */](0, 0, this.width, this.height));
        this.graphics.restore();
    };
    LayerHtmlImage.prototype.dispose = function () {
    };
    return LayerHtmlImage;
}(__WEBPACK_IMPORTED_MODULE_0__layer__["a" /* Layer */]));



/***/ }),

/***/ "../../../../../src/app/models/photoedit/layerImage.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LayerImage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__lib_imagealgorithm_imageAlgorithmClone__ = __webpack_require__("../../../../../src/app/lib/imagealgorithm/imageAlgorithmClone.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__lib_callback__ = __webpack_require__("../../../../../src/app/lib/callback.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__layer__ = __webpack_require__("../../../../../src/app/models/photoedit/layer.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__lib_draw_rect__ = __webpack_require__("../../../../../src/app/lib/draw/rect.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();




var LayerImage = /** @class */ (function (_super) {
    __extends(LayerImage, _super);
    function LayerImage(img, name, uuid) {
        var _this = _super.call(this, name) || this;
        _this.width = img.width;
        _this.height = img.height;
        _this.canRotate = true;
        _this.img = img;
        if (uuid)
            _this.setuuid(uuid);
        return _this;
    }
    Object.defineProperty(LayerImage.prototype, "hImage", {
        /**
         * for testing purpose
         */
        get: function () {
            return this.img;
        },
        enumerable: true,
        configurable: true
    });
    LayerImage.prototype.createInstanceForClone = function () {
        if (this.graphics) {
            return new LayerImage(this.graphics.getImage(), this.name);
        }
        var cloner = new __WEBPACK_IMPORTED_MODULE_0__lib_imagealgorithm_imageAlgorithmClone__["a" /* ImageAlgorithmClone */]();
        var clonedImg = cloner.process(this.img);
        return new LayerImage(clonedImg, this.name);
    };
    LayerImage.prototype.render = function () {
        var _this = this;
        this.graphics.save();
        this.graphics.clearRect(new __WEBPACK_IMPORTED_MODULE_3__lib_draw_rect__["a" /* Rect */](0, 0, this.width, this.height));
        this.graphics.drawImageRect(this.img, new __WEBPACK_IMPORTED_MODULE_3__lib_draw_rect__["a" /* Rect */](0, 0, this.img.width, this.img.height), new __WEBPACK_IMPORTED_MODULE_3__lib_draw_rect__["a" /* Rect */](0, 0, this.width, this.height), __WEBPACK_IMPORTED_MODULE_1__lib_callback__["a" /* Callback */].from(function () { return _this.graphics.restore(); }));
        //this.graphics.putImage2(this.img);
    };
    LayerImage.prototype.dispose = function () {
        if (this.graphics)
            this.graphics.dispose();
    };
    return LayerImage;
}(__WEBPACK_IMPORTED_MODULE_2__layer__["a" /* Layer */]));



/***/ }),

/***/ "../../../../../src/app/models/photoedit/layerImageEffect.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LayerImageEffect; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__layerImage__ = __webpack_require__("../../../../../src/app/models/photoedit/layerImage.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__lib_imagealgorithm_imageAlgorithmClone__ = __webpack_require__("../../../../../src/app/lib/imagealgorithm/imageAlgorithmClone.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();


var LayerImageEffect = /** @class */ (function (_super) {
    __extends(LayerImageEffect, _super);
    function LayerImageEffect(img, name) {
        var _this = _super.call(this, img, name) || this;
        _this.width = img.width;
        _this.height = img.height;
        _this.canRotate = true;
        return _this;
        /*   let cloner= new ImageAlgorithmClone();
          this._orgImage=cloner.process(img); */
    }
    LayerImageEffect.prototype.dispose = function () {
    };
    LayerImageEffect.prototype.setImg = function (img) {
        this.img = img;
        this.width = img.width;
        this.height = img.height;
        this.render();
    };
    LayerImageEffect.prototype.setOrgImage = function (img) {
        this._orgImage = img;
    };
    LayerImageEffect.prototype.getOriginalImage = function () {
        var cloner = new __WEBPACK_IMPORTED_MODULE_1__lib_imagealgorithm_imageAlgorithmClone__["a" /* ImageAlgorithmClone */]();
        var cloned = cloner.process(this._orgImage);
        return cloned;
    };
    return LayerImageEffect;
}(__WEBPACK_IMPORTED_MODULE_0__layerImage__["a" /* LayerImage */]));



/***/ }),

/***/ "../../../../../src/app/models/photoedit/layerSelect.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LayerSelect; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__lib_imageprocess_imageProcessSimilarColors__ = __webpack_require__("../../../../../src/app/lib/imageprocess/imageProcessSimilarColors.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__lib_hMath__ = __webpack_require__("../../../../../src/app/lib/hMath.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__lib_draw_rect__ = __webpack_require__("../../../../../src/app/lib/draw/rect.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__lib_draw_polygon__ = __webpack_require__("../../../../../src/app/lib/draw/polygon.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__layer__ = __webpack_require__("../../../../../src/app/models/photoedit/layer.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__lib_draw_point__ = __webpack_require__("../../../../../src/app/lib/draw/point.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__lib_helper__ = __webpack_require__("../../../../../src/app/models/photoedit/lib/helper.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();







var Shape = /** @class */ (function () {
    //todo: buradaki selectedlayer'a gerekyok
    function Shape(graphics, selectedLayer) {
        var _this = this;
        this.strokeStyle = "#FFF";
        this.fillStyle = "rgba(" + 10 + "," + 10 + "," + 50 + "," + (100 / 255) + ")";
        this._selectedLayer = selectedLayer;
        __WEBPACK_IMPORTED_MODULE_6__lib_helper__["a" /* Helper */].createStrokeStyle(graphics, function (bitmap) {
            var gradient = graphics.createPattern(bitmap, "");
            _this.strokeStyle = gradient;
        });
    }
    return Shape;
}());
var ShapeRect = /** @class */ (function (_super) {
    __extends(ShapeRect, _super);
    function ShapeRect(point, graphics, selectedLayer) {
        var _this = _super.call(this, graphics, selectedLayer) || this;
        _this._isConstructing = true;
        _this._startPoint = point;
        _this._endPoint = point;
        return _this;
    }
    ShapeRect.prototype.render = function (graphics) {
        // console.log(this._selectedLayer.scale);
        var linewidth = this._selectedLayer.scale < 1 ? 1 : 1;
        graphics.lineWidth(linewidth);
        var sxmin = Math.min(this._startPoint.x, this._endPoint.x);
        var symin = Math.min(this._startPoint.y, this._endPoint.y);
        var exmax = Math.max(this._startPoint.x, this._endPoint.x);
        var eymax = Math.max(this._startPoint.y, this._endPoint.y);
        var translate = linewidth % 2 == 1 ? 0.5 : 0;
        var rect = new __WEBPACK_IMPORTED_MODULE_2__lib_draw_rect__["a" /* Rect */](sxmin + translate, symin + translate, exmax - sxmin, eymax - symin);
        //console.log(sxmin,symin,exmax-sxmin,eymax-symin, rect.toString())
        graphics.fillRect(rect, this.fillStyle);
        //graphics.strokeStyle(this.strokeStyle);
        graphics.drawRect(rect, this.strokeStyle);
        //graphics.stroke();
    };
    ShapeRect.prototype.mouseMove = function (point) {
        if (point)
            if (this._isConstructing) {
                this._endPoint = point;
                return true;
            }
        return false;
    };
    ShapeRect.prototype.mouseUp = function (point) {
        this._isConstructing = false;
        return true;
    };
    ShapeRect.prototype.mouseDown = function (point) {
        return true;
    };
    ShapeRect.prototype.doubleClick = function (point) {
        return false;
    };
    ShapeRect.prototype.toPolygon = function () {
        var sxmin = Math.min(this._startPoint.x, this._endPoint.x);
        var symin = Math.min(this._startPoint.y, this._endPoint.y);
        var exmax = Math.max(this._startPoint.x, this._endPoint.x);
        var eymax = Math.max(this._startPoint.y, this._endPoint.y);
        var rect = new __WEBPACK_IMPORTED_MODULE_2__lib_draw_rect__["a" /* Rect */](sxmin, symin, exmax - sxmin, eymax - symin);
        return __WEBPACK_IMPORTED_MODULE_1__lib_hMath__["a" /* HMath */].rectToPolygon(rect);
    };
    return ShapeRect;
}(Shape));
var ShapeEllipse = /** @class */ (function (_super) {
    __extends(ShapeEllipse, _super);
    function ShapeEllipse(point, graphics, selectedLayer) {
        var _this = _super.call(this, graphics, selectedLayer) || this;
        _this._isConstructing = true;
        _this._startPoint = point;
        _this._endPoint = point;
        return _this;
    }
    ShapeEllipse.prototype.render = function (graphics) {
        var sxmin = Math.min(this._startPoint.x, this._endPoint.x);
        var symin = Math.min(this._startPoint.y, this._endPoint.y);
        var exmax = Math.max(this._startPoint.x, this._endPoint.x);
        var eymax = Math.max(this._startPoint.y, this._endPoint.y);
        var width = exmax - sxmin;
        var height = eymax - symin;
        var centerX = width / 2 + sxmin;
        var centerY = height / 2 + symin;
        graphics.beginPath();
        var linewidth = this._selectedLayer.scale < 1 ? 1 : 1;
        graphics.lineWidth(linewidth);
        graphics.strokeStyle(this.strokeStyle);
        graphics.fillStyle(this.fillStyle);
        graphics.ellipse(centerX, centerY, width / 2, height / 2, 0, 0, 2 * Math.PI);
        graphics.fill();
        graphics.stroke();
    };
    ShapeEllipse.prototype.mouseDown = function (point) {
        return true;
    };
    ShapeEllipse.prototype.mouseMove = function (point) {
        if (point)
            if (this._isConstructing) {
                this._endPoint = point;
                return true;
            }
        return false;
    };
    ShapeEllipse.prototype.mouseUp = function (point) {
        this._isConstructing = false;
        return true;
    };
    ShapeEllipse.prototype.doubleClick = function (point) {
        return false;
    };
    ShapeEllipse.prototype.toPolygon = function () {
        var sxmin = Math.min(this._startPoint.x, this._endPoint.x);
        var symin = Math.min(this._startPoint.y, this._endPoint.y);
        var exmax = Math.max(this._startPoint.x, this._endPoint.x);
        var eymax = Math.max(this._startPoint.y, this._endPoint.y);
        var width = exmax - sxmin;
        var height = eymax - symin;
        var centerX = width / 2 + sxmin;
        var centerY = height / 2 + symin;
        var centerPoint = new __WEBPACK_IMPORTED_MODULE_5__lib_draw_point__["a" /* Point */](centerX, centerY);
        var startPoint = new __WEBPACK_IMPORTED_MODULE_5__lib_draw_point__["a" /* Point */](sxmin, symin);
        var points = [];
        for (var i = -180; i < 180; i += 1) {
            var point = new __WEBPACK_IMPORTED_MODULE_5__lib_draw_point__["a" /* Point */](centerX + width / 2 * Math.cos(i * Math.PI / 180.0), centerY + height / 2 * Math.sin(i * Math.PI / 180.0));
            points.push(point);
        }
        return new __WEBPACK_IMPORTED_MODULE_3__lib_draw_polygon__["a" /* Polygon */](points);
    };
    return ShapeEllipse;
}(Shape));
var ShapeLasso = /** @class */ (function (_super) {
    __extends(ShapeLasso, _super);
    function ShapeLasso(point, graphics, selectedLayer) {
        var _this = _super.call(this, graphics, selectedLayer) || this;
        _this._isConstructing = true;
        _this.points = [];
        if (point)
            _this.points.push(point);
        return _this;
    }
    ShapeLasso.prototype.render = function (graphics) {
        if (this.points.length > 2) {
            graphics.beginPath();
            graphics.strokeStyle(this.strokeStyle);
            graphics.fillStyle(this.fillStyle);
            var linewidth = this._selectedLayer.scale < 1 ? 1 : 1;
            graphics.lineWidth(linewidth);
            graphics.moveTo(this.points[0].x, this.points[0].y);
            var i = 1;
            for (i = 1; i < this.points.length - 2; ++i) {
                var xc = (this.points[i].x + this.points[i + 1].x) / 2;
                var yc = (this.points[i].y + this.points[i + 1].y) / 2;
                graphics.quadraticCurveTo(this.points[i].x, this.points[i].y, xc, yc);
            }
            graphics.quadraticCurveTo(this.points[i + 1].x, this.points[i + 1].y, this.points[0].x, this.points[0].y); //close curve
            graphics.closePath();
            graphics.stroke();
            graphics.fill();
        }
    };
    ShapeLasso.prototype.mouseDown = function (point) {
        return true;
    };
    ShapeLasso.prototype.mouseMove = function (point) {
        var _this = this;
        if (point)
            if (this._isConstructing) {
                this.calculateBetweenPoints(point).forEach(function (item) { return _this.points.push(item); });
                this.points.push(point);
                return true;
            }
        return false;
    };
    ShapeLasso.prototype.mouseUp = function (point) {
        var _this = this;
        this._isConstructing = false;
        if (this.points.length > 1)
            this.calculateBetweenPoints(this.points[0]).forEach(function (item) { return _this.points.push(item); });
        return true;
    };
    ShapeLasso.prototype.doubleClick = function (point) {
        return false;
    };
    ShapeLasso.prototype.toPolygon = function () {
        var points = [];
        this.points.forEach(function (item) { return points.push(new __WEBPACK_IMPORTED_MODULE_5__lib_draw_point__["a" /* Point */](item.x, item.y)); });
        return new __WEBPACK_IMPORTED_MODULE_3__lib_draw_polygon__["a" /* Polygon */](points);
    };
    ShapeLasso.prototype.calculateBetweenPoints = function (curPoint) {
        var pTemps = [];
        if (this.points.length >= 1) {
            var prevPoint = this.points[this.points.length - 1];
            while (true) {
                var d = Math.sqrt((curPoint.x - prevPoint.x) * (curPoint.x - prevPoint.x) + (curPoint.y - prevPoint.y) * (curPoint.y - prevPoint.y));
                if (d > 5) {
                    var t = 5 / d;
                    var temp = new __WEBPACK_IMPORTED_MODULE_5__lib_draw_point__["a" /* Point */]((1 - t) * prevPoint.x + t * curPoint.x, (1 - t) * prevPoint.y + t * curPoint.y);
                    pTemps.push(temp);
                    prevPoint = temp;
                }
                else
                    break;
            }
        }
        return pTemps;
    };
    return ShapeLasso;
}(Shape));
var ShapePolygon = /** @class */ (function (_super) {
    __extends(ShapePolygon, _super);
    /**
     *
     */
    function ShapePolygon(point, graphics, selectedLayer) {
        var _this = _super.call(this, point, graphics, selectedLayer) || this;
        //algorithma için bir tane fazladan ekledik
        //this.point[this.point.length-1]=point
        //mousemove için çalışsın diye
        _this.points.push(point);
        return _this;
    }
    ShapePolygon.prototype.render = function (graphics) {
        if (this.points.length > 1) {
            graphics.beginPath();
            /*  graphics.createLinearGradient(0,0,50,0);
            strokeStyle.addColorStop(0,'rgb(0,0,0)');
            strokeStyle.addColorStop(1,'rgb(255,255,255)'); */
            graphics.strokeStyle(this.strokeStyle);
            graphics.fillStyle(this.fillStyle);
            var linewidth = this._selectedLayer.scale < 1 ? 1 : 1;
            graphics.lineWidth(linewidth);
            graphics.beginPath();
            graphics.moveTo(this.points[0].x, this.points[0].y);
            var i = 1;
            for (i = 1; i < this.points.length; ++i) {
                graphics.drawLine2(this.points[i].x.extCeil(), this.points[i].y.extCeil());
            }
            graphics.closePath();
            graphics.stroke();
            graphics.fill();
        }
    };
    ShapePolygon.prototype.mouseMove = function (point) {
        if (point)
            if (this._isConstructing) {
                this.points[this.points.length - 1] = point;
                return true;
            }
        return false;
    };
    ShapePolygon.prototype.mouseDown = function (point) {
        if (!this._isConstructing) {
            this._isConstructing = true;
            this.points = [];
            this.points.push(point);
            this.points.push(point); //add twice
            return true;
        }
        return false;
    };
    ShapePolygon.prototype.mouseUp = function (point) {
        if (this.points.length > 1) {
            this.points[this.points.length - 1] = point;
            this.points.push(point);
            return false;
        }
        return true;
    };
    ShapePolygon.prototype.doubleClick = function (point) {
        if (this._isConstructing) {
            this._isConstructing = false;
            this.points[this.points.length - 1] = point;
            return true;
        }
        return false;
    };
    ShapePolygon.prototype.toPolygon = function () {
        var points = [];
        this.points.forEach(function (item) { return points.push(new __WEBPACK_IMPORTED_MODULE_5__lib_draw_point__["a" /* Point */](item.x, item.y)); });
        return new __WEBPACK_IMPORTED_MODULE_3__lib_draw_polygon__["a" /* Polygon */](points);
    };
    return ShapePolygon;
}(ShapeLasso));
/**
 * magic wand islemini bu sınıf ile yaptım
 * bu yüzden selectedlayer ihtiyacı doğru
 */
var ShapeMagicWand = /** @class */ (function (_super) {
    __extends(ShapeMagicWand, _super);
    function ShapeMagicWand(point, graphics, selectedLayer) {
        var _this = _super.call(this, graphics, selectedLayer) || this;
        _this.polygon = new __WEBPACK_IMPORTED_MODULE_3__lib_draw_polygon__["a" /* Polygon */]();
        return _this;
    }
    ShapeMagicWand.prototype.render = function (graphics) {
        if (this.polygon) {
            graphics.drawPolygon(this.polygon, true);
        }
    };
    ShapeMagicWand.prototype.mouseMove = function (point) {
        return false;
    };
    ShapeMagicWand.prototype.mouseDown = function (point) {
        var _this = this;
        var pointTemp = new __WEBPACK_IMPORTED_MODULE_5__lib_draw_point__["a" /* Point */](point.x - this._selectedLayer.marginLeft, point.y - this._selectedLayer.marginTop);
        var center = new __WEBPACK_IMPORTED_MODULE_5__lib_draw_point__["a" /* Point */](this._selectedLayer.width / 2, this._selectedLayer.height / 2);
        var rPoint = __WEBPACK_IMPORTED_MODULE_1__lib_hMath__["a" /* HMath */].rotatePoint(pointTemp, -this._selectedLayer.rotateAngleDeg, center);
        rPoint = new __WEBPACK_IMPORTED_MODULE_5__lib_draw_point__["a" /* Point */](rPoint.x.extFloor(), rPoint.y.extFloor());
        var color = this._selectedLayer.getPixel(rPoint.x, rPoint.y);
        var similarRegions = __WEBPACK_IMPORTED_MODULE_0__lib_imageprocess_imageProcessSimilarColors__["a" /* ImageProcessSimilarColors */].process(this._selectedLayer, this._selectedLayer.getImage(), color, rPoint, 4);
        if (similarRegions.length > 0) {
            var polygon = similarRegions[0];
            var rotatedPoints = polygon.points.map(function (p) {
                var rotatedP = __WEBPACK_IMPORTED_MODULE_1__lib_hMath__["a" /* HMath */].rotatePoint(p, _this._selectedLayer.rotateAngleDeg, center);
                rotatedP.x += _this._selectedLayer.marginLeft;
                rotatedP.y += _this._selectedLayer.marginTop;
                return rotatedP;
            });
            //this.polygon=similarRegions[0].translate(this._selectedLayer.marginLeft,this._selectedLayer.marginTop).hull();
            this.polygon = new __WEBPACK_IMPORTED_MODULE_3__lib_draw_polygon__["a" /* Polygon */](rotatedPoints).hull();
        }
        else
            this.polygon = new __WEBPACK_IMPORTED_MODULE_3__lib_draw_polygon__["a" /* Polygon */]();
        return true;
    };
    ShapeMagicWand.prototype.mouseUp = function (point) {
        return true;
    };
    ShapeMagicWand.prototype.doubleClick = function (point) {
        return false;
    };
    ShapeMagicWand.prototype.toPolygon = function () {
        //return this.polygon.simplify();
        return this.polygon;
    };
    return ShapeMagicWand;
}(Shape));
var LayerSelect = /** @class */ (function (_super) {
    __extends(LayerSelect, _super);
    function LayerSelect(width, height, left, top, selectedWorkspaceLayer) {
        var _this = _super.call(this, "select layer") || this;
        _this._clayerEmpty = { clayerEmpty: true };
        _this.strokeStyle = "#FFF";
        _this.fillStyle = "rgba(" + 10 + "," + 10 + "," + 50 + "," + (100 / 255) + ")";
        _this.frameCounter = 0;
        _this._blendMode = "hard-light";
        _this.keepRatio = false;
        _this.width = width;
        _this.height = height;
        _this.marginLeft = left;
        _this.marginTop = top;
        _this.isSelected = true;
        _this.showSelected = false;
        _this.canRotate = false;
        _this.isFinishedContructing = false;
        _this._polygons = [];
        _this._clipMode = LayerSelect.ClipSelf;
        _this._selectedWorkspaceLayer = selectedWorkspaceLayer;
        __WEBPACK_IMPORTED_MODULE_6__lib_helper__["a" /* Helper */].createStrokeStyle(_this.graphics, function (bitmap) {
            _this.strokeStyle = _this.graphics.createPattern(bitmap, "repeat");
        });
        return _this;
    }
    LayerSelect.prototype.clone = function () {
        var instance = _super.prototype.clone.call(this);
        instance.shapeType = this.shapeType;
        instance.clipMode = this.clipMode;
        instance.strokeStyle = this.strokeStyle;
        this.polygons.forEach(function (item) {
            instance.polygons.push(item.clone());
        });
        return instance;
    };
    LayerSelect.prototype.createInstanceForClone = function () {
        var temp = new LayerSelect(this.width, this.height, this.marginLeft, this.marginTop, this._selectedWorkspaceLayer);
        return temp;
    };
    Object.defineProperty(LayerSelect.prototype, "polygons", {
        get: function () {
            return this._polygons;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(LayerSelect.prototype, "clipMode", {
        get: function () {
            return this._clipMode;
        },
        set: function (type) {
            this._clipMode = type;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(LayerSelect.prototype, "shapeType", {
        get: function () {
            return this._shapeType;
        },
        set: function (type) {
            this._shapeType = type;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(LayerSelect.prototype, "classes", {
        get: function () {
            return this._clayerEmpty;
        },
        enumerable: true,
        configurable: true
    });
    LayerSelect.prototype.mouseDown = function (event, scroll) {
        this.stopAnimation();
        _super.prototype.mouseDown.call(this, event, scroll);
        switch (this._shapeType) {
            case LayerSelect.SubTypeRect:
                var point = this.normalizeMouseEvent(event, scroll);
                if (point) {
                    this._shape = new ShapeRect(point, this.graphics, this._selectedWorkspaceLayer);
                }
                break;
            case LayerSelect.SubTypeEllipse:
                point = this.normalizeMouseEvent(event, scroll);
                if (point) {
                    this._shape = new ShapeEllipse(point, this.graphics, this._selectedWorkspaceLayer);
                }
                break;
            case LayerSelect.SubTypeLasso:
                point = this.normalizeMouseEvent(event, scroll);
                if (point) {
                    this._shape = new ShapeLasso(point, this.graphics, this._selectedWorkspaceLayer);
                }
                break;
            case LayerSelect.SubTypePolygon:
                point = this.normalizeMouseEvent(event, scroll);
                if (point && !(this._shape instanceof ShapePolygon)) {
                    this._shape = new ShapePolygon(point, this.graphics, this._selectedWorkspaceLayer);
                }
                else
                    this._shape.mouseDown(this.normalizeMouseEvent(event, scroll));
                break;
            case LayerSelect.SubTypeMagicWand:
                point = this.normalizeMouseEvent(event, scroll);
                if (point /* && !(this._shape instanceof ShapeMagicWand) */) {
                    this._shape = new ShapeMagicWand(point, this.graphics, this._selectedWorkspaceLayer);
                }
                this._shape.mouseDown(this.normalizeMouseEvent(event, scroll));
                break;
        }
    };
    LayerSelect.prototype.mouseMove = function (event, scroll) {
        if (this._shape) {
            if (this._shape.mouseMove(this.normalizeMouseEvent(event, scroll)))
                this.render(); //then render again
        }
    };
    LayerSelect.prototype.mouseUp = function (event, scroll) {
        _super.prototype.mouseUp.call(this, event, scroll);
        if (this._shape)
            if (this._shape.mouseUp(this.normalizeMouseEvent(event, scroll))) {
                this.preparePolygon();
                this._shape = undefined;
                this.startAnimation();
            }
    };
    LayerSelect.prototype.doubleClick = function (event, scroll) {
        this.stopAnimation();
        _super.prototype.doubleClick.call(this, event, scroll);
        if (this._shape) {
            if (this._shape.doubleClick(this.normalizeMouseEvent(event, scroll))) {
                this.preparePolygon();
                this._shape = undefined;
                this.startAnimation();
            }
        }
    };
    LayerSelect.prototype.preparePolygon = function () {
        switch (this._clipMode) {
            case LayerSelect.ClipSelf:
                this._polygons = [];
                this._polygons.push(this._shape.toPolygon());
                break;
            case LayerSelect.ClipUnion:
                if (this._polygons.length >= 1) {
                    var currentPolygon = this._polygons[0];
                    var unionPolygon = currentPolygon.union(this._shape.toPolygon());
                    this._polygons = [];
                    this._polygons.push(unionPolygon);
                }
                else
                    this._polygons.push(this._shape.toPolygon());
                break;
            case LayerSelect.ClipExclude:
                if (this._polygons.length >= 1) {
                    var currentPolygon = this._polygons[0];
                    var unionPolygon = currentPolygon.exclude(this._shape.toPolygon());
                    this._polygons = [];
                    this._polygons.push(unionPolygon);
                }
                else
                    this._polygons.push(this._shape.toPolygon());
                break;
            case LayerSelect.ClipIntersect:
                if (this._polygons.length >= 1) {
                    var currentPolygon = this._polygons[0];
                    var unionPolygon = currentPolygon.intersect(this._shape.toPolygon());
                    this._polygons = [];
                    this._polygons.push(unionPolygon);
                }
                else
                    this._polygons.push(this._shape.toPolygon());
                break;
            case LayerSelect.ClipXor:
                if (this._polygons.length >= 1) {
                    var currentPolygon = this._polygons[0];
                    var unionPolygon = currentPolygon.xor(this._shape.toPolygon());
                    this._polygons = [];
                    this._polygons.push(unionPolygon);
                }
                else
                    this._polygons.push(this._shape.toPolygon());
                break;
            default:
                break;
        }
    };
    LayerSelect.prototype.renderPolygon = function (polygon, animate) {
        var points = polygon.points;
        if (points.length > 0) {
            var linewidth = this._selectedWorkspaceLayer.scale < 1 ? 1 : 1;
            this.graphics.lineWidth(linewidth);
            this.graphics.strokeStyle(this.strokeStyle);
            if (!animate) {
                this.graphics.beginPath();
                var translate = linewidth % 2 == 1 ? 0.5 : 0;
                this.graphics.moveTo(points[0].x + translate, points[0].y + translate);
                for (var i = 1; i < points.length; ++i) {
                    this.graphics.drawLine2(points[i].x + translate, points[i].y + translate);
                }
                this.graphics.closePath();
                this.graphics.stroke();
            }
            else {
                points = __WEBPACK_IMPORTED_MODULE_1__lib_hMath__["a" /* HMath */].calculateBetweenPoints(points);
                var totalParts = points.length;
                var dividen = this.frameCounter % totalParts;
                var x = 1;
                for (x = 1; x < totalParts - 1; x += 1) {
                    if ((x + dividen) % 2 == 0) {
                        this.graphics.drawLine(points[x].x, points[x].y, points[x + 1].x, points[x + 1].y, 1, this.strokeStyle);
                    }
                }
            }
        }
    };
    LayerSelect.prototype.render = function (animate) {
        //console.log('rendering layer select');
        var _this = this;
        if (animate === void 0) { animate = false; }
        var rect = new __WEBPACK_IMPORTED_MODULE_2__lib_draw_rect__["a" /* Rect */](0, 0, this.width, this.height);
        this.graphics.clearRect(rect);
        this.graphics.beginPath();
        this._polygons.forEach(function (item) { return _this.renderPolygon(item, animate); });
        if (this._shape)
            this._shape.render(this.graphics);
        if (animate) {
            this.frameCounter++;
            this.scheduleAnimation();
        }
    };
    LayerSelect.prototype.scheduleAnimation = function () {
        var _this = this;
        setTimeout(function () {
            if (_this.animation)
                _this.animation = window.requestAnimationFrame(function () { return _this.render(true); });
        }, 1000 / 3);
    };
    LayerSelect.prototype.dispose = function () {
        this.stopAnimation();
    };
    LayerSelect.prototype.startAnimation = function () {
        /*  if (!this.animation){
        this.frameCounter=0;
        this.animation = window.requestAnimationFrame(() => this.render(true));
      }    */
        this.render();
    };
    LayerSelect.prototype.stopAnimation = function () {
        if (this.animation)
            window.cancelAnimationFrame(this.animation);
        this.animation = undefined;
    };
    LayerSelect.SubTypeRect = "rect";
    LayerSelect.SubTypeEllipse = "ellipse";
    LayerSelect.SubTypePolygon = "polygon";
    LayerSelect.SubTypeLasso = "lasso";
    LayerSelect.SubTypeMagicWand = "magicwand";
    LayerSelect.ClipSelf = "self";
    LayerSelect.ClipUnion = "union";
    LayerSelect.ClipIntersect = "intersect";
    LayerSelect.ClipExclude = "exclude";
    LayerSelect.ClipXor = "xor";
    return LayerSelect;
}(__WEBPACK_IMPORTED_MODULE_4__layer__["a" /* Layer */]));



/***/ }),

/***/ "../../../../../src/app/models/photoedit/layerSvg.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LayerSvg; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__layerGraphics__ = __webpack_require__("../../../../../src/app/models/photoedit/layerGraphics.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__lib_draw_svgShape__ = __webpack_require__("../../../../../src/app/lib/draw/svgShape.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__lib_draw_rect__ = __webpack_require__("../../../../../src/app/lib/draw/rect.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_svg_arc_to_cubic_bezier__ = __webpack_require__("../../../../svg-arc-to-cubic-bezier/modules/index.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_parse_svg_path__ = __webpack_require__("../../../../parse-svg-path/index.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_parse_svg_path___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_parse_svg_path__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_abs_svg_path__ = __webpack_require__("../../../../abs-svg-path/index.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_abs_svg_path___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_abs_svg_path__);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();






//import  * as normalizeSvg from 'normalize-svg-path';
var LayerSvg = /** @class */ (function (_super) {
    __extends(LayerSvg, _super);
    function LayerSvg(name, width, height, shape, foregroundColor, backgroundColor) {
        var _this = _super.call(this, name, width, height) || this;
        _this.shape = undefined;
        _this.parsedShape = undefined;
        _this.canRotate = true;
        _this.shape = shape;
        _this._backgroundPattern = backgroundColor;
        _this._foregroundPattern = foregroundColor;
        //this.parsedShape=svgParser.parseSVG(shape.path);
        if (shape && shape.path)
            _this.parsedShape = _this.normalize(__WEBPACK_IMPORTED_MODULE_5_abs_svg_path__(__WEBPACK_IMPORTED_MODULE_4_parse_svg_path__(shape.path)));
        return _this;
    }
    LayerSvg.prototype.clone = function () {
        var instance = _super.prototype.clone.call(this);
        instance.shape = __WEBPACK_IMPORTED_MODULE_1__lib_draw_svgShape__["a" /* SvgShape */].cloneFrom(this.shape);
        return instance;
    };
    LayerSvg.prototype.createInstanceForClone = function () {
        return new LayerSvg(this.name, this.width, this.height, __WEBPACK_IMPORTED_MODULE_1__lib_draw_svgShape__["a" /* SvgShape */].cloneFrom(this.shape), this._foregroundPattern, this._backgroundPattern);
    };
    LayerSvg.prototype.render = function () {
        var _this = this;
        if (this.shape && this.parsedShape) {
            this.graphics.save();
            var rect = new __WEBPACK_IMPORTED_MODULE_2__lib_draw_rect__["a" /* Rect */](0, 0, this.width, this.height);
            this.graphics.clearRect(rect);
            if (this._backgroundPattern)
                this.graphics.fillRect(rect, this._backgroundPattern);
            var scaleX = this.shape.viewportW / this.width;
            var scaleY = this.shape.viewportH / this.height;
            this.graphics.lineWidth(2);
            if (this._foregroundPattern)
                this.graphics.fillStyle(this._foregroundPattern);
            else
                this.graphics.fillStyle("#FFF");
            this.graphics.setScale(1 / scaleX, 1 / scaleY);
            this.parsedShape.forEach(function (p) {
                if (p[0] == 'M')
                    _this.graphics.moveTo(p[1], p[2]);
                else {
                    _this.graphics.bezierCurveTo(p[1], p[2], p[3], p[4], p[5], p[6]);
                }
            });
            this.graphics.fill();
            this.graphics.restore();
        }
    };
    LayerSvg.prototype.dispose = function () {
    };
    //burası ve aşağıdaki kod buradan https://github.com/jkroso/normalize-svg-path/blob/master/index.js
    //require dosyalarında bir problem oldu sanırım
    LayerSvg.prototype.normalize = function (path) {
        // init state
        var prev;
        var result = [];
        var bezierX = 0;
        var bezierY = 0;
        var startX = 0;
        var startY = 0;
        var quadX = null;
        var quadY = null;
        var x = 0;
        var y = 0;
        for (var i = 0, len = path.length; i < len; i++) {
            var seg = path[i];
            var command = seg[0];
            switch (command) {
                case 'M':
                    startX = seg[1];
                    startY = seg[2];
                    break;
                case 'A':
                    var curves = Object(__WEBPACK_IMPORTED_MODULE_3_svg_arc_to_cubic_bezier__["a" /* default */])({
                        px: x,
                        py: y,
                        cx: seg[6],
                        cy: seg[7],
                        rx: seg[1],
                        ry: seg[2],
                        xAxisRotation: seg[3],
                        largeArcFlag: seg[4],
                        sweepFlag: seg[5]
                    });
                    // null-curves
                    if (!curves.length)
                        continue;
                    for (var j = 0, c; j < curves.length; j++) {
                        c = curves[j];
                        seg = ['C', c.x1, c.y1, c.x2, c.y2, c.x, c.y];
                        if (j < curves.length - 1)
                            result.push(seg);
                    }
                    break;
                case 'S':
                    // default control point
                    var cx = x;
                    var cy = y;
                    if (prev == 'C' || prev == 'S') {
                        cx += cx - bezierX; // reflect the previous command's control
                        cy += cy - bezierY; // point relative to the current point
                    }
                    seg = ['C', cx, cy, seg[1], seg[2], seg[3], seg[4]];
                    break;
                case 'T':
                    if (prev == 'Q' || prev == 'T') {
                        quadX = x * 2 - quadX; // as with 'S' reflect previous control point
                        quadY = y * 2 - quadY;
                    }
                    else {
                        quadX = x;
                        quadY = y;
                    }
                    seg = this.quadratic(x, y, quadX, quadY, seg[1], seg[2]);
                    break;
                case 'Q':
                    quadX = seg[1];
                    quadY = seg[2];
                    seg = this.quadratic(x, y, seg[1], seg[2], seg[3], seg[4]);
                    break;
                case 'L':
                    seg = this.line(x, y, seg[1], seg[2]);
                    break;
                case 'H':
                    seg = this.line(x, y, seg[1], y);
                    break;
                case 'V':
                    seg = this.line(x, y, x, seg[1]);
                    break;
                case 'Z':
                    seg = this.line(x, y, startX, startY);
                    break;
            }
            // update state
            prev = command;
            x = seg[seg.length - 2];
            y = seg[seg.length - 1];
            if (seg.length > 4) {
                bezierX = seg[seg.length - 4];
                bezierY = seg[seg.length - 3];
            }
            else {
                bezierX = x;
                bezierY = y;
            }
            result.push(seg);
        }
        return result;
    };
    LayerSvg.prototype.line = function (x1, y1, x2, y2) {
        return ['C', x1, y1, x2, y2, x2, y2];
    };
    LayerSvg.prototype.quadratic = function (x1, y1, cx, cy, x2, y2) {
        return [
            'C',
            x1 / 3 + (2 / 3) * cx,
            y1 / 3 + (2 / 3) * cy,
            x2 / 3 + (2 / 3) * cx,
            y2 / 3 + (2 / 3) * cy,
            x2,
            y2
        ];
    };
    return LayerSvg;
}(__WEBPACK_IMPORTED_MODULE_0__layerGraphics__["a" /* LayerGraphics */]));



/***/ }),

/***/ "../../../../../src/app/models/photoedit/layerText.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LayerText; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__layerGraphics__ = __webpack_require__("../../../../../src/app/models/photoedit/layerGraphics.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__lib_draw_rect__ = __webpack_require__("../../../../../src/app/lib/draw/rect.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();


var LayerText = /** @class */ (function (_super) {
    __extends(LayerText, _super);
    function LayerText(text, name) {
        var _this = _super.call(this, name) || this;
        _this.width = 300;
        _this.height = 50;
        _this.canRotate = true;
        _this._text = text;
        return _this;
    }
    LayerText.prototype.createInstanceForClone = function () {
        return new LayerText(this._text.clone(), this.name);
    };
    LayerText.prototype.render = function () {
        this.graphics.save();
        //this.graphics.setGlobalAlpha(this.globalAlpha);
        this.graphics.clearRect(new __WEBPACK_IMPORTED_MODULE_1__lib_draw_rect__["a" /* Rect */](0, 0, this.width, this.height));
        if (this._backgroundPattern)
            this.graphics.fillRect(new __WEBPACK_IMPORTED_MODULE_1__lib_draw_rect__["a" /* Rect */](0, 0, this.width, this.height), this._backgroundPattern);
        this.graphics.drawString(this._text.data, this.foregroundPattern, this._text.isStroked, this._text.strokedColor, this._text.fontFamily, this._text.fontSize, this._text.isBold, this._text.isItalic, this._text.alignH, this._text.alignV);
        this.graphics.restore();
    };
    LayerText.prototype.setText = function (value) {
        if (value || value == "") {
            this._text.data = value;
            this.render();
        }
    };
    Object.defineProperty(LayerText.prototype, "text", {
        get: function () {
            return this._text.data;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(LayerText.prototype, "fontFamily", {
        get: function () {
            return this._text.fontFamily;
        },
        enumerable: true,
        configurable: true
    });
    LayerText.prototype.setFontFamily = function (val) {
        this._text.fontFamily = val;
        this.render();
    };
    Object.defineProperty(LayerText.prototype, "color", {
        get: function () {
            return this._text.color;
        },
        enumerable: true,
        configurable: true
    });
    LayerText.prototype.setColor = function (val) {
        this._text.color = val;
        this.render();
    };
    Object.defineProperty(LayerText.prototype, "strokedColor", {
        get: function () {
            return this._text.strokedColor;
        },
        enumerable: true,
        configurable: true
    });
    LayerText.prototype.setStrokedColor = function (val) {
        this._text.strokedColor = val;
        this.render();
    };
    Object.defineProperty(LayerText.prototype, "isStroked", {
        get: function () {
            return this._text.isStroked;
        },
        enumerable: true,
        configurable: true
    });
    LayerText.prototype.setIsStroked = function (val) {
        this._text.isStroked = val;
        this.render();
    };
    Object.defineProperty(LayerText.prototype, "isBold", {
        get: function () {
            return this._text.isBold;
        },
        enumerable: true,
        configurable: true
    });
    LayerText.prototype.setIsBold = function (val) {
        this._text.isBold = val;
        this.render();
    };
    Object.defineProperty(LayerText.prototype, "isItalic", {
        get: function () {
            return this._text.isItalic;
        },
        enumerable: true,
        configurable: true
    });
    LayerText.prototype.setIsItalic = function (val) {
        this._text.isItalic = val;
        this.render();
    };
    Object.defineProperty(LayerText.prototype, "fontSize", {
        get: function () {
            return this._text.fontSize;
        },
        enumerable: true,
        configurable: true
    });
    LayerText.prototype.setFontSize = function (val) {
        this._text.fontSize = val;
        this.render();
    };
    LayerText.prototype.setTextAlignH = function (value) {
        if (value || value == "") {
            this._text.alignH = value;
            this.render();
        }
    };
    Object.defineProperty(LayerText.prototype, "textAlignH", {
        get: function () {
            return this._text.alignH;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(LayerText.prototype, "textAlignV", {
        get: function () {
            return this._text.alignV;
        },
        enumerable: true,
        configurable: true
    });
    LayerText.prototype.setTextAlignV = function (value) {
        if (value || value == "") {
            this._text.alignV = value;
            this.render();
        }
    };
    LayerText.prototype.dispose = function () {
    };
    return LayerText;
}(__WEBPACK_IMPORTED_MODULE_0__layerGraphics__["a" /* LayerGraphics */]));



/***/ }),

/***/ "../../../../../src/app/models/photoedit/lib/calcLayer.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CalcLayer; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__lib_draw_point__ = __webpack_require__("../../../../../src/app/lib/draw/point.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__lib_hMath__ = __webpack_require__("../../../../../src/app/lib/hMath.ts");


var CalcLayer = /** @class */ (function () {
    function CalcLayer() {
    }
    CalcLayer.calculateTop = function (val, layer) {
        var pointX1 = new __WEBPACK_IMPORTED_MODULE_0__lib_draw_point__["a" /* Point */](layer.marginLeft, layer.marginTop); //left top
        var pointX2 = new __WEBPACK_IMPORTED_MODULE_0__lib_draw_point__["a" /* Point */](layer.marginLeft + layer.width, layer.marginTop); //right top
        var pointX3 = new __WEBPACK_IMPORTED_MODULE_0__lib_draw_point__["a" /* Point */](layer.marginLeft + layer.width, layer.marginTop + layer.height); //right bottom
        var pointX4 = new __WEBPACK_IMPORTED_MODULE_0__lib_draw_point__["a" /* Point */](layer.marginLeft, layer.marginTop + layer.height); //left bottom
        var center = new __WEBPACK_IMPORTED_MODULE_0__lib_draw_point__["a" /* Point */](layer.marginLeft + layer.width / 2, layer.marginTop + layer.height / 2);
        var pointX1Rotated = __WEBPACK_IMPORTED_MODULE_1__lib_hMath__["a" /* HMath */].rotatePoint(pointX1, layer.rotateAngleDeg, center); //left top
        var pointX2Rotated = __WEBPACK_IMPORTED_MODULE_1__lib_hMath__["a" /* HMath */].rotatePoint(pointX2, layer.rotateAngleDeg, center); //right top
        var pointX3Rotated = __WEBPACK_IMPORTED_MODULE_1__lib_hMath__["a" /* HMath */].rotatePoint(pointX3, layer.rotateAngleDeg, center); //right bottom
        var pointX4Rotated = __WEBPACK_IMPORTED_MODULE_1__lib_hMath__["a" /* HMath */].rotatePoint(pointX4, layer.rotateAngleDeg, center); //left bottom
        var points = [pointX1Rotated, pointX2Rotated, pointX3Rotated, pointX4Rotated];
        points.sort(this.comparePointsY);
        var point = new __WEBPACK_IMPORTED_MODULE_0__lib_draw_point__["a" /* Point */](points[0].x, val);
        var rotatedPoint = __WEBPACK_IMPORTED_MODULE_1__lib_hMath__["a" /* HMath */].rotatePoint(point, -layer.rotateAngleDeg, new __WEBPACK_IMPORTED_MODULE_0__lib_draw_point__["a" /* Point */](center.x, center.y + point.y - points[0].y));
        //left top point
        if (points[0].x == pointX1Rotated.x && points[0].y == pointX1Rotated.y) {
            return rotatedPoint;
        }
        //right top
        if (points[0].x == pointX2Rotated.x && points[0].y == pointX2Rotated.y) {
            return new __WEBPACK_IMPORTED_MODULE_0__lib_draw_point__["a" /* Point */](rotatedPoint.x - layer.width, rotatedPoint.y);
        }
        //right bottom
        if (points[0].x == pointX3Rotated.x && points[0].y == pointX3Rotated.y) {
            return new __WEBPACK_IMPORTED_MODULE_0__lib_draw_point__["a" /* Point */](rotatedPoint.x - layer.width, rotatedPoint.y - layer.height);
        }
        //left bottom
        if (points[0].x == pointX4Rotated.x && points[0].y == pointX4Rotated.y) {
            return new __WEBPACK_IMPORTED_MODULE_0__lib_draw_point__["a" /* Point */](rotatedPoint.x, rotatedPoint.y - layer.height);
        }
    };
    CalcLayer.comparePointsY = function (a, b) {
        if (a.y < b.y)
            return -1;
        if (a.y > b.y)
            return 1;
        if (a.x < b.x)
            return -1;
        if (a.x > b.x)
            return 1;
        return 0;
    };
    CalcLayer.comparePointsX = function (a, b) {
        if (a.x < b.x)
            return -1;
        if (a.x > b.x)
            return 1;
        if (a.y < b.y)
            return -1;
        if (a.y > b.y)
            return 1;
        return 0;
    };
    CalcLayer.calculateLeft = function (val, layer) {
        var pointX1 = new __WEBPACK_IMPORTED_MODULE_0__lib_draw_point__["a" /* Point */](layer.marginLeft, layer.marginTop); //left top
        var pointX2 = new __WEBPACK_IMPORTED_MODULE_0__lib_draw_point__["a" /* Point */](layer.marginLeft + layer.width, layer.marginTop); //right top
        var pointX3 = new __WEBPACK_IMPORTED_MODULE_0__lib_draw_point__["a" /* Point */](layer.marginLeft + layer.width, layer.marginTop + layer.height); //right bottom
        var pointX4 = new __WEBPACK_IMPORTED_MODULE_0__lib_draw_point__["a" /* Point */](layer.marginLeft, layer.marginTop + layer.height); //left bottom
        var center = new __WEBPACK_IMPORTED_MODULE_0__lib_draw_point__["a" /* Point */](layer.marginLeft + layer.width / 2, layer.marginTop + layer.height / 2);
        var pointX1Rotated = __WEBPACK_IMPORTED_MODULE_1__lib_hMath__["a" /* HMath */].rotatePoint(pointX1, layer.rotateAngleDeg, center); //left top
        var pointX2Rotated = __WEBPACK_IMPORTED_MODULE_1__lib_hMath__["a" /* HMath */].rotatePoint(pointX2, layer.rotateAngleDeg, center); //right top
        var pointX3Rotated = __WEBPACK_IMPORTED_MODULE_1__lib_hMath__["a" /* HMath */].rotatePoint(pointX3, layer.rotateAngleDeg, center); //right bottom
        var pointX4Rotated = __WEBPACK_IMPORTED_MODULE_1__lib_hMath__["a" /* HMath */].rotatePoint(pointX4, layer.rotateAngleDeg, center); //left bottom
        var points = [pointX1Rotated, pointX2Rotated, pointX3Rotated, pointX4Rotated];
        points.sort(this.comparePointsX);
        var point = new __WEBPACK_IMPORTED_MODULE_0__lib_draw_point__["a" /* Point */](val, points[0].y);
        var newCenter = new __WEBPACK_IMPORTED_MODULE_0__lib_draw_point__["a" /* Point */](center.x + point.x - points[0].x, center.y);
        var rotatedPoint = __WEBPACK_IMPORTED_MODULE_1__lib_hMath__["a" /* HMath */].rotatePoint(point, -layer.rotateAngleDeg, newCenter);
        //left top point
        if (points[0].x == pointX1Rotated.x && points[0].y == pointX1Rotated.y) {
            return rotatedPoint;
        }
        //right top
        if (points[0].x == pointX2Rotated.x && points[0].y == pointX2Rotated.y) {
            return new __WEBPACK_IMPORTED_MODULE_0__lib_draw_point__["a" /* Point */](rotatedPoint.x - layer.width, rotatedPoint.y);
        }
        //right bottom
        if (points[0].x == pointX3Rotated.x && points[0].y == pointX3Rotated.y) {
            return new __WEBPACK_IMPORTED_MODULE_0__lib_draw_point__["a" /* Point */](rotatedPoint.x - layer.width, rotatedPoint.y - layer.height);
        }
        //left bottom
        if (points[0].x == pointX4Rotated.x && points[0].y == pointX4Rotated.y) {
            return new __WEBPACK_IMPORTED_MODULE_0__lib_draw_point__["a" /* Point */](rotatedPoint.x, rotatedPoint.y - layer.height);
        }
    };
    return CalcLayer;
}());



/***/ }),

/***/ "../../../../../src/app/models/photoedit/lib/helper.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Helper; });
var Helper = /** @class */ (function () {
    function Helper() {
    }
    Helper.createStrokeStyle = function (graphics, callback) {
        var a = [0, 0, 255, 255];
        var b = [255, 0, 0, 255];
        var array = [];
        for (var i = 0; i < 1; ++i) {
            a.forEach(function (item) { return array.push(item); });
            /*  a.forEach(item => array.push(item));
             a.forEach(item => array.push(item));
             a.forEach(item => array.push(item));
             a.forEach(item => array.push(item));
             a.forEach(item => array.push(item)); */
            b.forEach(function (item) { return array.push(item); });
            /* b.forEach(item => array.push(item));
            b.forEach(item => array.push(item));
            b.forEach(item => array.push(item));
            b.forEach(item => array.push(item));
            b.forEach(item => array.push(item)); */
        }
        for (var i = 0; i < 1; ++i) {
            b.forEach(function (item) { return array.push(item); });
            /*  b.forEach(item => array.push(item));
             b.forEach(item => array.push(item));
             b.forEach(item => array.push(item));
             b.forEach(item => array.push(item));
             b.forEach(item => array.push(item)); */
            a.forEach(function (item) { return array.push(item); });
            /*  a.forEach(item => array.push(item));
             a.forEach(item => array.push(item));
             a.forEach(item => array.push(item));
             a.forEach(item => array.push(item));
             a.forEach(item => array.push(item)); */
        }
        var data = new Uint8ClampedArray(array);
        var imageData = new ImageData(data, 2, 2);
        window.createImageBitmap(imageData).then(function (bitmap) {
            callback(bitmap);
        }).catch(function (ex) {
            //TODO: exception durumu handle edilmeli
        });
    };
    Helper.distinctPoints = function (points) {
        var i = 0;
        while (i < points.length - 1) {
            if (points[i].x == points[i + 1].x && points[i].y == points[i + 1].y)
                points.splice(i, 1);
            else
                i++;
        }
    };
    return Helper;
}());



/***/ }),

/***/ "../../../../../src/app/models/photoedit/lib/rotationHelper.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return RotationHelper; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__lib_draw_point__ = __webpack_require__("../../../../../src/app/lib/draw/point.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__lib_hMath__ = __webpack_require__("../../../../../src/app/lib/hMath.ts");


/**
 * when a surface is rotated, this class helps  to calculate cursor
 * and also helps to calculate selection points movement
 */
var RotationHelper = /** @class */ (function () {
    function RotationHelper() {
    }
    /**
     * calculate cursor point for left and right selection points
     * with angles
     * @param  {any} instance
     * @param  {number} angle
     * @returns void
     */
    RotationHelper.calculateCursorLeftRight = function (instance, angle) {
        if (angle >= -180 && angle <= -160) {
            instance.cursorew = true;
        }
        if (angle > -160 && angle <= -100) {
            instance.cursornwse = true;
        }
        if (angle > -100 && angle <= -60) {
            instance.cursorns = true;
        }
        if (angle > -60 && angle <= -30) {
            instance.cursornesw = true;
        }
        if (angle > -30 && angle <= 30) {
            instance.cursorew = true;
        }
        if (angle > 30 && angle <= 60) {
            instance.cursornwse = true;
        }
        if (angle > 60 && angle <= 100) {
            instance.cursorns = true;
        }
        if (angle > 100 && angle <= 160) {
            instance.cursornesw = true;
        }
        if (angle > 160 && angle <= 180) {
            instance.cursorew = true;
        }
    };
    /**
     * calculates cursor at top and bottom selection point with angles
     * @param  {any} instance
     * @param  {number} angle
     * @returns void
     */
    RotationHelper.calculateCursorTopBottom = function (instance, angle) {
        if (angle >= -180 && angle <= -160) {
            instance.cursorns = true;
        }
        if (angle > -160 && angle <= -100) {
            instance.cursornesw = true;
        }
        if (angle > -100 && angle <= -60) {
            instance.cursorew = true;
        }
        if (angle > -60 && angle <= -30) {
            instance.cursornwse = true;
        }
        if (angle > -30 && angle <= 30) {
            instance.cursorns = true;
        }
        if (angle > 30 && angle <= 60) {
            instance.cursornesw = true;
        }
        if (angle > 60 && angle <= 100) {
            instance.cursorew = true;
        }
        if (angle > 100 && angle <= 160) {
            instance.cursornwse = true;
        }
        if (angle > 160 && angle <= 180) {
            instance.cursorns = true;
        }
    };
    /**
     * calculates movement of left selection point result
     * @param  {MouseEvent} event
     * @param  {SurfaceCanvas} surface
     * @returns RotationMove
     */
    RotationHelper.calculateRotationMoveLeft = function (event, surface) {
        var angle = surface.rotateAngleDeg;
        //center point of rectangle
        var centerPoint = new __WEBPACK_IMPORTED_MODULE_0__lib_draw_point__["a" /* Point */](surface.marginLeft + surface.width / 2, surface.marginTop + surface.height / 2);
        //find a base point
        //we will make this point a reference
        var rotatedRectBottom = __WEBPACK_IMPORTED_MODULE_1__lib_hMath__["a" /* HMath */].rotatePoint(new __WEBPACK_IMPORTED_MODULE_0__lib_draw_point__["a" /* Point */](surface.marginLeft + surface.width, surface.marginTop + surface.height), surface.rotateAngleDeg, centerPoint);
        //mouse movement as point
        var m = new __WEBPACK_IMPORTED_MODULE_0__lib_draw_point__["a" /* Point */](event.movementX / surface.scale, 0);
        //for angles prepare positive or negative values
        if (angle <= 180)
            m = new __WEBPACK_IMPORTED_MODULE_0__lib_draw_point__["a" /* Point */](-event.movementX / surface.scale, 0);
        if (angle <= 140)
            m = new __WEBPACK_IMPORTED_MODULE_0__lib_draw_point__["a" /* Point */](-event.movementX / surface.scale, 0);
        if (angle <= 120)
            m = new __WEBPACK_IMPORTED_MODULE_0__lib_draw_point__["a" /* Point */](event.movementY / surface.scale, 0);
        if (angle <= 60)
            m = new __WEBPACK_IMPORTED_MODULE_0__lib_draw_point__["a" /* Point */](event.movementX / surface.scale, 0);
        if (angle <= -60)
            m = new __WEBPACK_IMPORTED_MODULE_0__lib_draw_point__["a" /* Point */](-event.movementY / surface.scale, 0);
        if (angle <= -140)
            m = new __WEBPACK_IMPORTED_MODULE_0__lib_draw_point__["a" /* Point */](-event.movementX / surface.scale, 0);
        //rotate mouse move point
        var rotatedmovePoint = __WEBPACK_IMPORTED_MODULE_1__lib_hMath__["a" /* HMath */].rotatePoint(m, surface.rotateAngleDeg, new __WEBPACK_IMPORTED_MODULE_0__lib_draw_point__["a" /* Point */](0, 0));
        var nAngle = angle;
        //calculate new center point
        var nCenterPoint = new __WEBPACK_IMPORTED_MODULE_0__lib_draw_point__["a" /* Point */](centerPoint.x + rotatedmovePoint.x / 2, centerPoint.y + rotatedmovePoint.y / 2);
        //reverse rotate reference point
        //and do calculations
        var cal = __WEBPACK_IMPORTED_MODULE_1__lib_hMath__["a" /* HMath */].rotatePoint(rotatedRectBottom, -nAngle, nCenterPoint);
        var newWidth = (cal.x - nCenterPoint.x) * 2;
        var newHeight = (cal.y - nCenterPoint.y) * 2;
        //if there is keepratio
        //calculate height difference
        if (surface.keepRatio) {
            var difwidth = newWidth - surface.width;
            var scale = surface.width / surface.height;
            var difheight = difwidth / scale;
            var po = new __WEBPACK_IMPORTED_MODULE_0__lib_draw_point__["a" /* Point */](0, difheight);
            var rotatedP = __WEBPACK_IMPORTED_MODULE_1__lib_hMath__["a" /* HMath */].rotatePoint(po, surface.rotateAngleDeg, new __WEBPACK_IMPORTED_MODULE_0__lib_draw_point__["a" /* Point */](0, 0));
            //change center point again
            nCenterPoint.x -= rotatedP.x / 2;
            nCenterPoint.y -= rotatedP.y / 2;
        }
        //reverse again center point         
        cal = __WEBPACK_IMPORTED_MODULE_1__lib_hMath__["a" /* HMath */].rotatePoint(rotatedRectBottom, -nAngle, nCenterPoint);
        //and calculate widht and height again
        newWidth = (cal.x - nCenterPoint.x) * 2;
        newHeight = (cal.y - nCenterPoint.y) * 2;
        //if width or height is so small then return immediatlye
        if (newWidth < 10 || newHeight < 10)
            return {
                width: 0,
                height: 0,
                left: 0,
                top: 0,
                maskLeft: 0,
                maskTop: 0
            };
        //calculate left and top points
        var newLeft = cal.x - newWidth;
        var newtop = cal.y - newHeight;
        return {
            width: newWidth - surface.width,
            height: newHeight - surface.height,
            left: newLeft - surface.marginLeft,
            top: newtop - surface.marginTop,
            maskLeft: newLeft - surface.marginLeft,
            maskTop: newtop - surface.marginTop
        };
    };
    /**
     * calculates movement of rotated selection right point result
     * @param  {MouseEvent} event
     * @param  {SurfaceCanvas} surface
     * @returns RotationMove
     */
    RotationHelper.calculateRotationMoveRight = function (event, surface) {
        var angle = surface.rotateAngleDeg;
        //center point of surface
        var centerPoint = new __WEBPACK_IMPORTED_MODULE_0__lib_draw_point__["a" /* Point */](surface.marginLeft + surface.width / 2, surface.marginTop + surface.height / 2);
        //find a base  reference point
        var rotatedRectLeftTop = __WEBPACK_IMPORTED_MODULE_1__lib_hMath__["a" /* HMath */].rotatePoint(new __WEBPACK_IMPORTED_MODULE_0__lib_draw_point__["a" /* Point */](surface.marginLeft, surface.marginTop), surface.rotateAngleDeg, centerPoint);
        //mouse mouve as point
        var m = new __WEBPACK_IMPORTED_MODULE_0__lib_draw_point__["a" /* Point */](event.movementX / surface.scale, 0);
        //calculate point positive or negative values for  angles 
        if (angle <= 180)
            m = new __WEBPACK_IMPORTED_MODULE_0__lib_draw_point__["a" /* Point */](-event.movementX / surface.scale, 0);
        if (angle <= 160)
            m = new __WEBPACK_IMPORTED_MODULE_0__lib_draw_point__["a" /* Point */](-event.movementX / surface.scale, 0);
        if (angle <= 120)
            m = new __WEBPACK_IMPORTED_MODULE_0__lib_draw_point__["a" /* Point */](event.movementY / surface.scale, 0);
        if (angle <= 60)
            m = new __WEBPACK_IMPORTED_MODULE_0__lib_draw_point__["a" /* Point */](event.movementX / surface.scale, 0);
        if (angle <= -60)
            m = new __WEBPACK_IMPORTED_MODULE_0__lib_draw_point__["a" /* Point */](-event.movementY / surface.scale, 0);
        if (angle <= -140)
            m = new __WEBPACK_IMPORTED_MODULE_0__lib_draw_point__["a" /* Point */](-event.movementX / surface.scale, 0);
        //rotate mouse move point
        var rotatedmovePoint = __WEBPACK_IMPORTED_MODULE_1__lib_hMath__["a" /* HMath */].rotatePoint(m, surface.rotateAngleDeg, new __WEBPACK_IMPORTED_MODULE_0__lib_draw_point__["a" /* Point */](0, 0));
        var nAngle = angle;
        //with mouse recalculate center point again
        var nCenterPoint = new __WEBPACK_IMPORTED_MODULE_0__lib_draw_point__["a" /* Point */](centerPoint.x + rotatedmovePoint.x / 2, centerPoint.y + rotatedmovePoint.y / 2);
        //reverse rotate reference point around center
        var cal = __WEBPACK_IMPORTED_MODULE_1__lib_hMath__["a" /* HMath */].rotatePoint(rotatedRectLeftTop, -nAngle, nCenterPoint);
        //calculate new width and height
        var newWidth = (nCenterPoint.x - cal.x) * 2;
        var newHeight = (nCenterPoint.y - cal.y) * 2;
        //if there is ratio, calculate height difference
        if (surface.keepRatio) {
            var difwidth = newWidth - surface.width;
            var scale = surface.width / surface.height;
            var difheight = difwidth / scale;
            var po = new __WEBPACK_IMPORTED_MODULE_0__lib_draw_point__["a" /* Point */](0, difheight);
            var rotatedP = __WEBPACK_IMPORTED_MODULE_1__lib_hMath__["a" /* HMath */].rotatePoint(po, surface.rotateAngleDeg, new __WEBPACK_IMPORTED_MODULE_0__lib_draw_point__["a" /* Point */](0, 0));
            //changing  height also changes center recalculate again
            nCenterPoint.x += rotatedP.x / 2;
            nCenterPoint.y += rotatedP.y / 2;
        }
        //reverse rotate  reference point againg around  centerpoint
        cal = __WEBPACK_IMPORTED_MODULE_1__lib_hMath__["a" /* HMath */].rotatePoint(rotatedRectLeftTop, -nAngle, nCenterPoint);
        newWidth = (nCenterPoint.x - cal.x) * 2;
        newHeight = (nCenterPoint.y - cal.y) * 2;
        //if width or height is so small then return immediatlye
        if (newWidth < 10 || newHeight < 10)
            return {
                width: 0,
                height: 0,
                left: 0,
                top: 0,
                maskLeft: 0,
                maskTop: 0
            };
        var newLeft = cal.x;
        var newtop = cal.y;
        return {
            width: newWidth - surface.width,
            height: newHeight - surface.height,
            left: newLeft - surface.marginLeft,
            top: newtop - surface.marginTop,
            maskLeft: newLeft - surface.marginLeft,
            maskTop: newtop - surface.marginTop
        };
    };
    /**
    * calculates movement of rotated selection top point result
    * @param  {MouseEvent} event
    * @param  {SurfaceCanvas} surface
    * @returns RotationMove
    */
    RotationHelper.calculateRotationMoveTop = function (event, surface) {
        var angle = surface.rotateAngleDeg;
        //center point of surface
        var centerPoint = new __WEBPACK_IMPORTED_MODULE_0__lib_draw_point__["a" /* Point */](surface.marginLeft + surface.width / 2, surface.marginTop + surface.height / 2);
        //find a base reference point
        var rotatedRectLeftBottom = __WEBPACK_IMPORTED_MODULE_1__lib_hMath__["a" /* HMath */].rotatePoint(new __WEBPACK_IMPORTED_MODULE_0__lib_draw_point__["a" /* Point */](surface.marginLeft, surface.marginTop + surface.height), surface.rotateAngleDeg, centerPoint);
        //mouse movement as point
        var m = new __WEBPACK_IMPORTED_MODULE_0__lib_draw_point__["a" /* Point */](0, event.movementY / surface.scale);
        //set positive or negative according to angle
        if (angle <= 180)
            m = new __WEBPACK_IMPORTED_MODULE_0__lib_draw_point__["a" /* Point */](0, -event.movementY / surface.scale);
        if (angle <= 140)
            m = new __WEBPACK_IMPORTED_MODULE_0__lib_draw_point__["a" /* Point */](0, -event.movementY / surface.scale);
        if (angle <= 120)
            m = new __WEBPACK_IMPORTED_MODULE_0__lib_draw_point__["a" /* Point */](0, -event.movementX / surface.scale);
        if (angle <= 60)
            m = new __WEBPACK_IMPORTED_MODULE_0__lib_draw_point__["a" /* Point */](0, event.movementY / surface.scale);
        if (angle <= -60)
            m = new __WEBPACK_IMPORTED_MODULE_0__lib_draw_point__["a" /* Point */](0, event.movementX / surface.scale);
        if (angle <= -140)
            m = new __WEBPACK_IMPORTED_MODULE_0__lib_draw_point__["a" /* Point */](0, -event.movementY / surface.scale);
        //rotate mouse movement
        var rotatedmovePoint = __WEBPACK_IMPORTED_MODULE_1__lib_hMath__["a" /* HMath */].rotatePoint(m, surface.rotateAngleDeg, new __WEBPACK_IMPORTED_MODULE_0__lib_draw_point__["a" /* Point */](0, 0));
        var nAngle = angle;
        //recalculate center point again 
        var nCenterPoint = new __WEBPACK_IMPORTED_MODULE_0__lib_draw_point__["a" /* Point */](centerPoint.x + rotatedmovePoint.x / 2, centerPoint.y + rotatedmovePoint.y / 2);
        //reverse rotate reference point around centerpoint
        var cal = __WEBPACK_IMPORTED_MODULE_1__lib_hMath__["a" /* HMath */].rotatePoint(rotatedRectLeftBottom, -nAngle, nCenterPoint);
        //recalculate new width and height
        var newWidth = (nCenterPoint.x - cal.x) * 2;
        var newHeight = (cal.y - nCenterPoint.y) * 2;
        //if there is keepratio then calculate difference of width according to height
        if (surface.keepRatio) {
            var scale = surface.width / surface.height;
            var difheight = newHeight - surface.height;
            var difwidth = difheight * scale;
            var po = new __WEBPACK_IMPORTED_MODULE_0__lib_draw_point__["a" /* Point */](difwidth, 0);
            var rotatedP = __WEBPACK_IMPORTED_MODULE_1__lib_hMath__["a" /* HMath */].rotatePoint(po, surface.rotateAngleDeg, new __WEBPACK_IMPORTED_MODULE_0__lib_draw_point__["a" /* Point */](0, 0));
            //recalculate center point againg
            nCenterPoint.x += rotatedP.x / 2;
            nCenterPoint.y += rotatedP.y / 2;
        }
        //again reverse rotate reference point 
        cal = __WEBPACK_IMPORTED_MODULE_1__lib_hMath__["a" /* HMath */].rotatePoint(rotatedRectLeftBottom, -nAngle, nCenterPoint);
        newWidth = (nCenterPoint.x - cal.x) * 2;
        newHeight = (cal.y - nCenterPoint.y) * 2;
        //if width or height is so small then return immediatlye
        if (newWidth < 10 || newHeight < 10)
            return {
                width: 0,
                height: 0,
                left: 0,
                top: 0,
                maskLeft: 0,
                maskTop: 0
            };
        var newLeft = cal.x;
        var newtop = cal.y - newHeight;
        return {
            width: newWidth - surface.width,
            height: newHeight - surface.height,
            left: newLeft - surface.marginLeft,
            top: newtop - surface.marginTop,
            maskLeft: newLeft - surface.marginLeft,
            maskTop: newtop - surface.marginTop
        };
    };
    /**
    * calculates movement of rotated selection top point result
    * @param  {MouseEvent} event
    * @param  {SurfaceCanvas} surface
    * @returns RotationMove
    */
    RotationHelper.calculateRotationMoveBottom = function (event, surface) {
        var angle = surface.rotateAngleDeg;
        //center of surface
        var centerPoint = new __WEBPACK_IMPORTED_MODULE_0__lib_draw_point__["a" /* Point */](surface.marginLeft + surface.width / 2, surface.marginTop + surface.height / 2);
        //find a base reference point for calculation
        var rotatedRectRightTop = __WEBPACK_IMPORTED_MODULE_1__lib_hMath__["a" /* HMath */].rotatePoint(new __WEBPACK_IMPORTED_MODULE_0__lib_draw_point__["a" /* Point */](surface.marginLeft + surface.width, surface.marginTop), surface.rotateAngleDeg, centerPoint);
        //mouse movement as a point
        var m = new __WEBPACK_IMPORTED_MODULE_0__lib_draw_point__["a" /* Point */](0, event.movementY / surface.scale);
        //calculate positive or negative of movement again
        if (angle <= 180)
            m = new __WEBPACK_IMPORTED_MODULE_0__lib_draw_point__["a" /* Point */](0, -event.movementY / surface.scale);
        if (angle <= 140)
            m = new __WEBPACK_IMPORTED_MODULE_0__lib_draw_point__["a" /* Point */](0, -event.movementY / surface.scale);
        if (angle <= 120)
            m = new __WEBPACK_IMPORTED_MODULE_0__lib_draw_point__["a" /* Point */](0, -event.movementX / surface.scale);
        if (angle <= 60)
            m = new __WEBPACK_IMPORTED_MODULE_0__lib_draw_point__["a" /* Point */](0, event.movementY / surface.scale);
        if (angle <= -60)
            m = new __WEBPACK_IMPORTED_MODULE_0__lib_draw_point__["a" /* Point */](0, event.movementX / surface.scale);
        if (angle <= -140)
            m = new __WEBPACK_IMPORTED_MODULE_0__lib_draw_point__["a" /* Point */](0, -event.movementY / surface.scale);
        //rotate mouse movement 
        var rotatedmovePoint = __WEBPACK_IMPORTED_MODULE_1__lib_hMath__["a" /* HMath */].rotatePoint(m, surface.rotateAngleDeg, new __WEBPACK_IMPORTED_MODULE_0__lib_draw_point__["a" /* Point */](0, 0));
        var nAngle = angle;
        //calculate center point again
        var nCenterPoint = new __WEBPACK_IMPORTED_MODULE_0__lib_draw_point__["a" /* Point */](centerPoint.x + rotatedmovePoint.x / 2, centerPoint.y + rotatedmovePoint.y / 2);
        //reverse rotate reference point again 
        var cal = __WEBPACK_IMPORTED_MODULE_1__lib_hMath__["a" /* HMath */].rotatePoint(rotatedRectRightTop, -nAngle, nCenterPoint);
        var newWidth = (cal.x - nCenterPoint.x) * 2;
        var newHeight = (nCenterPoint.y - cal.y) * 2;
        if (surface.keepRatio) {
            //calculate difference width again
            var scale = surface.width / surface.height;
            var difheight = newHeight - surface.height;
            var difwidth = difheight * scale;
            var po = new __WEBPACK_IMPORTED_MODULE_0__lib_draw_point__["a" /* Point */](difwidth, 0);
            var rotatedP = __WEBPACK_IMPORTED_MODULE_1__lib_hMath__["a" /* HMath */].rotatePoint(po, surface.rotateAngleDeg, new __WEBPACK_IMPORTED_MODULE_0__lib_draw_point__["a" /* Point */](0, 0));
            //recalculate center point 
            nCenterPoint.x -= rotatedP.x / 2;
            nCenterPoint.y -= rotatedP.y / 2;
        }
        //reverse rotate reference point 
        cal = __WEBPACK_IMPORTED_MODULE_1__lib_hMath__["a" /* HMath */].rotatePoint(rotatedRectRightTop, -nAngle, nCenterPoint);
        newWidth = (cal.x - nCenterPoint.x) * 2;
        newHeight = (nCenterPoint.y - cal.y) * 2;
        //if width or height is so small then return immediatlye
        if (newWidth < 10 || newHeight < 10)
            return {
                width: 0,
                height: 0,
                left: 0,
                top: 0,
                maskLeft: 0,
                maskTop: 0
            };
        var newLeft = cal.x - newWidth;
        var newtop = cal.y;
        return {
            width: newWidth - surface.width,
            height: newHeight - surface.height,
            left: newLeft - surface.marginLeft,
            top: newtop - surface.marginTop,
            maskLeft: newLeft - surface.marginLeft,
            maskTop: newtop - surface.marginTop
        };
    };
    return RotationHelper;
}());



/***/ }),

/***/ "../../../../../src/app/models/photoedit/project.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Project; });
var Project = /** @class */ (function () {
    /**
     *
     */
    function Project(name) {
        if (name)
            this._name = name;
        else
            this._name = "project";
        this._workspaces = [];
    }
    Object.defineProperty(Project.prototype, "name", {
        get: function () {
            return this._name;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Project.prototype, "workspaces", {
        get: function () {
            return this._workspaces;
        },
        enumerable: true,
        configurable: true
    });
    Project.prototype.dispose = function () {
        this._name = undefined;
        this._workspaces.forEach(function (item) { return item.dispose(); });
        this._workspaces = [];
    };
    Project.prototype.addWorkspace = function (ws) {
        this._workspaces.push(ws);
        this.activeWorkspace = ws;
    };
    Object.defineProperty(Project.prototype, "activeWorkspace", {
        get: function () {
            var index = this._workspaces.findIndex(function (item) {
                return item.isActive;
            });
            if (index == -1)
                return undefined;
            return this._workspaces[index];
        },
        set: function (ws) {
            this._workspaces.forEach(function (item) {
                item.isActive = false;
                if (item === ws)
                    item.isActive = true;
            });
        },
        enumerable: true,
        configurable: true
    });
    Project.prototype.removeWorkspace = function (ws) {
        var index = this._workspaces.findIndex(function (item) {
            return item === ws;
        });
        if (index > -1) {
            var ws_1 = this.workspaces[index];
            this._workspaces.splice(index, 1);
            ws_1.dispose();
        }
    };
    return Project;
}());



/***/ }),

/***/ "../../../../../src/app/models/photoedit/surface.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export Surface */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SurfaceCanvas; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__lib_draw_rect__ = __webpack_require__("../../../../../src/app/lib/draw/rect.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__lib_draw_rect2D__ = __webpack_require__("../../../../../src/app/lib/draw/rect2D.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__lib_draw_point__ = __webpack_require__("../../../../../src/app/lib/draw/point.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__lib_hMath__ = __webpack_require__("../../../../../src/app/lib/hMath.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();




var Surface = /** @class */ (function () {
    /**
     *
     */
    function Surface() {
        this.width = 0;
        this.height = 0;
        this.scale = 1;
        this.marginLeft = 0;
        this.marginTop = 0;
        this.rotateAngleDeg = 0;
        this.selectPointwh = 14;
        this.zIndex = 0;
        this.keepRatio = true;
        this.globalAlpha = 1.0;
    }
    ;
    Surface.prototype.clone = function () {
        var instance = this.createInstanceForClone();
        instance.globalAlpha = this.globalAlpha;
        instance.height = this.height;
        instance.keepRatio = this.keepRatio;
        instance.marginLeft = this.marginLeft;
        instance.marginTop = this.marginTop;
        instance.rotateAngleDeg = this.rotateAngleDeg;
        instance.scale = this.scale;
        instance.selectPointwh = this.selectPointwh;
        instance.width = this.width;
        instance.zIndex = this.zIndex;
        return instance;
    };
    Surface.prototype.createInstanceForClone = function () {
        return new Surface();
    };
    return Surface;
}());

var SurfaceCanvas = /** @class */ (function (_super) {
    __extends(SurfaceCanvas, _super);
    function SurfaceCanvas() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.resizedAgain = false;
        _this.createAgain = false;
        _this.maxScale = 20;
        _this.minScale = 0.3;
        return _this;
    }
    SurfaceCanvas.prototype.scalePlus = function () {
        this.scale += 1;
        if (this.scale > this.maxScale)
            this.scale = this.maxScale;
    };
    SurfaceCanvas.prototype.scaleTo = function (val) {
        if (val > this.maxScale)
            val = this.maxScale;
        if (val < this.minScale)
            val = this.minScale;
        this.scale = val;
    };
    SurfaceCanvas.prototype.scaleMinus = function () {
        this.scale -= 0.1;
        if (this.scale < this.minScale)
            this.scale = this.minScale;
    };
    SurfaceCanvas.prototype.setTop = function (value, func) {
        this.marginTop = value;
        this.resizedAgain = false;
        this.whenCreatedGraphicsAgain = func;
    };
    SurfaceCanvas.prototype.setLeft = function (value, func) {
        this.marginLeft = value;
        this.resizedAgain = false;
        this.whenCreatedGraphicsAgain = func;
    };
    SurfaceCanvas.prototype.setWidthHeight = function (width, height, func) {
        if (this.keepRatio) {
            var widthIsChanging = false;
            if (width != this.width)
                widthIsChanging = true;
            var heightIsChanging = false;
            if (height != this.height)
                heightIsChanging = true;
            if (widthIsChanging) {
                var ratio = this.width / this.height;
                this.width = width;
                this.height = this.width / ratio;
            }
            else if (heightIsChanging) {
                var ratio = this.height / this.width;
                this.height = height;
                this.width = this.height / ratio;
            }
        }
        else {
            this.width = width;
            this.height = height;
        }
        this.resizedAgain = false;
        if (func)
            this.whenCreatedGraphicsAgain = func;
        //console.log(this.width,this.height,this.marginLeft,this.marginTop);
    };
    /**
     * @param  {number} width diffrence width
     * @param  {number} height diffrence height
     * @param  {number} left diffence margin left
     * @param  {number} top diffence to margin top
     * @param  {number} maskleft ignored
     * @param  {number} masktop ignored
     * @param  {Callback} func?
     * @returns void
     */
    SurfaceCanvas.prototype.calculateBy = function (width, height, left, top, maskleft, masktop, func) {
        var bWidth = this.width;
        var bHeight = this.height;
        var bWidthMask = 0;
        var bHeightMask = 0;
        if (this.keepRatio) {
            var ratio = this.width / this.height;
            if (width == 0)
                width = ((this.height + height) * ratio - this.width);
            else if (height == 0)
                height = (((this.width + (width)) / ratio) - this.height);
            else {
                width = ((this.height + height) * ratio - this.width);
            }
        }
        //must before changing this.widht and this.height
        if (this.width + width < 0 || this.height + height < 0)
            return;
        this.width += width;
        this.height += height;
        this.marginLeft += left;
        this.marginTop += top;
        this.whenCreatedGraphicsAgain = func;
        this.resizedAgain = false;
    };
    Object.defineProperty(SurfaceCanvas.prototype, "rectRotated", {
        /**
         * when a layer rotated with some angle,calculates the bigger rectangle
         * @returns Rect
         */
        get: function () {
            var rect = new __WEBPACK_IMPORTED_MODULE_0__lib_draw_rect__["a" /* Rect */](this.marginLeft, this.marginTop, this.width, this.height);
            var rotatedRect = __WEBPACK_IMPORTED_MODULE_3__lib_hMath__["a" /* HMath */].rotateRect(rect, this.rotateAngleDeg);
            return rotatedRect;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SurfaceCanvas.prototype, "rectRotated2D", {
        /**
       * when a layer rotated with some angle,calculates 2D rectangle
       * @returns Rect
       */
        get: function () {
            var rect = new __WEBPACK_IMPORTED_MODULE_1__lib_draw_rect2D__["a" /* Rect2D */](new __WEBPACK_IMPORTED_MODULE_2__lib_draw_point__["a" /* Point */](this.marginLeft, this.marginTop), new __WEBPACK_IMPORTED_MODULE_2__lib_draw_point__["a" /* Point */](this.marginLeft, this.marginTop + this.height), new __WEBPACK_IMPORTED_MODULE_2__lib_draw_point__["a" /* Point */](this.marginLeft + this.width, this.marginTop), new __WEBPACK_IMPORTED_MODULE_2__lib_draw_point__["a" /* Point */](this.marginLeft + this.width, this.marginTop + this.height));
            var rotatedRect = __WEBPACK_IMPORTED_MODULE_3__lib_hMath__["a" /* HMath */].rotateRect2D(rect, this.rotateAngleDeg);
            return rotatedRect;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SurfaceCanvas.prototype, "rect", {
        /**
        * calculates rectangle with out rotate
        * @returns Rect
        */
        get: function () {
            var rect = new __WEBPACK_IMPORTED_MODULE_0__lib_draw_rect__["a" /* Rect */](this.marginLeft, this.marginTop, this.width, this.height);
            return rect;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * allways creates a deep copy HImage
     * @returns HImage
     */
    SurfaceCanvas.prototype.getImage = function () {
        return this.graphics.getImage();
    };
    SurfaceCanvas.prototype.getPixel = function (x, y) {
        return this.graphics.getPixel(x, y);
    };
    SurfaceCanvas.prototype.setPixel = function (x, y, color) {
        this.graphics.setPixel(x, y, color);
    };
    SurfaceCanvas.prototype.rotateByDegrees = function (x) {
        this.rotateAngleDeg = x;
    };
    Object.defineProperty(SurfaceCanvas.prototype, "transform", {
        get: function () {
            return "rotate(" + this.rotateAngleDeg + "deg)";
        },
        set: function (val) {
            this.rotateAngleDeg = Number.parseInt(val);
        },
        enumerable: true,
        configurable: true
    });
    return SurfaceCanvas;
}(Surface));



/***/ }),

/***/ "../../../../../src/app/models/photoedit/workSpace.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Workspace; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__workmodes_workModeShape__ = __webpack_require__("../../../../../src/app/models/photoedit/workmodes/workModeShape.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__lib_draw_gradient__ = __webpack_require__("../../../../../src/app/lib/draw/gradient.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__workmodes_workModeGradient__ = __webpack_require__("../../../../../src/app/models/photoedit/workmodes/workModeGradient.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__layerBackground__ = __webpack_require__("../../../../../src/app/models/photoedit/layerBackground.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__lib_callback__ = __webpack_require__("../../../../../src/app/lib/callback.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__lib_eventEmitter__ = __webpack_require__("../../../../../src/app/lib/eventEmitter.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__lib_utility__ = __webpack_require__("../../../../../src/app/lib/utility.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__lib_calcLayer__ = __webpack_require__("../../../../../src/app/models/photoedit/lib/calcLayer.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__lib_draw_point__ = __webpack_require__("../../../../../src/app/lib/draw/point.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__workmodes_workModeDefault__ = __webpack_require__("../../../../../src/app/models/photoedit/workmodes/workModeDefault.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__workmodes_workModeBrush__ = __webpack_require__("../../../../../src/app/models/photoedit/workmodes/workModeBrush.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__workmodes_workModeColorPicker__ = __webpack_require__("../../../../../src/app/models/photoedit/workmodes/workModeColorPicker.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__workmodes_workModeCrop__ = __webpack_require__("../../../../../src/app/models/photoedit/workmodes/workModeCrop.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__workmodes_workModeHand__ = __webpack_require__("../../../../../src/app/models/photoedit/workmodes/workModeHand.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__workmodes_workModeResize__ = __webpack_require__("../../../../../src/app/models/photoedit/workmodes/workModeResize.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__workmodes_workModeSelection__ = __webpack_require__("../../../../../src/app/models/photoedit/workmodes/workModeSelection.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__workmodes_workModeBucket__ = __webpack_require__("../../../../../src/app/models/photoedit/workmodes/workModeBucket.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17__history_historyManager__ = __webpack_require__("../../../../../src/app/models/photoedit/history/historyManager.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_18__workmodes_workModeErase__ = __webpack_require__("../../../../../src/app/models/photoedit/workmodes/workModeErase.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_19__history_history__ = __webpack_require__("../../../../../src/app/models/photoedit/history/history.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_20__iworkspace__ = __webpack_require__("../../../../../src/app/models/photoedit/iworkspace.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();





















var Workspace = /** @class */ (function (_super) {
    __extends(Workspace, _super);
    function Workspace(width, height, appService, name) {
        var _this = _super.call(this) || this;
        _this.margin = 0;
        _this._htmlElement = undefined;
        _this._appService = appService;
        _this.uuid = __WEBPACK_IMPORTED_MODULE_6__lib_utility__["a" /* Utility */].uuid();
        if (name)
            _this._name = name.replace(/[\(\)]/g, '_').substring(0, 10);
        else
            _this._name = "image";
        _this._layers = [];
        _this.isRemoveable = true;
        _this.isActive = false;
        if (width <= 0)
            _this._width = 100;
        else
            _this._width = width;
        if (height <= 0)
            _this._height = 100;
        else
            _this._height = height;
        _this.backgroundLayer = new __WEBPACK_IMPORTED_MODULE_3__layerBackground__["a" /* LayerBackground */]('backgroundlayer');
        _this.backgroundLayer.width = _this.width;
        _this.backgroundLayer.height = _this.height;
        _this.backgroundLayer.marginLeft = _this.margin;
        _this.backgroundLayer.marginTop = _this.margin;
        _this.backgroundLayer.zIndex = 0;
        if (_this.height < 32 || _this.width < 32)
            _this.backgroundLayer.scale = 10;
        _this._workMode = new __WEBPACK_IMPORTED_MODULE_9__workmodes_workModeDefault__["a" /* WorkModeDefault */](_this, _this._appService);
        _this.backgroundColor = "rgba(0,0,0,1)";
        _this.foregroundColor = "rgba(255,255,255,1)";
        _this._historyManager = new __WEBPACK_IMPORTED_MODULE_17__history_historyManager__["a" /* HistoryManager */]();
        _this._historyManager.add(__WEBPACK_IMPORTED_MODULE_19__history_history__["a" /* History */].create());
        _this._gradient = new __WEBPACK_IMPORTED_MODULE_1__lib_draw_gradient__["a" /* LineerGradient */]();
        return _this;
    }
    Object.defineProperty(Workspace.prototype, "gradient", {
        get: function () {
            return this._gradient;
        },
        set: function (value) {
            this._gradient = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Workspace.prototype, "selectionLayer", {
        get: function () {
            return this._selectionLayer;
        },
        set: function (layer) {
            if (layer)
                layer.scale = this.scale;
            this._selectionLayer = layer;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Workspace.prototype, "historyManager", {
        get: function () {
            return this._historyManager;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Workspace.prototype, "htmlElement", {
        get: function () {
            if (this._htmlElement == undefined) {
                this._htmlElement = document.querySelector("#" + this.uuid);
            }
            return this._htmlElement;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Workspace.prototype, "hasLayer", {
        get: function () {
            return this._layers.length > 0;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Workspace.prototype, "width", {
        get: function () {
            return this._width;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Workspace.prototype, "height", {
        get: function () {
            return this._height;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Workspace.prototype, "name", {
        get: function () {
            return this._name;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Workspace.prototype, "layers", {
        get: function () {
            return this._layers;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Workspace.prototype, "workMode", {
        get: function () {
            return this._workMode;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Workspace.prototype, "zoom", {
        get: function () {
            if (this.backgroundLayer)
                return this.backgroundLayer.scale;
            return 1;
        },
        enumerable: true,
        configurable: true
    });
    Workspace.prototype.dispose = function () {
        this._layers.forEach(function (item) { return item.dispose(); });
    };
    Workspace.prototype.addLayer = function (ly) {
        if (ly) {
            ly.scale = this.scale;
            ly.marginLeft = this.margin;
            ly.marginTop = this.margin;
            this._layers.push(ly);
            this.makeLayerSelected(ly);
        }
    };
    Workspace.prototype.removeLayer = function (ly) {
        if (ly) {
            var index = this._layers.findIndex(function (item) {
                return item === ly;
            });
            if (index > -1) {
                var layer = this._layers[index];
                this._layers.splice(index, 1);
                layer.dispose();
            }
        }
        if (this._layers.length == 0)
            this.selectionLayer = undefined;
    };
    Workspace.prototype.removeLayer2 = function (uuid) {
        var index = this._layers.findIndex(function (item) {
            return item.uuid === uuid;
        });
        if (index > -1) {
            var layer = this._layers[index];
            this._layers.splice(index, 1);
            layer.dispose();
        }
        if (this._layers.length == 0)
            this.selectionLayer = undefined;
    };
    Workspace.prototype.replaceLayer = function (source, destination, marginLeft, marginTop) {
        var index = this._layers.findIndex(function (p) { return p.uuid == source.uuid; });
        if (index > -1) {
            destination.blendMode = destination.blendMode;
            destination.globalAlpha = (source.globalAlpha);
            destination.isSelected = false;
            destination.canResizeOrRotate = false;
            destination.scale = this.scale;
            destination.rotateAngleDeg = source.rotateAngleDeg;
            destination.marginLeft = marginLeft == undefined ? source.marginLeft : Number(marginLeft);
            destination.marginTop = marginTop == undefined ? source.marginTop : Number(marginTop);
            this._layers[index] = destination;
            this.makeLayerSelected(destination);
            destination.invalidate();
            source.dispose();
        }
    };
    /**
     * history işlemleri için kullanıyoruz
     * @param sourceuuid
     * @param destination
     * @param marginLeft
     * @param marginTop
     */
    Workspace.prototype.replaceHistoryLayer = function (sourceuuid, destination) {
        var index = this._layers.findIndex(function (p) { return p.uuid == sourceuuid; });
        if (index > -1) {
            var source = this._layers[index];
            destination.scale = this.scale;
            destination.isSelected = false;
            destination.canResizeOrRotate = false;
            this._layers[index] = destination;
            this.makeLayerSelected(destination);
            destination.invalidate();
            source.dispose();
        }
    };
    Workspace.prototype.replaceSelectionLayer = function (selectionLayer) {
        if (this.selectionLayer) {
            this.selectionLayer.dispose();
            this.selectionLayer = undefined;
        }
        this._selectionLayer = selectionLayer;
        if (selectionLayer) {
            selectionLayer.scale = this.scale;
            this._selectionLayer.invalidate();
        }
    };
    Workspace.prototype.clearLayers = function () {
        this._layers = [];
    };
    Workspace.prototype.render = function () {
        this.backgroundLayer.render();
        this._layers.forEach(function (item) {
            if (!item.isHidden)
                item.render();
        });
    };
    Workspace.prototype.resize = function (width, height, afterResized) {
        var _this = this;
        if (width <= 0)
            this._width = 100;
        else
            this._width = width;
        if (height <= 0)
            this._height = 100;
        else
            this._height = height;
        var changeLayer0 = this._layers.length > 0 && this.backgroundLayer.width == this._layers[0].width && this.backgroundLayer.height == this._layers[0].height;
        var keepRatio = this.backgroundLayer.keepRatio;
        this.backgroundLayer.keepRatio = false;
        this.backgroundLayer.setWidthHeight(this._width, this._height, __WEBPACK_IMPORTED_MODULE_4__lib_callback__["a" /* Callback */].from(function () { _this.backgroundLayer.render(); }));
        this.backgroundLayer.keepRatio = keepRatio;
        if (this._layers.length > 0 && changeLayer0) {
            keepRatio = this._layers[0].keepRatio;
            this._layers[0].keepRatio = false;
            this._layers[0].setWidthHeight(this._width, this._height, __WEBPACK_IMPORTED_MODULE_4__lib_callback__["a" /* Callback */].from(function () { _this._layers[0].render(); }));
            this._layers[0].keepRatio = keepRatio;
        }
        this.callEvent(Workspace.EVENTRESIZED, afterResized);
    };
    Workspace.prototype.rotateLayers90 = function (layer, centerBefore, centerAfter) {
        var keepRatio = layer.keepRatio;
        layer.keepRatio = false;
        var angle = layer.rotateAngleDeg;
        angle += 90;
        if (angle > 180) {
            angle = angle - 360;
        }
        var leftTop = new __WEBPACK_IMPORTED_MODULE_8__lib_draw_point__["a" /* Point */](layer.rectRotated.x, layer.rectRotated.y);
        layer.rotateByDegrees(angle);
        var rectRotated = layer.rectRotated;
        var point1 = __WEBPACK_IMPORTED_MODULE_7__lib_calcLayer__["a" /* CalcLayer */].calculateLeft(this.width - leftTop.y - rectRotated.width, layer);
        layer.setLeft(point1.x);
        layer.setTop(point1.y);
        point1 = __WEBPACK_IMPORTED_MODULE_7__lib_calcLayer__["a" /* CalcLayer */].calculateTop(leftTop.x, layer);
        layer.setLeft(point1.x);
        layer.setTop(point1.y);
        //layer.setLeft(this.width-layer.marginTop);
        //layer.setTop(layer.marginTop);
        layer.keepRatio = keepRatio;
    };
    Workspace.prototype.rotate90 = function () {
        var _this = this;
        var width = this._height;
        var height = this._width;
        //eski center noktası
        var centerBefore = new __WEBPACK_IMPORTED_MODULE_8__lib_draw_point__["a" /* Point */](this.width / 2, this.height / 2);
        this._width = width;
        this._height = height;
        var centerAfter = new __WEBPACK_IMPORTED_MODULE_8__lib_draw_point__["a" /* Point */](this.width / 2, this.height / 2);
        var keepRatio = this.backgroundLayer.keepRatio;
        this.backgroundLayer.keepRatio = false;
        this.backgroundLayer.setWidthHeight(this._width, this._height, __WEBPACK_IMPORTED_MODULE_4__lib_callback__["a" /* Callback */].from(function () { _this.backgroundLayer.render(); }));
        this.backgroundLayer.keepRatio = keepRatio;
        this._layers.forEach(function (layer) { return _this.rotateLayers90(layer, centerBefore, centerAfter); });
    };
    Workspace.prototype.mouseWheelUpFunc = function () {
        //console.log('wheelup');
    };
    Workspace.prototype.mouseWheelDownFunc = function () {
        //console.log('wheeldown');
    };
    Workspace.prototype.mouseMove = function (event) {
        /*  if(this.lastMouseMoveTime==undefined || (Date.now()-this.lastMouseMoveTime)>15){
           console.log('mouse move'); */
        this._workMode.mouseMove(event, new __WEBPACK_IMPORTED_MODULE_8__lib_draw_point__["a" /* Point */](this.htmlElement.scrollLeft, this.htmlElement.scrollTop));
        /*  this.lastMouseMoveTime=Date.now();
         } */
    };
    Object.defineProperty(Workspace.prototype, "scrollLeft", {
        get: function () {
            return this.htmlElement.scrollLeft;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Workspace.prototype, "scrollTop", {
        get: function () {
            return this.htmlElement.scrollTop;
        },
        enumerable: true,
        configurable: true
    });
    Workspace.prototype.mouseDown = function (event) {
        if (event.target.tagName != "workspace-component".toUpperCase())
            this._workMode.mouseDown(event, new __WEBPACK_IMPORTED_MODULE_8__lib_draw_point__["a" /* Point */](this.htmlElement.scrollLeft, this.htmlElement.scrollTop));
    };
    Workspace.prototype.mouseUp = function (event) {
        //console.log("mouseup");    
        this._workMode.mouseUp(event, new __WEBPACK_IMPORTED_MODULE_8__lib_draw_point__["a" /* Point */](this.htmlElement.scrollLeft, this.htmlElement.scrollTop));
    };
    Workspace.prototype.doubleClick = function (event) {
        this._workMode.doubleClick(event, new __WEBPACK_IMPORTED_MODULE_8__lib_draw_point__["a" /* Point */](this.htmlElement.scrollLeft, this.htmlElement.scrollTop));
    };
    Workspace.prototype.scrollBy = function (x, y) {
        if (this.htmlElement)
            this.htmlElement.scrollBy(x, y);
    };
    Workspace.prototype.makeLayersNotSelected = function (layer) {
        if (layer) {
            this._layers.forEach(function (item) {
                if (layer.uuid != item.uuid && !layer.isHidden)
                    item.isSelected = false;
            });
        }
        else {
            this._layers.forEach(function (item) {
                item.isSelected = false;
            });
        }
    };
    Workspace.prototype.makeLayerSelected = function (layer) {
        this.makeLayersNotSelected(layer);
        if (layer && !layer.isHidden) {
            layer.isSelected = true;
            layer.canResizeOrRotate = this.workMode instanceof __WEBPACK_IMPORTED_MODULE_9__workmodes_workModeDefault__["a" /* WorkModeDefault */];
        }
    };
    Object.defineProperty(Workspace.prototype, "scale", {
        get: function () {
            return this.backgroundLayer.scale;
        },
        enumerable: true,
        configurable: true
    });
    Workspace.prototype.zoomTo = function (val) {
        this.backgroundLayer.scaleTo(val);
        this._layers.forEach(function (item) { return item.scaleTo(val); });
        if (this.selectionLayer)
            this.selectionLayer.scaleTo(val);
        if (this.workLayer)
            this.workLayer.scaleTo(val);
        this.backgroundLayer.render();
    };
    Workspace.prototype.zoomIn = function () {
        this.backgroundLayer.scalePlus();
        this._layers.forEach(function (item) { return item.scalePlus(); });
        if (this.selectionLayer)
            this.selectionLayer.scalePlus();
        if (this.workLayer)
            this.workLayer.scalePlus();
        this.backgroundLayer.render();
    };
    Workspace.prototype.zoomOut = function () {
        this.backgroundLayer.scaleMinus();
        this._layers.forEach(function (item) { return item.scaleMinus(); });
        if (this.selectionLayer)
            this.selectionLayer.scalePlus();
        if (this.workLayer)
            this.workLayer.scalePlus();
        this.backgroundLayer.render();
    };
    Workspace.prototype.selectWorking = function (working, parameter) {
        //console.log('selectWorking');
        switch (working) {
            case __WEBPACK_IMPORTED_MODULE_20__iworkspace__["a" /* WorkModes */].Default:
                this._workMode = new __WEBPACK_IMPORTED_MODULE_9__workmodes_workModeDefault__["a" /* WorkModeDefault */](this, this._appService);
                break;
            case __WEBPACK_IMPORTED_MODULE_20__iworkspace__["a" /* WorkModes */].ResizeWorkspace:
                this._workMode = new __WEBPACK_IMPORTED_MODULE_14__workmodes_workModeResize__["a" /* WorkModeResizeWorkspace */](this, this._appService, this.workMode.typeOf, this.workMode.subTypeOf);
                break;
            case __WEBPACK_IMPORTED_MODULE_20__iworkspace__["a" /* WorkModes */].Crop:
                this._workMode = new __WEBPACK_IMPORTED_MODULE_12__workmodes_workModeCrop__["a" /* WorkModeCrop */](this, this._appService);
                break;
            case __WEBPACK_IMPORTED_MODULE_20__iworkspace__["a" /* WorkModes */].Selection:
                if (!this.workMode || this._workMode.typeOf != working)
                    this._workMode = new __WEBPACK_IMPORTED_MODULE_15__workmodes_workModeSelection__["a" /* WorkModeSelection */](this, this._appService, parameter);
                else
                    this._workMode.changeType(parameter);
                break;
            case __WEBPACK_IMPORTED_MODULE_20__iworkspace__["a" /* WorkModes */].ColorPicker:
                this._workMode = new __WEBPACK_IMPORTED_MODULE_11__workmodes_workModeColorPicker__["a" /* WorkModeColorPicker */](this, this._appService, this.workMode);
                break;
            case __WEBPACK_IMPORTED_MODULE_20__iworkspace__["a" /* WorkModes */].Brush:
                this._workMode = new __WEBPACK_IMPORTED_MODULE_10__workmodes_workModeBrush__["a" /* WorkModeBrush */](this, this._appService);
                break;
            case __WEBPACK_IMPORTED_MODULE_20__iworkspace__["a" /* WorkModes */].Erase:
                this._workMode = new __WEBPACK_IMPORTED_MODULE_18__workmodes_workModeErase__["a" /* WorkModeErase */](this, this._appService);
                break;
            case __WEBPACK_IMPORTED_MODULE_20__iworkspace__["a" /* WorkModes */].Hand:
                this._workMode = new __WEBPACK_IMPORTED_MODULE_13__workmodes_workModeHand__["a" /* WorkModeHand */](this, this._appService);
                break;
            case __WEBPACK_IMPORTED_MODULE_20__iworkspace__["a" /* WorkModes */].Bucket:
                this._workMode = new __WEBPACK_IMPORTED_MODULE_16__workmodes_workModeBucket__["a" /* WorkModeBucket */](this, this._appService);
                break;
            case __WEBPACK_IMPORTED_MODULE_20__iworkspace__["a" /* WorkModes */].Gradient:
                this._workMode = new __WEBPACK_IMPORTED_MODULE_2__workmodes_workModeGradient__["a" /* WorkModeGradient */](this, this._appService);
                break;
            case __WEBPACK_IMPORTED_MODULE_20__iworkspace__["a" /* WorkModes */].Shapes:
                this._workMode = new __WEBPACK_IMPORTED_MODULE_0__workmodes_workModeShape__["a" /* WorkModeShape */](this, this._appService);
                break;
            default:
                this._workMode = new __WEBPACK_IMPORTED_MODULE_9__workmodes_workModeDefault__["a" /* WorkModeDefault */](this, this._appService);
        }
    };
    Workspace.prototype.setWorkingMode = function (working) {
        this._workMode = working;
    };
    Workspace.prototype.removeSelectionLayer = function () {
        if (this.selectionLayer)
            this.selectionLayer.dispose();
        this.selectionLayer = undefined;
    };
    Workspace.prototype.removeWorkLayer = function () {
        if (this.workLayer)
            this.workLayer.dispose();
        this.workLayer = undefined;
    };
    Workspace.EVENTRESIZED = "resized";
    return Workspace;
}(__WEBPACK_IMPORTED_MODULE_5__lib_eventEmitter__["a" /* HEventEmitter */]));



/***/ }),

/***/ "../../../../../src/app/models/photoedit/workmodes/workModeBase.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return WorkModeBase; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__lib_draw_polygon__ = __webpack_require__("../../../../../src/app/lib/draw/polygon.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__layerSelect__ = __webpack_require__("../../../../../src/app/models/photoedit/layerSelect.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__lib_draw_point__ = __webpack_require__("../../../../../src/app/lib/draw/point.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__lib_hMath__ = __webpack_require__("../../../../../src/app/lib/hMath.ts");




var WorkModeBase = /** @class */ (function () {
    function WorkModeBase(workspace, appService, disposeSelect, disposeWork) {
        if (disposeSelect === void 0) { disposeSelect = true; }
        if (disposeWork === void 0) { disposeWork = true; }
        this.appService = appService;
        this.workspace = workspace;
        if (this.workspace.selectionLayer && disposeSelect) {
            this.canvasElement = this.workspace.selectionLayer.htmlElement;
            this.workspace.removeSelectionLayer();
        }
        if (this.workspace.workLayer && disposeWork) {
            this.canvasElement = this.workspace.workLayer.htmlElement;
            this.workspace.removeWorkLayer();
        }
        this.workspace.layers.forEach(function (item) { return item.canResizeOrRotate = false; });
    }
    WorkModeBase.prototype.mouseMove = function (event, scroll) {
        this.workspace.layers.forEach(function (item) {
            if (item.isSelected)
                item.mouseMove(event, scroll);
        });
    };
    WorkModeBase.prototype.mouseDown = function (event, scroll) {
        this.workspace.layers.forEach(function (item) {
            if (item.isSelected && item.hitMouseEvent(event, scroll))
                item.mouseDown(event, scroll);
        });
        //önemli, event stoplanmalı
        event.stopPropagation();
    };
    WorkModeBase.prototype.mouseUp = function (event, scroll) {
        this.workspace.layers.forEach(function (item) { if (item.isSelected)
            item.mouseUp(event, scroll); });
    };
    WorkModeBase.prototype.doubleClick = function (event, scroll) {
        this.workspace.layers.forEach(function (item) {
            if (item.isSelected && item.hitMouseEvent(event, scroll))
                item.doubleClick(event, scroll);
        });
        //önemli, event stoplanmalı
        event.stopPropagation();
    };
    WorkModeBase.prototype.findSelectedLayer = function (event) {
        var selectedLayer = this.workspace.layers.find(function (layer) { return layer.isSelected; });
        if (selectedLayer)
            return selectedLayer;
        if (this.workspace.layers.length > 0)
            return this.workspace.layers[this.workspace.layers.length - 1];
        return undefined;
    };
    WorkModeBase.prototype.findSelectionLayer = function (event) {
        if (this.workspace.selectionLayer && this.workspace.selectionLayer instanceof __WEBPACK_IMPORTED_MODULE_1__layerSelect__["a" /* LayerSelect */]) {
            return this.workspace.selectionLayer;
        }
        return undefined;
    };
    WorkModeBase.prototype.findSelectionLayerRegions = function (event) {
        var selectionlayer = this.findSelectionLayer(event);
        if (selectionlayer)
            return selectionlayer.polygons;
        return [];
    };
    WorkModeBase.prototype.findInsectionOfSelectionRegions = function (event, selectedLayer) {
        var selectedRegions = this.findSelectionLayerRegions(event);
        if (selectedRegions.length == 0) {
            var selectedLayerRegion = __WEBPACK_IMPORTED_MODULE_3__lib_hMath__["a" /* HMath */].rectToPolygon(selectedLayer.rect).translate(-selectedLayer.marginLeft, -selectedLayer.marginTop);
            return [selectedLayerRegion];
        }
        else {
            //selectedlayer ve selection region ile keşisen bölümü bul
            var selectedLayerRegion_1 = __WEBPACK_IMPORTED_MODULE_3__lib_hMath__["a" /* HMath */].rect2DToPolygon(selectedLayer.rectRotated2D);
            return selectedRegions.map(function (reg) {
                var centerPoint = new __WEBPACK_IMPORTED_MODULE_2__lib_draw_point__["a" /* Point */](selectedLayer.rectRotated.x + selectedLayer.rectRotated.width / 2, selectedLayer.rectRotated.y + selectedLayer.rectRotated.height / 2);
                var centerPoint2 = new __WEBPACK_IMPORTED_MODULE_2__lib_draw_point__["a" /* Point */](selectedLayer.rectRotated.width / 2, selectedLayer.rectRotated.height / 2);
                var centerPoint3 = new __WEBPACK_IMPORTED_MODULE_2__lib_draw_point__["a" /* Point */](selectedLayer.width / 2, selectedLayer.height / 2);
                var intersected = selectedLayerRegion_1.intersect(reg);
                var newPolygon = intersected;
                if (selectedLayer.rotateAngleDeg != 0) {
                    var temp = intersected.points.map(function (point) {
                        return __WEBPACK_IMPORTED_MODULE_3__lib_hMath__["a" /* HMath */].rotatePoint(point, -selectedLayer.rotateAngleDeg, centerPoint);
                    });
                    newPolygon = new __WEBPACK_IMPORTED_MODULE_0__lib_draw_polygon__["a" /* Polygon */](temp);
                }
                return newPolygon.translate(-(selectedLayer.marginLeft), -(selectedLayer.marginTop));
            }).filter(function (reg) { return reg.points.length > 0; });
        }
    };
    return WorkModeBase;
}());



/***/ }),

/***/ "../../../../../src/app/models/photoedit/workmodes/workModeBrush.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return WorkModeBrush; });
/* unused harmony export EditTypeBrush */
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__lib_draw_rect__ = __webpack_require__("../../../../../src/app/lib/draw/rect.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__lib_helper__ = __webpack_require__("../../../../../src/app/models/photoedit/lib/helper.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__iworkspace__ = __webpack_require__("../../../../../src/app/models/photoedit/iworkspace.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__lib_draw_color__ = __webpack_require__("../../../../../src/app/lib/draw/color.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__workModeEdit__ = __webpack_require__("../../../../../src/app/models/photoedit/workmodes/workModeEdit.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__lib_hMath__ = __webpack_require__("../../../../../src/app/lib/hMath.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();






var WorkModeBrush = /** @class */ (function (_super) {
    __extends(WorkModeBrush, _super);
    function WorkModeBrush(workspace, appService) {
        return _super.call(this, workspace, appService) || this;
    }
    WorkModeBrush.prototype.createEditType = function () {
        return new EditTypeBrush();
    };
    Object.defineProperty(WorkModeBrush.prototype, "typeOf", {
        get: function () {
            return __WEBPACK_IMPORTED_MODULE_2__iworkspace__["a" /* WorkModes */].Brush;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(WorkModeBrush.prototype, "subTypeOf", {
        get: function () {
            return "";
        },
        enumerable: true,
        configurable: true
    });
    return WorkModeBrush;
}(__WEBPACK_IMPORTED_MODULE_4__workModeEdit__["b" /* WorkModeEdit */]));

var EditTypeBrush = /** @class */ (function (_super) {
    __extends(EditTypeBrush, _super);
    function EditTypeBrush() {
        var _this = _super.call(this) || this;
        _this.lastMovePoint = undefined;
        return _this;
    }
    Object.defineProperty(EditTypeBrush.prototype, "size", {
        get: function () {
            return EditTypeBrush._size;
        },
        set: function (val) {
            EditTypeBrush._size = val;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(EditTypeBrush.prototype, "opacity", {
        get: function () {
            return EditTypeBrush._opacity;
        },
        set: function (val) {
            EditTypeBrush._opacity = val;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(EditTypeBrush.prototype, "blendMode", {
        get: function () {
            return EditTypeBrush._blendMode;
        },
        set: function (val) {
            EditTypeBrush._blendMode = val;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(EditTypeBrush.prototype, "hardness", {
        get: function () {
            return EditTypeBrush._hardness;
        },
        set: function (val) {
            EditTypeBrush._hardness = val;
        },
        enumerable: true,
        configurable: true
    });
    EditTypeBrush.prototype.calculateHardness = function (brush, graphics, x, y, size) {
        if (this.hardness == 1) {
            graphics.fillStyle(brush);
        }
        else {
            var gradient = graphics.createRadialGradient(x, y, 0, x, y, size);
            var color = __WEBPACK_IMPORTED_MODULE_3__lib_draw_color__["a" /* Color */].fromStringRGBA(brush);
            if (!color) {
                graphics.fillStyle(brush);
                return;
            }
            gradient.addColorStop(0, color.toRgb());
            color.a = this.opacity * 255;
            gradient.addColorStop(this.hardness, color.toRgba());
            color.a = 0;
            gradient.addColorStop(1, color.toRgba());
            graphics.fillStyle(gradient);
        }
    };
    EditTypeBrush.prototype.render = function (layer, point, brushFG, brushBG) {
        var _this = this;
        if (!point) {
            return;
        }
        var points = [];
        if (this.lastMovePoint == undefined) {
            points.push(__WEBPACK_IMPORTED_MODULE_5__lib_hMath__["a" /* HMath */].intPoint(point));
        }
        else {
            //  console.log("lastmove:");
            //  console.log(this.lastMovePoint);
            var tempSize = this.size / 2;
            if (this.hardness != 1)
                tempSize = this.size / 3;
            var innerPoints = __WEBPACK_IMPORTED_MODULE_5__lib_hMath__["a" /* HMath */].calculatePointsBetween(this.lastMovePoint, point, tempSize);
            innerPoints.forEach(function (item) {
                if (_this.lastMovePoint.x <= point.x)
                    item.x = item.x.extCeil();
                else
                    item.x = item.x.extToInt32();
                if (_this.lastMovePoint.y <= point.y)
                    item.y = item.y.extCeil();
                else
                    item.y = item.y.extToInt32();
                points.push(item);
            });
        }
        __WEBPACK_IMPORTED_MODULE_1__lib_helper__["a" /* Helper */].distinctPoints(points);
        if (this.lastMovePoint && points.length >= 1 && points[0].x == this.lastMovePoint.x && points[0].y == this.lastMovePoint.y)
            points.splice(0, 1);
        if (points.length == 0) {
            return;
        }
        //console.log(points);
        this.lastMovePoint = point;
        layer.graphics.setBlendMode(this.blendMode);
        points.forEach(function (element) {
            _this.calculateHardness(brushFG, layer.graphics, element.x, element.y, _this.size / 2);
            if (_this.hardness != 1) {
                layer.graphics.beginPath();
                layer.graphics.ellipse(element.x, element.y, _this.size / 2, _this.size / 2, 0, 0, 2 * Math.PI);
                layer.graphics.closePath();
                layer.graphics.fill();
            }
            else {
                var rect = new __WEBPACK_IMPORTED_MODULE_0__lib_draw_rect__["a" /* Rect */]((element.x - _this.size / 2).extRound(), (element.y - _this.size / 2).extRound(), _this.size, _this.size);
                layer.graphics.fillRect(rect);
            }
        });
        this.isSuccess = true;
    };
    EditTypeBrush.prototype.mouseUp = function (event, scroll, layer) {
        this.lastMovePoint = undefined;
    };
    EditTypeBrush.prototype.mouseDown = function (event, scroll, layer) {
        this.isSuccess = false;
    };
    EditTypeBrush._size = 5;
    EditTypeBrush._opacity = 1;
    EditTypeBrush._blendMode = "normal";
    EditTypeBrush._hardness = 1;
    return EditTypeBrush;
}(__WEBPACK_IMPORTED_MODULE_4__workModeEdit__["a" /* EditType */]));



/***/ }),

/***/ "../../../../../src/app/models/photoedit/workmodes/workModeBucket.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return WorkModeBucket; });
/* unused harmony export EditTypeBucket */
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__lib_hMath__ = __webpack_require__("../../../../../src/app/lib/hMath.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__lib_imagealgorithm_imageAlgorithmCrop__ = __webpack_require__("../../../../../src/app/lib/imagealgorithm/imageAlgorithmCrop.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__iworkspace__ = __webpack_require__("../../../../../src/app/models/photoedit/iworkspace.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__workModeEdit__ = __webpack_require__("../../../../../src/app/models/photoedit/workmodes/workModeEdit.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__lib_draw_color__ = __webpack_require__("../../../../../src/app/lib/draw/color.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__lib_draw_rect__ = __webpack_require__("../../../../../src/app/lib/draw/rect.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__lib_imageprocess_imageProcessSimilarColors__ = __webpack_require__("../../../../../src/app/lib/imageprocess/imageProcessSimilarColors.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__lib_image__ = __webpack_require__("../../../../../src/app/lib/image.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();








var WorkModeBucket = /** @class */ (function (_super) {
    __extends(WorkModeBucket, _super);
    function WorkModeBucket(workspace, appService) {
        return _super.call(this, workspace, appService) || this;
    }
    WorkModeBucket.prototype.createEditType = function () {
        return new EditTypeBucket();
    };
    Object.defineProperty(WorkModeBucket.prototype, "typeOf", {
        get: function () {
            return __WEBPACK_IMPORTED_MODULE_2__iworkspace__["a" /* WorkModes */].Bucket;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(WorkModeBucket.prototype, "subTypeOf", {
        get: function () {
            return "";
        },
        enumerable: true,
        configurable: true
    });
    WorkModeBucket.prototype.mouseMove = function (event, scroll) {
    };
    return WorkModeBucket;
}(__WEBPACK_IMPORTED_MODULE_3__workModeEdit__["b" /* WorkModeEdit */]));

var EditTypeBucket = /** @class */ (function (_super) {
    __extends(EditTypeBucket, _super);
    function EditTypeBucket() {
        return _super.call(this) || this;
    }
    Object.defineProperty(EditTypeBucket.prototype, "blendMode", {
        get: function () {
            return EditTypeBucket._blendMode;
        },
        set: function (val) {
            EditTypeBucket._blendMode = val;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(EditTypeBucket.prototype, "fillType", {
        get: function () {
            return EditTypeBucket._fillType;
        },
        set: function (val) {
            EditTypeBucket._fillType = val;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(EditTypeBucket.prototype, "selectType", {
        get: function () {
            return EditTypeBucket._selectType;
        },
        set: function (val) {
            EditTypeBucket._selectType = val;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(EditTypeBucket.prototype, "threshold", {
        get: function () {
            return EditTypeBucket._threshold;
        },
        set: function (val) {
            EditTypeBucket._threshold = val;
        },
        enumerable: true,
        configurable: true
    });
    //tek bir defa render çalışacak, mousedown olduğunda sadece
    EditTypeBucket.prototype.render = function (layer, point, brushFG, brushBG) {
        var _this = this;
        // layer.graphics.save();
        //layer.graphics.setGlobalAlpha(layer.globalAlpha);
        //layer.graphics.setBlendMode(this.blendMode);
        if (this.selectType == "selection") {
            this.selectedRegions.forEach(function (region) {
                layer.graphics.drawPolygon(region, false);
                layer.graphics.clip();
                //zaten graphics clip çalıştırığı için hepsini boyayabiliriz
                layer.graphics.fillStyle(_this.fillType == "fg" ? brushFG : brushBG);
                layer.graphics.fillRect(new __WEBPACK_IMPORTED_MODULE_5__lib_draw_rect__["a" /* Rect */](0, 0, layer.width, layer.height));
            });
            this.isSuccess = true;
        }
        if (this.selectType == "color") {
            //debugger;
            var fullImage_1 = layer.getImage();
            var color_1 = layer.getPixel(point.x, point.y);
            this.selectedRegions.forEach(function (region) {
                if (region.isPointInPath(point)) {
                    layer.graphics.drawPolygon(region, false);
                    layer.graphics.clip();
                    var selectedColor_1 = new __WEBPACK_IMPORTED_MODULE_4__lib_draw_color__["a" /* Color */](255, 255, 255, 255);
                    if (_this.fillType === "fg")
                        selectedColor_1 = __WEBPACK_IMPORTED_MODULE_4__lib_draw_color__["a" /* Color */].fromString(brushFG);
                    else
                        selectedColor_1 = __WEBPACK_IMPORTED_MODULE_4__lib_draw_color__["a" /* Color */].fromString(brushBG);
                    //console.log("is in path");
                    var rect_1 = region.bounds;
                    var crop = new __WEBPACK_IMPORTED_MODULE_1__lib_imagealgorithm_imageAlgorithmCrop__["a" /* ImageAlgorithmCrop */](rect_1);
                    var cropedImage = crop.process(fullImage_1);
                    var translated = __WEBPACK_IMPORTED_MODULE_0__lib_hMath__["a" /* HMath */].translatePoint(point, -rect_1.x, -rect_1.y);
                    //console.log("translated point:"+point,translated);
                    var colorRegions = __WEBPACK_IMPORTED_MODULE_6__lib_imageprocess_imageProcessSimilarColors__["a" /* ImageProcessSimilarColors */].process(layer, cropedImage, color_1, translated, EditTypeBucket._threshold);
                    colorRegions.forEach(function (item) {
                        var bound = item.bounds;
                        bound.width += 1;
                        bound.height += 1;
                        var h = bound.height;
                        var w = bound.width;
                        if (h == 0)
                            h += 1;
                        if (w == 0)
                            w += 1;
                        var imageData = new Uint8ClampedArray(w * h * 4);
                        imageData.fill(0);
                        _this.fillType == "fg" ? brushFG : brushBG;
                        var img = new __WEBPACK_IMPORTED_MODULE_7__lib_image__["a" /* HImage */](w, h, imageData, 4);
                        //console.log(item.points.length+" Adet pointfill");
                        item.points.forEach(function (p) {
                            var start = (p.y - bound.y) * img.width * 4 + (p.x - bound.x) * 4;
                            img.Pixels[start] = selectedColor_1.r;
                            img.Pixels[start + 1] = selectedColor_1.g;
                            img.Pixels[start + 2] = selectedColor_1.b;
                            img.Pixels[start + 3] = selectedColor_1.a;
                        });
                        // debugger;
                        layer.graphics.drawImageRect(img, new __WEBPACK_IMPORTED_MODULE_5__lib_draw_rect__["a" /* Rect */](0, 0, img.width, img.height), new __WEBPACK_IMPORTED_MODULE_5__lib_draw_rect__["a" /* Rect */](bound.x + rect_1.x, bound.y + rect_1.y, img.width, img.height));
                    });
                    _this.isSuccess = true;
                }
            });
        }
        // layer.graphics.restore();
    };
    EditTypeBucket.prototype.mouseUp = function (event, scroll) {
    };
    EditTypeBucket.prototype.mouseDown = function (event, scroll) {
        this.isSuccess = false;
    };
    EditTypeBucket._blendMode = "normal";
    EditTypeBucket._fillType = "fg";
    EditTypeBucket._selectType = "selection";
    EditTypeBucket._threshold = 2;
    return EditTypeBucket;
}(__WEBPACK_IMPORTED_MODULE_3__workModeEdit__["a" /* EditType */]));



/***/ }),

/***/ "../../../../../src/app/models/photoedit/workmodes/workModeColorPicker.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return WorkModeColorPicker; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__iworkspace__ = __webpack_require__("../../../../../src/app/models/photoedit/iworkspace.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__workModeBase__ = __webpack_require__("../../../../../src/app/models/photoedit/workmodes/workModeBase.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();


var WorkModeColorPicker = /** @class */ (function (_super) {
    __extends(WorkModeColorPicker, _super);
    function WorkModeColorPicker(workspace, appService, previousMode) {
        var _this = 
        //dont dispose previous workmode          
        _super.call(this, workspace, appService, false, true) || this;
        _this._isMouseDown = false;
        _this._previousWorkMode = previousMode.typeOf;
        _this._previousWorkModeSub = previousMode.subTypeOf;
        _this.workspace.cssClasses = "default";
        return _this;
    }
    Object.defineProperty(WorkModeColorPicker.prototype, "typeOf", {
        get: function () {
            return __WEBPACK_IMPORTED_MODULE_0__iworkspace__["a" /* WorkModes */].ColorPicker;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(WorkModeColorPicker.prototype, "subTypeOf", {
        get: function () {
            return "";
        },
        enumerable: true,
        configurable: true
    });
    WorkModeColorPicker.prototype.mouseMove = function (event, scroll) {
        if (this._isMouseDown)
            this.findPointInLayers(event, scroll);
    };
    WorkModeColorPicker.prototype.mouseDown = function (event, scroll) {
        this._isMouseDown = true;
        this.findPointInLayers(event, scroll);
    };
    WorkModeColorPicker.prototype.mouseUp = function (event, scroll) {
        this._isMouseDown = false;
        this.workspace.selectWorking(this._previousWorkMode, this._previousWorkModeSub);
    };
    WorkModeColorPicker.prototype.findPointInLayers = function (event, scroll) {
        for (var i = this.workspace.layers.length - 1; i > -1; --i) {
            var ly = this.workspace.layers[i];
            var hitPoint = ly.hitMouseEvent(event, scroll);
            if (hitPoint) {
                var color = ly.getPixel(hitPoint.x, hitPoint.y);
                if (color.a != 0) {
                    this.workspace.foregroundColor = "rgb(" + color.r + "," + color.g + "," + color.b + ")";
                    return;
                }
            }
        }
    };
    return WorkModeColorPicker;
}(__WEBPACK_IMPORTED_MODULE_1__workModeBase__["a" /* WorkModeBase */]));



/***/ }),

/***/ "../../../../../src/app/models/photoedit/workmodes/workModeCrop.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return WorkModeCrop; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__layerCropRectangle__ = __webpack_require__("../../../../../src/app/models/photoedit/layerCropRectangle.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__iworkspace__ = __webpack_require__("../../../../../src/app/models/photoedit/iworkspace.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__workModeBase__ = __webpack_require__("../../../../../src/app/models/photoedit/workmodes/workModeBase.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();



var WorkModeCrop = /** @class */ (function (_super) {
    __extends(WorkModeCrop, _super);
    function WorkModeCrop(workspace, appService) {
        var _this = _super.call(this, workspace, appService) || this;
        _this.workspace.cssClasses = "mouseCross";
        return _this;
    }
    Object.defineProperty(WorkModeCrop.prototype, "typeOf", {
        get: function () {
            return __WEBPACK_IMPORTED_MODULE_1__iworkspace__["a" /* WorkModes */].Crop;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(WorkModeCrop.prototype, "subTypeOf", {
        get: function () {
            return "";
        },
        enumerable: true,
        configurable: true
    });
    WorkModeCrop.prototype.mouseMove = function (event, scroll) {
        if (this.workspace.workLayer)
            this.workspace.workLayer.mouseMove(event, scroll);
    };
    WorkModeCrop.prototype.mouseDown = function (event, scroll) {
        if (this.workspace.workLayer == undefined) {
            var rect = this.workspace.htmlElement.getBoundingClientRect();
            //buradaki 50 ve 50 workspace margin left ve top değerleri;
            /*  let mouseX = (event.clientX+scroll.x-(rect.left+scroll.x)-50)/this.workspace.scale;
             let mouseY = (event.clientY+scroll.y-(rect.top+scroll.y)-50) /this.workspace.scale; */
            var mouseX = (event.clientX + scroll.x - (rect.left) - 50) / this.workspace.scale;
            var mouseY = (event.clientY + scroll.y - (rect.top) - 50) / this.workspace.scale;
            if (mouseX < 0)
                mouseX = 0;
            if (mouseY < 0)
                mouseY = 0;
            var worklayer = this.createLayer(0, 0, mouseX, mouseY);
            worklayer.scale = this.workspace.scale;
            worklayer.mouseDownSelectedPoint(event, 6);
            this.workspace.workLayer = worklayer;
            // this.workspace.selectionLayer.mouseDown(event);
        }
    };
    WorkModeCrop.prototype.mouseUp = function (event, scroll) {
        if (this.workspace.workLayer)
            this.workspace.workLayer.mouseUp(event, scroll);
    };
    WorkModeCrop.prototype.createLayer = function (width, height, left, top) {
        return new __WEBPACK_IMPORTED_MODULE_0__layerCropRectangle__["a" /* LayerCropRectangle */](width, height, left, top);
    };
    return WorkModeCrop;
}(__WEBPACK_IMPORTED_MODULE_2__workModeBase__["a" /* WorkModeBase */]));



/***/ }),

/***/ "../../../../../src/app/models/photoedit/workmodes/workModeDefault.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return WorkModeDefault; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__lib_callback__ = __webpack_require__("../../../../../src/app/lib/callback.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__iworkspace__ = __webpack_require__("../../../../../src/app/models/photoedit/iworkspace.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__workModeBase__ = __webpack_require__("../../../../../src/app/models/photoedit/workmodes/workModeBase.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__history_history__ = __webpack_require__("../../../../../src/app/models/photoedit/history/history.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();




var WorkModeDefault = /** @class */ (function (_super) {
    __extends(WorkModeDefault, _super);
    function WorkModeDefault(workspace, appService) {
        var _this = _super.call(this, workspace, appService) || this;
        _this.workspace.cssClasses = "mouseDefault";
        _this.workspace.removeSelectionLayer();
        _this.workspace.layers.forEach(function (item) { return item.canResizeOrRotate = true; });
        return _this;
    }
    Object.defineProperty(WorkModeDefault.prototype, "typeOf", {
        get: function () {
            return __WEBPACK_IMPORTED_MODULE_1__iworkspace__["a" /* WorkModes */].Default;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(WorkModeDefault.prototype, "subTypeOf", {
        get: function () {
            return "";
        },
        enumerable: true,
        configurable: true
    });
    //for creating history overrided
    WorkModeDefault.prototype.mouseDown = function (event, scroll) {
        _super.prototype.mouseDown.call(this, event, scroll);
        //store previous values for history
        this._undoredoDatas = new Array();
        this.workspace.layers.reduce(function (acc, layer) {
            if (layer.isSelected && layer.isMouseDown) {
                acc.push({ uuid: layer.uuid, leftMargin: layer.marginLeft, topMargin: layer.marginTop, width: layer.width, height: layer.height, angle: layer.rotateAngleDeg });
            }
            return acc;
        }, this._undoredoDatas);
    };
    //for creating history, overrided 
    WorkModeDefault.prototype.mouseUp = function (event, scroll) {
        this.createHistory();
        _super.prototype.mouseUp.call(this, event, scroll);
    };
    WorkModeDefault.prototype.createHistory = function () {
        var _this = this;
        this.workspace.layers.forEach(function (layer) {
            if (layer.isSelected && layer.isMouseDown) {
                var findedPreviousData_1 = _this._undoredoDatas.find(function (item) { return item.uuid == layer.uuid; });
                if (findedPreviousData_1 && !_this.areEqual(findedPreviousData_1, layer)) {
                    var history_1 = __WEBPACK_IMPORTED_MODULE_3__history_history__["a" /* History */].create().setUndo(__WEBPACK_IMPORTED_MODULE_0__lib_callback__["a" /* Callback */].from(function () {
                        var temp = _this.workspace.layers.find(function (item) { return item.uuid == layer.uuid; });
                        if (temp) {
                            temp.width = findedPreviousData_1.width;
                            temp.height = findedPreviousData_1.height;
                            temp.rotateAngleDeg = findedPreviousData_1.angle;
                            temp.marginTop = findedPreviousData_1.topMargin;
                            temp.marginLeft = findedPreviousData_1.leftMargin;
                            temp.isMouseDown = false;
                            temp.createAgain = true;
                        }
                    }));
                    var currentData_1 = { uuid: layer.uuid, leftMargin: layer.marginLeft, topMargin: layer.marginTop, width: layer.width, height: layer.height, angle: layer.rotateAngleDeg };
                    _this.workspace.historyManager.add(history_1, __WEBPACK_IMPORTED_MODULE_0__lib_callback__["a" /* Callback */].from(function () {
                        var temp = _this.workspace.layers.find(function (item) { return item.uuid == layer.uuid; });
                        if (temp) {
                            temp.width = currentData_1.width;
                            temp.height = currentData_1.height;
                            temp.rotateAngleDeg = currentData_1.angle;
                            temp.marginTop = currentData_1.topMargin;
                            temp.marginLeft = currentData_1.leftMargin;
                            temp.isMouseDown = false;
                            temp.createAgain = true;
                        }
                    }));
                }
            }
        });
    };
    WorkModeDefault.prototype.areEqual = function (data, layer) {
        return data.uuid === layer.uuid && data.angle === layer.rotateAngleDeg
            && data.height === layer.height && data.width === layer.width
            && data.leftMargin === layer.marginLeft && data.topMargin === layer.marginTop;
    };
    return WorkModeDefault;
}(__WEBPACK_IMPORTED_MODULE_2__workModeBase__["a" /* WorkModeBase */]));



/***/ }),

/***/ "../../../../../src/app/models/photoedit/workmodes/workModeEdit.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return EditType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return WorkModeEdit; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__entities_alertItem__ = __webpack_require__("../../../../../src/app/entities/alertItem.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__lib_callback__ = __webpack_require__("../../../../../src/app/lib/callback.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__layerImage__ = __webpack_require__("../../../../../src/app/models/photoedit/layerImage.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__layerEmpty__ = __webpack_require__("../../../../../src/app/models/photoedit/layerEmpty.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__workModeBase__ = __webpack_require__("../../../../../src/app/models/photoedit/workmodes/workModeBase.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__history_history__ = __webpack_require__("../../../../../src/app/models/photoedit/history/history.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();






var EditType = /** @class */ (function () {
    /**
     *
     */
    function EditType() {
        this.selectedRegions = undefined;
        this.isSuccess = true;
    }
    return EditType;
}());

var WorkModeEdit = /** @class */ (function (_super) {
    __extends(WorkModeEdit, _super);
    function WorkModeEdit(workspace, appService) {
        var _this = 
        //dont dispose previous workmode          
        _super.call(this, workspace, appService, false, true) || this;
        _this._isMouseDown = false;
        _this.workspace.workLayer = new __WEBPACK_IMPORTED_MODULE_3__layerEmpty__["a" /* LayerEmpty */]("brush layer", _this.workspace.width, _this.workspace.height);
        _this.workspace.workLayer.scale = _this.workspace.scale;
        _this.workspace.cssClasses = "default";
        _this._editType = _this.createEditType();
        return _this;
    }
    Object.defineProperty(WorkModeEdit.prototype, "editType", {
        get: function () {
            return this._editType;
        },
        enumerable: true,
        configurable: true
    });
    WorkModeEdit.prototype.mouseMove = function (event, scroll) {
        this.process(event, scroll);
    };
    WorkModeEdit.prototype.process = function (event, scroll) {
        var _this = this;
        if (this._isMouseDown) {
            if (this.selectedLayer && this.selectedRegions.length > 0) {
                this.selectedLayer.graphics.save();
                this.selectedRegions.forEach(function (region) {
                    _this.selectedLayer.graphics.drawPolygon(region, false);
                    _this.selectedLayer.graphics.clip();
                    if (_this.selectedLayer.hitMouseEvent(event, scroll)) {
                        var normalizedEvent = _this.selectedLayer.normalizeMouseEvent(event, scroll);
                        if (normalizedEvent) {
                            if (_this.hitRegionsMouseEvent(normalizedEvent, _this.selectedRegions)) {
                                _this._editType.render(_this.selectedLayer, normalizedEvent, _this.workspace.foregroundColor, _this.workspace.backgroundColor);
                            }
                        }
                    }
                });
                this.selectedLayer.graphics.restore();
            }
        }
    };
    WorkModeEdit.prototype.hitRegionsMouseEvent = function (point, polygons) {
        return true;
    };
    WorkModeEdit.prototype.mouseDown = function (event, scroll) {
        this._history = undefined; //important
        this._isMouseDown = true;
        //find selectedlayer
        this.selectedLayer = _super.prototype.findSelectedLayer.call(this, event);
        if (this.selectedLayer) {
            var selectionLayer = _super.prototype.findSelectionLayer.call(this, event);
            //find selectedRegions
            this.selectedRegions = _super.prototype.findInsectionOfSelectionRegions.call(this, event, this.selectedLayer);
            //set selected regions to edittype
            this._editType.selectedRegions = this.selectedRegions;
            if (this.selectedRegions.length == 0) {
                this.appService.showAlert(new __WEBPACK_IMPORTED_MODULE_0__entities_alertItem__["a" /* AlertItem */]("warning", "Please intersect with selected layer", 2000));
                return;
            }
            this._history = this.createHistory(this.workspace, this.selectedLayer.clone(), selectionLayer ? selectionLayer.clone() : undefined);
            this._editType.mouseDown(event, scroll, this.selectedLayer);
            this.process(event, scroll);
        }
    };
    WorkModeEdit.prototype.mouseUp = function (event, scroll) {
        this._isMouseDown = false;
        if (this.selectedLayer) {
            if (this._history && this._editType.isSuccess) {
                var selectionLayer = this.findSelectionLayer(event);
                this.historyRedo(this._history, this.workspace, this.selectedLayer.clone(), selectionLayer ? selectionLayer.clone() : undefined);
                this._editType.isSuccess = false;
            }
            this._editType.mouseUp(event, scroll, this.selectedLayer);
            var imgLayer = new __WEBPACK_IMPORTED_MODULE_2__layerImage__["a" /* LayerImage */](this.selectedLayer.getImage(), this.selectedLayer.name, this.selectedLayer.uuid);
            this.workspace.replaceLayer(this.selectedLayer, imgLayer);
        }
    };
    WorkModeEdit.prototype.historyRedo = function (history, workspace, selectedLayer, selectionLayer) {
        ///test codes
        /*  let tempwindow=window.open("","a");
        let canvas=tempwindow.document.createElement('canvas');
        canvas.width=selectedLayer.width;
        canvas.height=selectedLayer.height;
        tempwindow.document.body.appendChild(canvas);
        let graphics=new Graphics(canvas,canvas.width,canvas.height,1);
        let img=(selectedLayer as LayerImage).hImage;
        graphics.save();
        graphics.drawImageRect(img,new Rect(0,0,img.width,img.height),new Rect(0,0,img.width,img.height));
        graphics.restore(); */
        workspace.historyManager.add(history, __WEBPACK_IMPORTED_MODULE_1__lib_callback__["a" /* Callback */].from(function () {
            var clonedLayer = selectedLayer.clone();
            workspace.replaceHistoryLayer(clonedLayer.uuid, clonedLayer);
            workspace.makeLayerSelected(clonedLayer);
            if (selectionLayer)
                workspace.replaceSelectionLayer(selectionLayer.clone());
            else
                workspace.replaceSelectionLayer(undefined);
        }));
    };
    WorkModeEdit.prototype.createHistory = function (workspace, selectedLayer, selectionLayer) {
        //test codes
        /*  let tempwindow=window.open("","a");
         let canvas=tempwindow.document.createElement('canvas');
         canvas.width=selectedLayer.width;
         canvas.height=selectedLayer.height;
         tempwindow.document.body.appendChild(canvas);
         let graphics=new Graphics(canvas,canvas.width,canvas.height,1);
         let img=(selectedLayer as LayerImage).hImage;
         graphics.save();
         graphics.drawImageRect(img,new Rect(0,0,img.width,img.height),new Rect(0,0,img.width,img.height));
         graphics.restore(); */
        var history = __WEBPACK_IMPORTED_MODULE_5__history_history__["a" /* History */].create().setUndo(__WEBPACK_IMPORTED_MODULE_1__lib_callback__["a" /* Callback */].from(function () {
            var clonedLayer = selectedLayer.clone();
            workspace.replaceHistoryLayer(clonedLayer.uuid, clonedLayer);
            workspace.makeLayerSelected(clonedLayer);
            if (selectionLayer)
                workspace.replaceSelectionLayer(selectionLayer.clone());
            else
                workspace.replaceSelectionLayer(undefined);
        }));
        return history;
    };
    return WorkModeEdit;
}(__WEBPACK_IMPORTED_MODULE_4__workModeBase__["a" /* WorkModeBase */]));



/***/ }),

/***/ "../../../../../src/app/models/photoedit/workmodes/workModeErase.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return WorkModeErase; });
/* unused harmony export EditTypeErase */
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__lib_hMath__ = __webpack_require__("../../../../../src/app/lib/hMath.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__lib_helper__ = __webpack_require__("../../../../../src/app/models/photoedit/lib/helper.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__iworkspace__ = __webpack_require__("../../../../../src/app/models/photoedit/iworkspace.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__workModeEdit__ = __webpack_require__("../../../../../src/app/models/photoedit/workmodes/workModeEdit.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__lib_draw_color__ = __webpack_require__("../../../../../src/app/lib/draw/color.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();





var WorkModeErase = /** @class */ (function (_super) {
    __extends(WorkModeErase, _super);
    function WorkModeErase(workspace, appService) {
        return _super.call(this, workspace, appService) || this;
    }
    WorkModeErase.prototype.createEditType = function () {
        return new EditTypeErase();
    };
    Object.defineProperty(WorkModeErase.prototype, "typeOf", {
        get: function () {
            return __WEBPACK_IMPORTED_MODULE_2__iworkspace__["a" /* WorkModes */].Erase;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(WorkModeErase.prototype, "subTypeOf", {
        get: function () {
            return "";
        },
        enumerable: true,
        configurable: true
    });
    WorkModeErase.prototype.mouseMove = function (event, scroll) {
        var _this = this;
        if (this._isMouseDown) {
            if (this.selectedLayer && this.selectedRegions.length > 0) {
                this.selectedLayer.graphics.save();
                this.selectedRegions.forEach(function (region) {
                    _this.selectedLayer.graphics.drawPolygon(region, false);
                    _this.selectedLayer.graphics.clip();
                    if (_this.selectedLayer.hitMouseEvent(event, scroll)) {
                        var normalizedEvent = _this.selectedLayer.normalizeMouseEvent(event, scroll);
                        if (normalizedEvent) {
                            if (_this.hitRegionsMouseEvent(normalizedEvent, _this.selectedRegions)) {
                                _this._editType.render(_this.selectedLayer, normalizedEvent, _this.workspace.foregroundColor, _this.workspace.backgroundColor);
                            }
                        }
                    }
                });
                this.selectedLayer.graphics.restore();
            }
        }
    };
    return WorkModeErase;
}(__WEBPACK_IMPORTED_MODULE_3__workModeEdit__["b" /* WorkModeEdit */]));

var EditTypeErase = /** @class */ (function (_super) {
    __extends(EditTypeErase, _super);
    function EditTypeErase() {
        var _this = _super.call(this) || this;
        _this.lastMovePoint = undefined;
        return _this;
    }
    Object.defineProperty(EditTypeErase.prototype, "size", {
        get: function () {
            return EditTypeErase._size;
        },
        set: function (val) {
            EditTypeErase._size = val;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(EditTypeErase.prototype, "opacity", {
        get: function () {
            return EditTypeErase._opacity;
        },
        set: function (val) {
            EditTypeErase._opacity = val;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(EditTypeErase.prototype, "hardness", {
        get: function () {
            return EditTypeErase._hardness;
        },
        set: function (val) {
            EditTypeErase._hardness = val;
        },
        enumerable: true,
        configurable: true
    });
    EditTypeErase.prototype.calculateHardness = function (brush, graphics, x, y, size) {
        if (EditTypeErase._hardness == 1) {
            graphics.fillStyle(brush);
        }
        else {
            var gradient = graphics.createRadialGradient(x, y, 0, x, y, size);
            var color = __WEBPACK_IMPORTED_MODULE_4__lib_draw_color__["a" /* Color */].fromStringRGBA(brush);
            if (!color) {
                graphics.fillStyle(brush);
                return;
            }
            gradient.addColorStop(0, color.toRgb());
            color.a = color.a * this.opacity;
            gradient.addColorStop(this.hardness, color.toRgba());
            color.a = 0;
            gradient.addColorStop(1, color.toRgba());
            graphics.fillStyle(gradient);
        }
    };
    EditTypeErase.prototype.render = function (layer, point, brushFG, brushBG) {
        var _this = this;
        if (!point) {
            return;
        }
        //console.log("move:"+point.X+":"+point.Y);
        var points = [];
        if (this.lastMovePoint == undefined) {
            points.push(__WEBPACK_IMPORTED_MODULE_0__lib_hMath__["a" /* HMath */].intPoint(point));
        }
        else {
            //  console.log("lastmove:");
            //  console.log(this.lastMovePoint);
            var tempSize = this.size / 2;
            if (this.hardness != 1)
                tempSize = this.size / 3;
            var innerPoints = __WEBPACK_IMPORTED_MODULE_0__lib_hMath__["a" /* HMath */].calculatePointsBetween(this.lastMovePoint, point, tempSize);
            innerPoints.forEach(function (item) {
                if (_this.lastMovePoint.x <= point.x)
                    item.x = item.x.extCeil();
                else
                    item.x = item.x.extFloor();
                if (_this.lastMovePoint.y <= point.y)
                    item.y = item.y.extCeil();
                else
                    item.y = item.y.extFloor();
                points.push(item);
            });
        }
        __WEBPACK_IMPORTED_MODULE_1__lib_helper__["a" /* Helper */].distinctPoints(points);
        if (this.lastMovePoint && points.length >= 1 && points[0].x == this.lastMovePoint.x && points[0].y == this.lastMovePoint.y)
            points.splice(0, 1);
        if (points.length == 0) {
            return;
        }
        //console.log(points);
        this.lastMovePoint = point;
        layer.graphics.save();
        points.forEach(function (element) {
            if (_this.opacity == 1) {
                layer.graphics.setBlendMode("destination-out");
                _this.calculateHardness("rgba(255,255,255," + _this.opacity * 255 + ")", layer.graphics, element.x, element.y, _this.size / 2);
                layer.graphics.beginPath();
                layer.graphics.ellipse(element.x, element.y, _this.size / 2, _this.size / 2, 0, 0, 2 * Math.PI);
                layer.graphics.closePath();
                layer.graphics.fill();
            } /* else{
              layer.graphics.setBlendMode("normal");
              
              let rect = new Rect(element.X-this.size/2, element.Y-this.size/2,this.size,this.size);
              
              let image= layer.graphics.getImage(rect);
              for(let i=0;i<image.Pixels.byteLength;i+=4){
                image.Pixels[i+3]=image.Pixels[i+3]*this.opacity;
              }
              layer.graphics.putImage(image,rect);
            } */
        });
        this.isSuccess = true;
        layer.graphics.restore();
    };
    EditTypeErase.prototype.mouseUp = function (event, scroll) {
        this.lastMovePoint = undefined;
    };
    EditTypeErase.prototype.mouseDown = function (event, scroll) {
        this.isSuccess = false;
        //boş olmalı
    };
    EditTypeErase._size = 5;
    EditTypeErase._opacity = 1;
    EditTypeErase._hardness = 1;
    return EditTypeErase;
}(__WEBPACK_IMPORTED_MODULE_3__workModeEdit__["a" /* EditType */]));



/***/ }),

/***/ "../../../../../src/app/models/photoedit/workmodes/workModeGradient.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return WorkModeGradient; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__entities_alertItem__ = __webpack_require__("../../../../../src/app/entities/alertItem.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__lib_callback__ = __webpack_require__("../../../../../src/app/lib/callback.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__history_history__ = __webpack_require__("../../../../../src/app/models/photoedit/history/history.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__lib_draw_gradient__ = __webpack_require__("../../../../../src/app/lib/draw/gradient.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__layerGraphics__ = __webpack_require__("../../../../../src/app/models/photoedit/layerGraphics.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__lib_hMath__ = __webpack_require__("../../../../../src/app/lib/hMath.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__lib_helper__ = __webpack_require__("../../../../../src/app/models/photoedit/lib/helper.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__lib_draw_point__ = __webpack_require__("../../../../../src/app/lib/draw/point.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__iworkspace__ = __webpack_require__("../../../../../src/app/models/photoedit/iworkspace.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__lib_draw_rect__ = __webpack_require__("../../../../../src/app/lib/draw/rect.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__workModeBase__ = __webpack_require__("../../../../../src/app/models/photoedit/workmodes/workModeBase.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();











var WorkModeGradient = /** @class */ (function (_super) {
    __extends(WorkModeGradient, _super);
    function WorkModeGradient(workspace, appService) {
        var _this = _super.call(this, workspace, appService, false, true) || this;
        _this._isMouseDown = false;
        _this.strokeStyle = undefined;
        _this.workspace.cssClasses = "mouseCross";
        _this.workspace.workLayer = new __WEBPACK_IMPORTED_MODULE_4__layerGraphics__["a" /* LayerGraphics */]("gradient layer", _this.workspace.width, _this.workspace.height);
        _this.workspace.workLayer.scale = _this.workspace.scale;
        __WEBPACK_IMPORTED_MODULE_6__lib_helper__["a" /* Helper */].createStrokeStyle(_this.workspace.workLayer.graphics, function (bitmap) {
            var gradient = _this.workspace.workLayer.graphics.createPattern(bitmap, "");
            _this.strokeStyle = gradient;
        });
        return _this;
    }
    Object.defineProperty(WorkModeGradient.prototype, "typeOf", {
        get: function () {
            return __WEBPACK_IMPORTED_MODULE_8__iworkspace__["a" /* WorkModes */].Gradient;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(WorkModeGradient.prototype, "subTypeOf", {
        get: function () {
            return "";
        },
        enumerable: true,
        configurable: true
    });
    WorkModeGradient.prototype.mouseMove = function (event, scroll) {
        if (this._isMouseDown) {
            this.workspace.workLayer.graphics.clearRect(new __WEBPACK_IMPORTED_MODULE_9__lib_draw_rect__["a" /* Rect */](0, 0, this.workspace.workLayer.width, this.workspace.workLayer.height));
            var normalizedPoint = this.workspace.workLayer.normalizeMouseEvent(event, scroll, true);
            this.workspace.workLayer.graphics.drawRect(new __WEBPACK_IMPORTED_MODULE_9__lib_draw_rect__["a" /* Rect */](this.mouseDownPoint.x - 2, this.mouseDownPoint.y - 2, 4, 4), this.strokeStyle);
            this.workspace.workLayer.graphics.drawLine(this.mouseDownPoint.x, this.mouseDownPoint.y, normalizedPoint.x, normalizedPoint.y, 1, this.strokeStyle);
            this.workspace.workLayer.graphics.drawRect(new __WEBPACK_IMPORTED_MODULE_9__lib_draw_rect__["a" /* Rect */](normalizedPoint.x - 2, normalizedPoint.y - 2, 4, 4), this.strokeStyle);
        }
    };
    WorkModeGradient.prototype.mouseDown = function (event, scroll) {
        this._isMouseDown = true;
        this.mouseDownPoint = this.workspace.workLayer.normalizeMouseEvent(event, scroll, true);
    };
    WorkModeGradient.prototype.mouseUp = function (event, scroll) {
        var _this = this;
        if (this._isMouseDown) {
            this._isMouseDown = false;
            var selectedLayer_1 = _super.prototype.findSelectedLayer.call(this, event);
            if (!selectedLayer_1)
                return;
            var mouseUpPoint_1 = selectedLayer_1.normalizeMouseEvent(event, scroll, true);
            var selectionLayer = _super.prototype.findSelectionLayer.call(this, event);
            var selectionRegions = _super.prototype.findInsectionOfSelectionRegions.call(this, event, selectedLayer_1);
            if (selectionRegions.length == 0) {
                this.appService.showAlert(new __WEBPACK_IMPORTED_MODULE_0__entities_alertItem__["a" /* AlertItem */]('warning', 'Intersect with current selection'));
                return;
            }
            var clonedLayer_1 = selectedLayer_1.clone(); //for history operation
            selectionRegions.forEach(function (poly) {
                var polyRect = poly.bounds;
                selectedLayer_1.graphics.save();
                selectedLayer_1.graphics.drawPolygon(poly);
                selectedLayer_1.graphics.clip();
                selectedLayer_1.graphics.lineWidth(5);
                selectedLayer_1.graphics.setBlendMode(_this.workspace.gradient.blendMode);
                selectedLayer_1.graphics.setGlobalAlpha(_this.workspace.gradient.opacity);
                if (_this.workspace.gradient instanceof __WEBPACK_IMPORTED_MODULE_3__lib_draw_gradient__["a" /* LineerGradient */]) {
                    var gradient_1 = selectedLayer_1.graphics.createLinearGradient(_this.mouseDownPoint.x, _this.mouseDownPoint.y, mouseUpPoint_1.x, mouseUpPoint_1.y);
                    _this.workspace.gradient.colorStops.sort(function (a, b) { return a.nmb - b.nmb; }).forEach(function (p) { return gradient_1.addColorStop(p.nmb, p.str); });
                    selectedLayer_1.graphics.fillStyle(gradient_1);
                }
                if (_this.workspace.gradient instanceof __WEBPACK_IMPORTED_MODULE_3__lib_draw_gradient__["b" /* RadialGradient */]) {
                    var x1 = Math.min(_this.mouseDownPoint.x, mouseUpPoint_1.x);
                    var y1 = Math.min(_this.mouseDownPoint.y, mouseUpPoint_1.y);
                    var x2 = Math.max(_this.mouseDownPoint.x, mouseUpPoint_1.x);
                    var y2 = Math.max(_this.mouseDownPoint.y, mouseUpPoint_1.y);
                    var dif = __WEBPACK_IMPORTED_MODULE_5__lib_hMath__["a" /* HMath */].pointDif(new __WEBPACK_IMPORTED_MODULE_7__lib_draw_point__["a" /* Point */](x1, y1), new __WEBPACK_IMPORTED_MODULE_7__lib_draw_point__["a" /* Point */](x2, y2));
                    var centerPoint = new __WEBPACK_IMPORTED_MODULE_7__lib_draw_point__["a" /* Point */]((x1 + x2) / 2, (y1 + y2) / 2);
                    var gradient_2 = selectedLayer_1.graphics.createRadialGradient(centerPoint.x, centerPoint.y, 0, centerPoint.x, centerPoint.y, dif / 2);
                    _this.workspace.gradient.colorStops.sort(function (a, b) { return a.nmb - b.nmb; }).forEach(function (p) { return gradient_2.addColorStop(p.nmb, p.str); });
                    selectedLayer_1.graphics.fillStyle(gradient_2);
                }
                selectedLayer_1.graphics.drawPolygon(poly, true);
                selectedLayer_1.graphics.fill();
                selectedLayer_1.graphics.restore();
            });
            var history_1 = __WEBPACK_IMPORTED_MODULE_2__history_history__["a" /* History */].create().setUndo(__WEBPACK_IMPORTED_MODULE_1__lib_callback__["a" /* Callback */].from(function () {
                _this.workspace.replaceHistoryLayer(clonedLayer_1.uuid, clonedLayer_1.clone());
            }));
            var clonedAfter_1 = selectedLayer_1.clone();
            this.workspace.historyManager.add(history_1, __WEBPACK_IMPORTED_MODULE_1__lib_callback__["a" /* Callback */].from(function () {
                _this.workspace.replaceHistoryLayer(clonedAfter_1.uuid, clonedAfter_1.clone());
            }));
        }
    };
    return WorkModeGradient;
}(__WEBPACK_IMPORTED_MODULE_10__workModeBase__["a" /* WorkModeBase */]));



/***/ }),

/***/ "../../../../../src/app/models/photoedit/workmodes/workModeHand.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return WorkModeHand; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__layerEmpty__ = __webpack_require__("../../../../../src/app/models/photoedit/layerEmpty.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__iworkspace__ = __webpack_require__("../../../../../src/app/models/photoedit/iworkspace.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__workModeBase__ = __webpack_require__("../../../../../src/app/models/photoedit/workmodes/workModeBase.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();



var WorkModeHand = /** @class */ (function (_super) {
    __extends(WorkModeHand, _super);
    function WorkModeHand(workspace, appService) {
        var _this = 
        //dont dispose previous workmode          
        _super.call(this, workspace, appService, false, true) || this;
        _this._isMouseDown = false;
        _this.workspace.cssClasses = "mouseHand";
        _this.workspace.workLayer = new __WEBPACK_IMPORTED_MODULE_0__layerEmpty__["a" /* LayerEmpty */]("hand layer", _this.workspace.width, _this.workspace.height);
        _this.workspace.workLayer.scale = _this.workspace.scale;
        return _this;
    }
    Object.defineProperty(WorkModeHand.prototype, "typeOf", {
        get: function () {
            return __WEBPACK_IMPORTED_MODULE_1__iworkspace__["a" /* WorkModes */].Hand;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(WorkModeHand.prototype, "subTypeOf", {
        get: function () {
            return "";
        },
        enumerable: true,
        configurable: true
    });
    WorkModeHand.prototype.mouseMove = function (event, scroll) {
        if (this._isMouseDown)
            this.scrollBy(event, scroll);
    };
    WorkModeHand.prototype.scrollBy = function (event, scroll) {
        this.workspace.scrollBy(-event.movementX, -event.movementY);
    };
    WorkModeHand.prototype.mouseDown = function (event, scroll) {
        this._isMouseDown = true;
    };
    WorkModeHand.prototype.mouseUp = function (event, scroll) {
        this._isMouseDown = false;
    };
    return WorkModeHand;
}(__WEBPACK_IMPORTED_MODULE_2__workModeBase__["a" /* WorkModeBase */]));



/***/ }),

/***/ "../../../../../src/app/models/photoedit/workmodes/workModeResize.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return WorkModeResizeWorkspace; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__lib_callback__ = __webpack_require__("../../../../../src/app/lib/callback.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__iworkspace__ = __webpack_require__("../../../../../src/app/models/photoedit/iworkspace.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__workModeBase__ = __webpack_require__("../../../../../src/app/models/photoedit/workmodes/workModeBase.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__history_history__ = __webpack_require__("../../../../../src/app/models/photoedit/history/history.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();




var WorkModeResizeWorkspace = /** @class */ (function (_super) {
    __extends(WorkModeResizeWorkspace, _super);
    function WorkModeResizeWorkspace(workspace, appservice, previousWorkingType, previousWorkingSubType) {
        var _this = _super.call(this, workspace, appservice) || this;
        _this.previousWorkingType = previousWorkingType;
        _this.previousWorkingSubType = previousWorkingSubType;
        _this.workspace.cssClasses = "mouseNWSE";
        return _this;
    }
    Object.defineProperty(WorkModeResizeWorkspace.prototype, "typeOf", {
        get: function () {
            return __WEBPACK_IMPORTED_MODULE_1__iworkspace__["a" /* WorkModes */].ResizeWorkspace;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(WorkModeResizeWorkspace.prototype, "subTypeOf", {
        get: function () {
            return "";
        },
        enumerable: true,
        configurable: true
    });
    WorkModeResizeWorkspace.prototype.mouseMove = function (event) {
        var w = this.workspace.width + event.movementX / this.workspace.scale;
        var h = this.workspace.height + event.movementY / this.workspace.scale;
        if (w > 20 && h > 20) {
            this.workspace.resize(w, h, __WEBPACK_IMPORTED_MODULE_0__lib_callback__["a" /* Callback */].empty());
        }
    };
    WorkModeResizeWorkspace.prototype.mouseDown = function (event) {
        this._urData = { wsWidth: this.workspace.width,
            wsHeight: this.workspace.height,
        };
    };
    WorkModeResizeWorkspace.prototype.mouseUp = function (event) {
        this.createHistory();
        this.workspace.selectWorking(this.previousWorkingType, this.previousWorkingSubType);
    };
    WorkModeResizeWorkspace.prototype.createHistory = function () {
        var _this = this;
        if (!this._urData)
            return;
        var currentData = { wsWidth: this.workspace.width, wsHeight: this.workspace.height };
        var history = __WEBPACK_IMPORTED_MODULE_3__history_history__["a" /* History */].create().setUndo(__WEBPACK_IMPORTED_MODULE_0__lib_callback__["a" /* Callback */].from(function () {
            _this.workspace.resize(_this._urData.wsWidth, _this._urData.wsHeight, __WEBPACK_IMPORTED_MODULE_0__lib_callback__["a" /* Callback */].empty());
        }));
        this.workspace.historyManager.add(history, __WEBPACK_IMPORTED_MODULE_0__lib_callback__["a" /* Callback */].from(function () {
            _this.workspace.resize(currentData.wsWidth, currentData.wsHeight, __WEBPACK_IMPORTED_MODULE_0__lib_callback__["a" /* Callback */].empty());
        }));
    };
    return WorkModeResizeWorkspace;
}(__WEBPACK_IMPORTED_MODULE_2__workModeBase__["a" /* WorkModeBase */]));



/***/ }),

/***/ "../../../../../src/app/models/photoedit/workmodes/workModeSelection.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return WorkModeSelection; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__layerSelect__ = __webpack_require__("../../../../../src/app/models/photoedit/layerSelect.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__iworkspace__ = __webpack_require__("../../../../../src/app/models/photoedit/iworkspace.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__workModeBase__ = __webpack_require__("../../../../../src/app/models/photoedit/workmodes/workModeBase.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();



var WorkModeSelection = /** @class */ (function (_super) {
    __extends(WorkModeSelection, _super);
    function WorkModeSelection(workspace, appService, shapeType) {
        var _this = _super.call(this, workspace, appService, false, true) || this;
        _this.workspace.cssClasses = "mouseCross";
        _this._shapeType = shapeType;
        _this.checkSelectionLayer();
        _this.workspace.selectionLayer.shapeType = _this._shapeType;
        return _this;
    }
    WorkModeSelection.prototype.checkSelectionLayer = function () {
        //check selection layer and also its type
        if (!this.workspace.selectionLayer || !(this.workspace.selectionLayer instanceof __WEBPACK_IMPORTED_MODULE_0__layerSelect__["a" /* LayerSelect */])) {
            var selectionLayer = this.createLayer(this.workspace.width, this.workspace.height, 0, 0);
            selectionLayer.scale = this.workspace.scale;
            this.workspace.selectionLayer = selectionLayer;
        }
    };
    Object.defineProperty(WorkModeSelection.prototype, "typeOf", {
        get: function () {
            return __WEBPACK_IMPORTED_MODULE_1__iworkspace__["a" /* WorkModes */].Selection;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(WorkModeSelection.prototype, "subTypeOf", {
        get: function () {
            return this._shapeType;
        },
        enumerable: true,
        configurable: true
    });
    WorkModeSelection.prototype.changeType = function (type) {
        this.checkSelectionLayer();
        this.workspace.selectionLayer.shapeType = type;
        this._shapeType = type;
    };
    WorkModeSelection.prototype.mouseMove = function (event, scroll) {
        if (this.workspace.selectionLayer)
            this.workspace.selectionLayer.mouseMove(event, scroll);
    };
    WorkModeSelection.prototype.mouseDown = function (event, scroll) {
        if (this.workspace.selectionLayer)
            this.workspace.selectionLayer.mouseDown(event, scroll);
    };
    WorkModeSelection.prototype.mouseUp = function (event, scroll) {
        if (this.workspace.selectionLayer)
            this.workspace.selectionLayer.mouseUp(event, scroll);
    };
    WorkModeSelection.prototype.doubleClick = function (event, scroll) {
        if (this.workspace.selectionLayer)
            this.workspace.selectionLayer.doubleClick(event, scroll);
    };
    WorkModeSelection.prototype.findSeledtedWorkspaceLayer = function () {
        var selectedLayer = this.workspace.layers.find(function (value) { return value.isSelected; });
        if (selectedLayer)
            return selectedLayer;
        if (this.workspace.layers.length > 0)
            return this.workspace.layers[0];
        return undefined;
    };
    WorkModeSelection.prototype.createLayer = function (width, height, left, top) {
        return new __WEBPACK_IMPORTED_MODULE_0__layerSelect__["a" /* LayerSelect */](width, height, left, top, this.findSeledtedWorkspaceLayer());
    };
    return WorkModeSelection;
}(__WEBPACK_IMPORTED_MODULE_2__workModeBase__["a" /* WorkModeBase */]));



/***/ }),

/***/ "../../../../../src/app/models/photoedit/workmodes/workModeShape.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return WorkModeShape; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__lib_callback__ = __webpack_require__("../../../../../src/app/lib/callback.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__history_history__ = __webpack_require__("../../../../../src/app/models/photoedit/history/history.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__layerEmpty__ = __webpack_require__("../../../../../src/app/models/photoedit/layerEmpty.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__iworkspace__ = __webpack_require__("../../../../../src/app/models/photoedit/iworkspace.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__layerSvg__ = __webpack_require__("../../../../../src/app/models/photoedit/layerSvg.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__workModeBase__ = __webpack_require__("../../../../../src/app/models/photoedit/workmodes/workModeBase.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();






var WorkModeShape = /** @class */ (function (_super) {
    __extends(WorkModeShape, _super);
    function WorkModeShape(workspace, appService) {
        var _this = _super.call(this, workspace, appService, false, true) || this;
        _this._isMouseDown = false;
        _this.workspace.cssClasses = "mouseCross";
        _this.workspace.selectionLayer = undefined;
        _this.workspace.workLayer = new __WEBPACK_IMPORTED_MODULE_2__layerEmpty__["a" /* LayerEmpty */]("shape layer", _this.workspace.width, _this.workspace.height);
        _this.workspace.workLayer.scale = _this.workspace.scale;
        return _this;
    }
    Object.defineProperty(WorkModeShape.prototype, "typeOf", {
        get: function () {
            return __WEBPACK_IMPORTED_MODULE_3__iworkspace__["a" /* WorkModes */].Shapes;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(WorkModeShape.prototype, "subTypeOf", {
        get: function () {
            return "";
        },
        enumerable: true,
        configurable: true
    });
    WorkModeShape.prototype.setShape = function (shape) {
        this.shape = shape;
    };
    WorkModeShape.prototype.mouseMove = function (event, scroll) {
        if (this._isMouseDown) {
            var scaleX = this.shape.viewportW / this.shape.viewportH;
            var point = this.workspace.workLayer.normalizeMouseEvent(event, scroll, true);
            if (point.x < this.mouseDownPoint.x)
                this.layer.setLeft(point.x);
            if (point.y < this.mouseDownPoint.y)
                this.layer.setTop(point.y);
            var width = (point.x - this.mouseDownPoint.x).extAbs();
            var height = (point.y - this.mouseDownPoint.y).extAbs();
            if (width > height)
                height = width / scaleX;
            else {
                width = height * scaleX;
            }
            if (!isNaN(width) && !isNaN(height))
                this.layer.setWidthHeight(width, height);
            this.layer.invalidate();
        }
    };
    WorkModeShape.prototype.mouseDown = function (event, scroll) {
        this._isMouseDown = true;
        this.mouseDownPoint = this.workspace.workLayer.normalizeMouseEvent(event, scroll, true);
        this.layer = new __WEBPACK_IMPORTED_MODULE_4__layerSvg__["a" /* LayerSvg */](this.shape.name, this.shape.viewportW / this.shape.viewportH, 1, this.shape, this.workspace.foregroundColor);
        this.layer.scale = this.workspace.scale;
        this.layer.setLeft(this.mouseDownPoint.x);
        this.layer.setTop(this.mouseDownPoint.y);
        this.workspace.layers.push(this.layer);
        this.workspace.makeLayerSelected(this.layer);
        this.layer.invalidate();
    };
    WorkModeShape.prototype.mouseUp = function (event, scroll) {
        var _this = this;
        this._isMouseDown = false;
        var cloned = this.layer.clone();
        var history = __WEBPACK_IMPORTED_MODULE_1__history_history__["a" /* History */].create().setUndo(__WEBPACK_IMPORTED_MODULE_0__lib_callback__["a" /* Callback */].from(function () {
            var index = _this.workspace.layers.findIndex(function (p) { return p.uuid == cloned.uuid; });
            if (index >= 0)
                _this.workspace.layers.splice(index, 1);
        }));
        this.workspace.historyManager.add(history, __WEBPACK_IMPORTED_MODULE_0__lib_callback__["a" /* Callback */].from(function () {
            _this.workspace.layers.push(cloned.clone());
        }));
    };
    return WorkModeShape;
}(__WEBPACK_IMPORTED_MODULE_5__workModeBase__["a" /* WorkModeBase */]));



/***/ }),

/***/ "../../../../../src/app/modulesext/autocomplete/autocomplete.component.html":
/***/ (function(module, exports) {

module.exports = "<div tabindex=\"0\"\n     *ngIf=\"multiple === false\"\n     (keyup)=\"mainClick($event)\"\n     [offClick]=\"clickedOutside\"\n     class=\"ui-select-container dropdown open show\">\n    <div [ngClass]=\"{'ui-disabled': disabled}\"></div>\n    <div class=\"ui-select-match\"\n         *ngIf=\"!inputMode\">\n      <span tabindex=\"-1\"\n          class=\"btn btn-default btn-secondary btn-sm form-control ui-select-toggle\"\n          (click)=\"matchClick($event)\"\n          style=\"outline: 0;width:100%;display:inline-block\">\n        <span *ngIf=\"active.length <= 0\" class=\"ui-select-placeholder text-muted\">{{placeholder}}</span>\n        <span *ngIf=\"active.length > 0\" class=\"ui-select-match-text pull-left\"\n              [ngClass]=\"{'ui-select-allow-clear': allowClear && active.length > 0}\"\n              [innerHTML]=\"sanitize(active[0].text)\"></span>\n        <i class=\"dropdown-toggle pull-right\"></i>\n        <i class=\"caret pull-right\"></i>\n        <a *ngIf=\"allowClear && active.length>0\" class=\"btn btn-xs btn-link pull-right\" style=\"margin-right: 10px; padding: 0;\" (click)=\"removeClick(active[0], $event)\">\n           <i class=\"glyphicon glyphicon-remove\"></i>\n        </a>\n      </span>\n    </div>\n    <input type=\"text\" autocomplete=\"false\" tabindex=\"-1\"\n           (keydown)=\"inputEvent($event)\"\n           (keyup)=\"inputEvent($event, true)\"\n           [disabled]=\"disabled\"\n           style=\"width: 100%;\"\n           class=\"form-control ui-select-search btn-sm\"\n           *ngIf=\"inputMode\"\n           placeholder=\"{{active.length <= 0 ? placeholder : ''}}\">\n     <!-- options template -->\n     <ul *ngIf=\"optionsOpened && options && options.length > 0 && !firstItemHasChildren\"\n          class=\"ui-select-choices dropdown-menu\" role=\"menu\">\n        <li *ngFor=\"let o of options\" role=\"menuitem\">\n          <div class=\"ui-select-choices-row\"\n               [class.active]=\"isActive(o)\"\n               (mouseenter)=\"selectActive(o)\"\n               (click)=\"selectMatch(o, $event)\">\n            <a href=\"javascript:void(0)\"   class=\"dropdown-item\">\n              <div [style.fontFamily]=\"o.text\" [innerHTML]=\"sanitize(o.text | highlight:inputValue)\"></div>\n            </a>\n          </div>\n        </li>\n      </ul>\n  \n      <ul *ngIf=\"optionsOpened && options && options.length > 0 && firstItemHasChildren\"\n          class=\"ui-select-choices dropdown-menu\" role=\"menu\">\n        <li *ngFor=\"let c of options; let index=index\" role=\"menuitem\">\n          <div class=\"divider dropdown-divider\" *ngIf=\"index > 0\"></div>\n          <div class=\"dropdown-header\">{{c.text}}</div>\n  \n          <div *ngFor=\"let o of c.children\"\n               class=\"ui-select-choices-row\"\n               [class.active]=\"isActive(o)\"\n               (mouseenter)=\"selectActive(o)\"\n               (click)=\"selectMatch(o, $event)\"\n               [ngClass]=\"{'active': isActive(o)}\">\n            <a href=\"javascript:void(0)\" class=\"dropdown-item\">\n              <div [style.fontFamily]=\"o.text\" [innerHTML]=\"sanitize(o.text | highlight:inputValue)\"></div>\n            </a>\n          </div>\n        </li>\n      </ul>\n  </div>\n  <div tabindex=\"0\"\n     *ngIf=\"multiple === true\"\n     (keyup)=\"mainClick($event)\"\n     (focus)=\"focusToInput('')\"\n     [offClick]=\"clickedOutside\"\n     class=\"ui-select-container ui-select-multiple dropdown form-control open show\">\n    <div [ngClass]=\"{'ui-disabled': disabled}\"></div>\n    <span class=\"ui-select-match\">\n        <span *ngFor=\"let a of active\">\n            <span class=\"ui-select-match-item btn btn-default btn-secondary btn-xs\"\n                  tabindex=\"-1\"\n                  type=\"button\"\n                  [ngClass]=\"{'btn-default': true}\">\n               <a class=\"close\"\n                  style=\"margin-left: 5px; padding: 0;\"\n                  (click)=\"removeClick(a, $event)\">&times;</a>\n               <span [innerHtml]=\"sanitize(a.text)\"></span>\n           </span>\n        </span>\n    </span>\n    <input type=\"text\"\n           (keydown)=\"inputEvent($event)\"\n           (keyup)=\"inputEvent($event, true)\"\n           (click)=\"matchClick($event)\"\n           [disabled]=\"disabled\"\n           autocomplete=\"false\"\n           autocorrect=\"off\"\n           autocapitalize=\"off\"\n           spellcheck=\"false\"\n           style=\"width:100%\";\n           class=\"form-control btn-sm ui-select-search\"\n           placeholder=\"{{active.length <= 0 ? placeholder : ''}}\"\n           role=\"combobox\">\n     <!-- options template -->\n     <ul *ngIf=\"optionsOpened && options && options.length > 0 && !firstItemHasChildren\"\n          class=\"ui-select-choices dropdown-menu\" role=\"menu\">\n        <li *ngFor=\"let o of options\" role=\"menuitem\">\n          <div class=\"ui-select-choices-row\"\n               [class.active]=\"isActive(o)\"\n               (mouseenter)=\"selectActive(o)\"\n               (click)=\"selectMatch(o, $event)\">\n            <a href=\"javascript:void(0)\" class=\"dropdown-item\">\n              <div [style.fontFamily]=\"o.text\" [innerHTML]=\"sanitize(o.text | highlight:inputValue)\"></div>\n            </a>\n          </div>\n        </li>\n      </ul>\n  \n      <ul *ngIf=\"optionsOpened && options && options.length > 0 && firstItemHasChildren\"\n          class=\"ui-select-choices dropdown-menu\" role=\"menu\">\n        <li *ngFor=\"let c of options; let index=index\" role=\"menuitem\">\n          <div class=\"divider dropdown-divider\" *ngIf=\"index > 0\"></div>\n          <div class=\"dropdown-header\">{{c.text}}</div>\n  \n          <div *ngFor=\"let o of c.children\"\n               class=\"ui-select-choices-row\"\n               [class.active]=\"isActive(o)\"\n               (mouseenter)=\"selectActive(o)\"\n               (click)=\"selectMatch(o, $event)\"\n               [ngClass]=\"{'active': isActive(o)}\">\n            <a href=\"javascript:void(0)\" class=\"dropdown-item\">\n              <div [style.fontFamily]=\"o.text\" [innerHTML]=\"sanitize(o.text | highlight:inputValue)\"></div>\n            </a>\n          </div>\n        </li>\n      </ul>\n  </div>"

/***/ }),

/***/ "../../../../../src/app/modulesext/autocomplete/autocomplete.component.scss":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, ".ui-select-toggle {\n  position: relative; }\n\n/* Fix caret going into new line in Firefox */\n\n.ui-select-placeholder {\n  float: left; }\n\n/* Fix Bootstrap dropdown position when inside a input-group */\n\n/*  .input-group > .dropdown {\n   \n    position: static;\n  }\n   */\n\n.ui-select-match > .btn {\n  /* Instead of center because of .btn */\n  text-align: left !important; }\n\n.ui-select-match > .caret {\n  position: absolute;\n  top: 45%;\n  right: 15px; }\n\n.ui-disabled {\n  background-color: #eceeef;\n  border-radius: 4px;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  z-index: 5;\n  opacity: 0.6;\n  top: 0;\n  left: 0;\n  cursor: not-allowed; }\n\n.ui-select-choices {\n  width: 100%;\n  height: auto;\n  max-height: 200px;\n  overflow-x: hidden;\n  margin-top: 0;\n  background: whitesmoke; }\n\n.ui-select-multiple .ui-select-choices {\n  margin-top: 1px; }\n\n.ui-select-choices-row > a {\n  display: block;\n  padding: 3px 20px;\n  clear: both;\n  font-weight: 400;\n  line-height: 1.42857143;\n  color: #333;\n  white-space: nowrap; }\n\n.ui-select-choices-row.active > a {\n  color: #fff;\n  text-decoration: none;\n  outline: 0;\n  background-color: #428bca; }\n\n.ui-select-multiple {\n  height: auto;\n  padding: 3px 3px 0 3px; }\n\n.ui-select-multiple input.ui-select-search {\n  background-color: transparent !important;\n  /* To prevent double background when disabled */\n  border: none;\n  outline: none;\n  -webkit-box-shadow: none;\n          box-shadow: none;\n  height: 1.6666rem;\n  padding: 0;\n  margin-bottom: 3px; }\n\n.ui-select-match .close {\n  font-size: 1.6em;\n  line-height: 0.75; }\n\n.ui-select-multiple .ui-select-match-item {\n  outline: 0;\n  margin: 0 3px 3px 0; }\n\n.ui-select-toggle > .caret {\n  position: absolute;\n  height: 10px;\n  top: 50%;\n  right: 10px;\n  margin-top: -2px; }\n", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/modulesext/autocomplete/autocomplete.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AutocompleteComponent; });
/* unused harmony export Behavior */
/* unused harmony export GenericBehavior */
/* unused harmony export ChildrenBehavior */
/* unused harmony export escapeRegexp */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return OffClickDirective; });
/* unused harmony export SelectItem */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return HighlightPipe; });
/* unused harmony export stripTags */
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__ = __webpack_require__("../../../platform-browser/esm5/platform-browser.js");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var AutocompleteComponent = /** @class */ (function () {
    function AutocompleteComponent(element, sanitizer) {
        this.sanitizer = sanitizer;
        this.allowClear = false;
        this.placeholder = '';
        this.idField = 'id';
        this.textField = 'text';
        this.childrenField = 'children';
        this.multiple = false;
        this.data = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        this.selected = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        this.removed = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        this.typed = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        this.opened = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        this.options = [];
        this.itemObjects = [];
        this.onChange = Function.prototype;
        this.onTouched = Function.prototype;
        this.inputMode = false;
        this._optionsOpened = false;
        this.inputValue = '';
        this._items = [];
        this._disabled = false;
        this._active = [];
        this.element = element;
        this.clickedOutside = this.clickedOutside.bind(this);
    }
    Object.defineProperty(AutocompleteComponent.prototype, "items", {
        set: function (value) {
            var _this = this;
            if (!value) {
                this._items = this.itemObjects = [];
            }
            else {
                this._items = value.filter(function (item) {
                    if ((typeof item === 'string') || (typeof item === 'object' && item && item[_this.textField] && item[_this.idField])) {
                        return item;
                    }
                });
                this.itemObjects = this._items.map(function (item) { return (typeof item === 'string' ? new SelectItem(item) : new SelectItem({ id: item[_this.idField], text: item[_this.textField], children: item[_this.childrenField] })); });
            }
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(AutocompleteComponent.prototype, "disabled", {
        get: function () {
            return this._disabled;
        },
        set: function (value) {
            this._disabled = value;
            if (this._disabled === true) {
                this.hideOptions();
            }
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(AutocompleteComponent.prototype, "active", {
        get: function () {
            return this._active;
        },
        set: function (selectedItems) {
            var _this = this;
            if (!selectedItems || selectedItems.length === 0) {
                this._active = [];
            }
            else {
                var areItemsStrings_1 = typeof selectedItems[0] === 'string';
                this._active = selectedItems.map(function (item) {
                    var data = areItemsStrings_1
                        ? item
                        : { id: item[_this.idField], text: item[_this.textField] };
                    return new SelectItem(data);
                });
            }
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(AutocompleteComponent.prototype, "optionsOpened", {
        get: function () {
            return this._optionsOpened;
        },
        set: function (value) {
            this._optionsOpened = value;
            this.opened.emit(value);
        },
        enumerable: true,
        configurable: true
    });
    AutocompleteComponent.prototype.sanitize = function (html) {
        return this.sanitizer.bypassSecurityTrustHtml(html);
    };
    AutocompleteComponent.prototype.inputEvent = function (e, isUpMode) {
        if (isUpMode === void 0) { isUpMode = false; }
        // tab
        if (e.keyCode === 9) {
            return;
        }
        if (isUpMode && (e.keyCode === 37 || e.keyCode === 39 || e.keyCode === 38 ||
            e.keyCode === 40 || e.keyCode === 13)) {
            e.preventDefault();
            return;
        }
        // backspace
        if (!isUpMode && e.keyCode === 8) {
            var el = this.element.nativeElement
                .querySelector('div.ui-select-container > input');
            if (!el.value || el.value.length <= 0) {
                if (this.active.length > 0) {
                    this.remove(this.active[this.active.length - 1]);
                }
                e.preventDefault();
            }
        }
        // esc
        if (!isUpMode && e.keyCode === 27) {
            this.hideOptions();
            this.element.nativeElement.children[0].focus();
            e.preventDefault();
            return;
        }
        // del
        if (!isUpMode && e.keyCode === 46) {
            if (this.active.length > 0) {
                this.remove(this.active[this.active.length - 1]);
            }
            e.preventDefault();
        }
        // left
        if (!isUpMode && e.keyCode === 37 && this._items.length > 0) {
            this.behavior.first();
            e.preventDefault();
            return;
        }
        // right
        if (!isUpMode && e.keyCode === 39 && this._items.length > 0) {
            this.behavior.last();
            e.preventDefault();
            return;
        }
        // up
        if (!isUpMode && e.keyCode === 38) {
            this.behavior.prev();
            e.preventDefault();
            return;
        }
        // down
        if (!isUpMode && e.keyCode === 40) {
            this.behavior.next();
            e.preventDefault();
            return;
        }
        // enter
        if (!isUpMode && e.keyCode === 13) {
            if (this.active.indexOf(this.activeOption) === -1) {
                this.selectActiveMatch();
                this.behavior.next();
            }
            e.preventDefault();
            return;
        }
        var target = e.target || e.srcElement;
        if (target && target.value) {
            this.inputValue = target.value;
            this.behavior.filter(new RegExp(escapeRegexp(this.inputValue), 'ig'));
            this.doEvent('typed', this.inputValue);
        }
        else {
            this.open();
        }
    };
    AutocompleteComponent.prototype.ngOnInit = function () {
        this.behavior = (this.firstItemHasChildren) ?
            new ChildrenBehavior(this) : new GenericBehavior(this);
    };
    AutocompleteComponent.prototype.remove = function (item) {
        if (this._disabled === true) {
            return;
        }
        if (this.multiple === true && this.active) {
            var index = this.active.indexOf(item);
            this.active.splice(index, 1);
            this.data.next(this.active);
            this.doEvent('removed', item);
        }
        if (this.multiple === false) {
            this.active = [];
            this.data.next(this.active);
            this.doEvent('removed', item);
        }
    };
    AutocompleteComponent.prototype.doEvent = function (type, value) {
        if (this[type] && value) {
            this[type].next(value);
        }
        this.onTouched();
        if (type === 'selected' || type === 'removed') {
            this.onChange(this.active);
        }
    };
    AutocompleteComponent.prototype.clickedOutside = function () {
        this.inputMode = false;
        this.optionsOpened = false;
    };
    Object.defineProperty(AutocompleteComponent.prototype, "firstItemHasChildren", {
        get: function () {
            return this.itemObjects[0] && this.itemObjects[0].hasChildren();
        },
        enumerable: true,
        configurable: true
    });
    AutocompleteComponent.prototype.writeValue = function (val) {
        this.active = val;
        this.data.emit(this.active);
    };
    AutocompleteComponent.prototype.registerOnChange = function (fn) { this.onChange = fn; };
    AutocompleteComponent.prototype.registerOnTouched = function (fn) { this.onTouched = fn; };
    AutocompleteComponent.prototype.matchClick = function (e) {
        if (this._disabled === true) {
            return;
        }
        this.inputMode = !this.inputMode;
        if (this.inputMode === true && ((this.multiple === true && e) || this.multiple === false)) {
            this.focusToInput();
            this.open();
        }
    };
    AutocompleteComponent.prototype.mainClick = function (event) {
        if (this.inputMode === true || this._disabled === true) {
            return;
        }
        if (event.keyCode === 46) {
            event.preventDefault();
            this.inputEvent(event);
            return;
        }
        if (event.keyCode === 8) {
            event.preventDefault();
            this.inputEvent(event, true);
            return;
        }
        if (event.keyCode === 9 || event.keyCode === 13 ||
            event.keyCode === 27 || (event.keyCode >= 37 && event.keyCode <= 40)) {
            event.preventDefault();
            return;
        }
        this.inputMode = true;
        var value = String
            .fromCharCode(96 <= event.keyCode && event.keyCode <= 105 ? event.keyCode - 48 : event.keyCode)
            .toLowerCase();
        this.focusToInput(value);
        this.open();
        var target = event.target || event.srcElement;
        target.value = value;
        this.inputEvent(event);
    };
    AutocompleteComponent.prototype.selectActive = function (value) {
        this.activeOption = value;
    };
    AutocompleteComponent.prototype.isActive = function (value) {
        return this.activeOption.id === value.id;
    };
    AutocompleteComponent.prototype.removeClick = function (value, event) {
        event.stopPropagation();
        this.remove(value);
    };
    AutocompleteComponent.prototype.focusToInput = function (value) {
        var _this = this;
        if (value === void 0) { value = ''; }
        setTimeout(function () {
            var el = _this.element.nativeElement.querySelector('div.ui-select-container > input');
            if (el) {
                el.focus();
                el.value = value;
            }
        }, 0);
    };
    AutocompleteComponent.prototype.open = function () {
        var _this = this;
        this.options = this.itemObjects
            .filter(function (option) { return (_this.multiple === false ||
            _this.multiple === true && !_this.active.find(function (o) { return option.text === o.text; })); });
        if (this.options.length > 0) {
            this.behavior.first();
        }
        this.optionsOpened = true;
    };
    AutocompleteComponent.prototype.hideOptions = function () {
        this.inputMode = false;
        this.optionsOpened = false;
    };
    AutocompleteComponent.prototype.selectActiveMatch = function () {
        this.selectMatch(this.activeOption);
    };
    AutocompleteComponent.prototype.selectMatch1 = function () {
        alert('a');
    };
    AutocompleteComponent.prototype.selectMatch2 = function () {
        alert('b');
    };
    AutocompleteComponent.prototype.selectMatch3 = function () {
        alert('c');
    };
    AutocompleteComponent.prototype.selectMatch = function (value, e) {
        if (e === void 0) { e = void 0; }
        if (e) {
            e.stopPropagation();
            e.preventDefault();
        }
        if (this.options.length <= 0) {
            return;
        }
        if (this.multiple === true) {
            this.active.push(value);
            this.data.next(this.active);
        }
        if (this.multiple === false) {
            this.active[0] = value;
            this.data.next(this.active[0]);
        }
        this.doEvent('selected', value);
        this.hideOptions();
        if (this.multiple === true) {
            this.focusToInput('');
        }
        else {
            this.focusToInput(stripTags(value.text));
            this.element.nativeElement.querySelector('.ui-select-container').focus();
        }
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", Boolean)
    ], AutocompleteComponent.prototype, "allowClear", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", String)
    ], AutocompleteComponent.prototype, "placeholder", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", String)
    ], AutocompleteComponent.prototype, "idField", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", String)
    ], AutocompleteComponent.prototype, "textField", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", String)
    ], AutocompleteComponent.prototype, "childrenField", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", Boolean)
    ], AutocompleteComponent.prototype, "multiple", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", Array),
        __metadata("design:paramtypes", [Array])
    ], AutocompleteComponent.prototype, "items", null);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", Boolean),
        __metadata("design:paramtypes", [Boolean])
    ], AutocompleteComponent.prototype, "disabled", null);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", Array),
        __metadata("design:paramtypes", [Array])
    ], AutocompleteComponent.prototype, "active", null);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"])
    ], AutocompleteComponent.prototype, "data", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"])
    ], AutocompleteComponent.prototype, "selected", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"])
    ], AutocompleteComponent.prototype, "removed", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"])
    ], AutocompleteComponent.prototype, "typed", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"])
    ], AutocompleteComponent.prototype, "opened", void 0);
    AutocompleteComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'autocomplete',
            template: __webpack_require__("../../../../../src/app/modulesext/autocomplete/autocomplete.component.html"),
            styles: [__webpack_require__("../../../../../src/app/modulesext/autocomplete/autocomplete.component.scss")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"], __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__["c" /* DomSanitizer */]])
    ], AutocompleteComponent);
    return AutocompleteComponent;
}());

var Behavior = /** @class */ (function () {
    function Behavior(actor) {
        this.optionsMap = new Map();
        this.actor = actor;
    }
    Behavior.prototype.fillOptionsMap = function () {
        var _this = this;
        this.optionsMap.clear();
        var startPos = 0;
        this.actor.itemObjects
            .map(function (item) {
            startPos = item.fillChildrenHash(_this.optionsMap, startPos);
        });
    };
    Behavior.prototype.ensureHighlightVisible = function (optionsMap) {
        if (optionsMap === void 0) { optionsMap = void 0; }
        var container = this.actor.element.nativeElement.querySelector('.ui-select-choices-content');
        if (!container) {
            return;
        }
        var choices = container.querySelectorAll('.ui-select-choices-row');
        if (choices.length < 1) {
            return;
        }
        var activeIndex = this.getActiveIndex(optionsMap);
        if (activeIndex < 0) {
            return;
        }
        var highlighted = choices[activeIndex];
        if (!highlighted) {
            return;
        }
        var posY = highlighted.offsetTop + highlighted.clientHeight - container.scrollTop;
        var height = container.offsetHeight;
        if (posY > height) {
            container.scrollTop += posY - height;
        }
        else if (posY < highlighted.clientHeight) {
            container.scrollTop -= highlighted.clientHeight - posY;
        }
    };
    Behavior.prototype.getActiveIndex = function (optionsMap) {
        if (optionsMap === void 0) { optionsMap = void 0; }
        var ai = this.actor.options.indexOf(this.actor.activeOption);
        if (ai < 0 && optionsMap !== void 0) {
            ai = optionsMap.get(this.actor.activeOption.id);
        }
        return ai;
    };
    return Behavior;
}());

var GenericBehavior = /** @class */ (function (_super) {
    __extends(GenericBehavior, _super);
    function GenericBehavior(actor) {
        return _super.call(this, actor) || this;
    }
    GenericBehavior.prototype.first = function () {
        this.actor.activeOption = this.actor.options[0];
        _super.prototype.ensureHighlightVisible.call(this);
    };
    GenericBehavior.prototype.last = function () {
        this.actor.activeOption = this.actor.options[this.actor.options.length - 1];
        _super.prototype.ensureHighlightVisible.call(this);
    };
    GenericBehavior.prototype.prev = function () {
        var index = this.actor.options.indexOf(this.actor.activeOption);
        this.actor.activeOption = this.actor
            .options[index - 1 < 0 ? this.actor.options.length - 1 : index - 1];
        _super.prototype.ensureHighlightVisible.call(this);
    };
    GenericBehavior.prototype.next = function () {
        var index = this.actor.options.indexOf(this.actor.activeOption);
        this.actor.activeOption = this.actor
            .options[index + 1 > this.actor.options.length - 1 ? 0 : index + 1];
        _super.prototype.ensureHighlightVisible.call(this);
    };
    GenericBehavior.prototype.filter = function (query) {
        var _this = this;
        var options = this.actor.itemObjects
            .filter(function (option) {
            return stripTags(option.text).match(query) &&
                (_this.actor.multiple === false ||
                    (_this.actor.multiple === true && _this.actor.active.map(function (item) { return item.id; }).indexOf(option.id) < 0));
        });
        this.actor.options = options;
        if (this.actor.options.length > 0) {
            this.actor.activeOption = this.actor.options[0];
            _super.prototype.ensureHighlightVisible.call(this);
        }
    };
    return GenericBehavior;
}(Behavior));

var ChildrenBehavior = /** @class */ (function (_super) {
    __extends(ChildrenBehavior, _super);
    function ChildrenBehavior(actor) {
        return _super.call(this, actor) || this;
    }
    ChildrenBehavior.prototype.first = function () {
        this.actor.activeOption = this.actor.options[0].children[0];
        this.fillOptionsMap();
        this.ensureHighlightVisible(this.optionsMap);
    };
    ChildrenBehavior.prototype.last = function () {
        this.actor.activeOption =
            this.actor
                .options[this.actor.options.length - 1]
                .children[this.actor.options[this.actor.options.length - 1].children.length - 1];
        this.fillOptionsMap();
        this.ensureHighlightVisible(this.optionsMap);
    };
    ChildrenBehavior.prototype.prev = function () {
        var _this = this;
        var indexParent = this.actor.options
            .findIndex(function (option) { return _this.actor.activeOption.parent && _this.actor.activeOption.parent.id === option.id; });
        var index = this.actor.options[indexParent].children
            .findIndex(function (option) { return _this.actor.activeOption && _this.actor.activeOption.id === option.id; });
        this.actor.activeOption = this.actor.options[indexParent].children[index - 1];
        if (!this.actor.activeOption) {
            if (this.actor.options[indexParent - 1]) {
                this.actor.activeOption = this.actor
                    .options[indexParent - 1]
                    .children[this.actor.options[indexParent - 1].children.length - 1];
            }
        }
        if (!this.actor.activeOption) {
            this.last();
        }
        this.fillOptionsMap();
        this.ensureHighlightVisible(this.optionsMap);
    };
    ChildrenBehavior.prototype.next = function () {
        var _this = this;
        var indexParent = this.actor.options
            .findIndex(function (option) { return _this.actor.activeOption.parent && _this.actor.activeOption.parent.id === option.id; });
        var index = this.actor.options[indexParent].children
            .findIndex(function (option) { return _this.actor.activeOption && _this.actor.activeOption.id === option.id; });
        this.actor.activeOption = this.actor.options[indexParent].children[index + 1];
        if (!this.actor.activeOption) {
            if (this.actor.options[indexParent + 1]) {
                this.actor.activeOption = this.actor.options[indexParent + 1].children[0];
            }
        }
        if (!this.actor.activeOption) {
            this.first();
        }
        this.fillOptionsMap();
        this.ensureHighlightVisible(this.optionsMap);
    };
    ChildrenBehavior.prototype.filter = function (query) {
        var options = [];
        var optionsMap = new Map();
        var startPos = 0;
        for (var _i = 0, _a = this.actor.itemObjects; _i < _a.length; _i++) {
            var si = _a[_i];
            var children = si.children.filter(function (option) { return query.test(option.text); });
            startPos = si.fillChildrenHash(optionsMap, startPos);
            if (children.length > 0) {
                var newSi = si.getSimilar();
                newSi.children = children;
                options.push(newSi);
            }
        }
        this.actor.options = options;
        if (this.actor.options.length > 0) {
            this.actor.activeOption = this.actor.options[0].children[0];
            _super.prototype.ensureHighlightVisible.call(this, optionsMap);
        }
    };
    return ChildrenBehavior;
}(Behavior));

function escapeRegexp(queryToEscape) {
    return queryToEscape.replace(/([.?*+^$[\]\\(){}|-])/g, '\\$1');
}
var OffClickDirective = /** @class */ (function () {
    function OffClickDirective() {
    }
    /* tslint:enable */
    OffClickDirective.prototype.onClick = function ($event) {
        $event.stopPropagation();
    };
    OffClickDirective.prototype.ngOnInit = function () {
        var _this = this;
        setTimeout(function () { if (typeof document !== 'undefined') {
            document.addEventListener('click', _this.offClickHandler);
        } }, 0);
    };
    OffClickDirective.prototype.ngOnDestroy = function () {
        if (typeof document !== 'undefined') {
            document.removeEventListener('click', this.offClickHandler);
        }
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])('offClick'),
        __metadata("design:type", Object)
    ], OffClickDirective.prototype, "offClickHandler", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["HostListener"])('click', ['$event']),
        __metadata("design:type", Function),
        __metadata("design:paramtypes", [MouseEvent]),
        __metadata("design:returntype", void 0)
    ], OffClickDirective.prototype, "onClick", null);
    OffClickDirective = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Directive"])({
            selector: '[offClick]'
        })
    ], OffClickDirective);
    return OffClickDirective;
}());

var SelectItem = /** @class */ (function () {
    function SelectItem(source) {
        var _this = this;
        if (typeof source === 'string') {
            this.id = this.text = source;
        }
        if (typeof source === 'object') {
            this.id = source.id || source.text;
            this.text = source.text;
            if (source.children && source.text) {
                this.children = source.children.map(function (c) {
                    var r = new SelectItem(c);
                    r.parent = _this;
                    return r;
                });
                this.text = source.text;
            }
        }
    }
    SelectItem.prototype.fillChildrenHash = function (optionsMap, startIndex) {
        var i = startIndex;
        this.children.map(function (child) {
            optionsMap.set(child.id, i++);
        });
        return i;
    };
    SelectItem.prototype.hasChildren = function () {
        return this.children && this.children.length > 0;
    };
    SelectItem.prototype.getSimilar = function () {
        var r = new SelectItem(false);
        r.id = this.id;
        r.text = this.text;
        r.parent = this.parent;
        return r;
    };
    SelectItem.prototype.getFamily = function (o) {
        // debugger;
        return "Arial";
    };
    return SelectItem;
}());

var HighlightPipe = /** @class */ (function () {
    function HighlightPipe() {
    }
    HighlightPipe.prototype.transform = function (value, query) {
        if (query.length < 1) {
            return value;
        }
        if (query) {
            var tagRE = new RegExp('<[^<>]*>', 'ig');
            // get ist of tags
            var tagList = value.match(tagRE);
            // Replace tags with token
            var tmpValue = value.replace(tagRE, '$!$');
            // Replace search words
            value = tmpValue.replace(new RegExp(escapeRegexp(query), 'gi'), '<strong>$&</strong>');
            // Reinsert HTML
            for (var i = 0; value.indexOf('$!$') > -1; i++) {
                value = value.replace('$!$', tagList[i]);
            }
        }
        return value;
    };
    HighlightPipe = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Pipe"])({ name: 'highlight' })
    ], HighlightPipe);
    return HighlightPipe;
}());

function stripTags(input) {
    var tags = /<\/?([a-z][a-z0-9]*)\b[^>]*>/gi;
    var commentsAndPhpTags = /<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi;
    return input.replace(commentsAndPhpTags, '').replace(tags, '');
}


/***/ }),

/***/ "../../../../../src/app/modulesext/autocomplete/autocomplete.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AutoCompleteModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common__ = __webpack_require__("../../../common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__autocomplete_component__ = __webpack_require__("../../../../../src/app/modulesext/autocomplete/autocomplete.component.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};



var AutoCompleteModule = /** @class */ (function () {
    function AutoCompleteModule() {
    }
    AutoCompleteModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
            imports: [__WEBPACK_IMPORTED_MODULE_1__angular_common__["CommonModule"]],
            declarations: [__WEBPACK_IMPORTED_MODULE_2__autocomplete_component__["a" /* AutocompleteComponent */], __WEBPACK_IMPORTED_MODULE_2__autocomplete_component__["b" /* HighlightPipe */], __WEBPACK_IMPORTED_MODULE_2__autocomplete_component__["c" /* OffClickDirective */]],
            exports: [__WEBPACK_IMPORTED_MODULE_2__autocomplete_component__["a" /* AutocompleteComponent */], __WEBPACK_IMPORTED_MODULE_2__autocomplete_component__["b" /* HighlightPipe */], __WEBPACK_IMPORTED_MODULE_2__autocomplete_component__["c" /* OffClickDirective */]]
        })
    ], AutoCompleteModule);
    return AutoCompleteModule;
}());



/***/ }),

/***/ "../../../../../src/app/modulesext/autocomplete/index.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__autocomplete_component__ = __webpack_require__("../../../../../src/app/modulesext/autocomplete/autocomplete.component.ts");
/* harmony namespace reexport (by used) */ __webpack_require__.d(__webpack_exports__, "b", function() { return __WEBPACK_IMPORTED_MODULE_0__autocomplete_component__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__autocomplete_module__ = __webpack_require__("../../../../../src/app/modulesext/autocomplete/autocomplete.module.ts");
/* harmony namespace reexport (by used) */ __webpack_require__.d(__webpack_exports__, "a", function() { return __WEBPACK_IMPORTED_MODULE_1__autocomplete_module__["a"]; });




/***/ }),

/***/ "../../../../../src/app/modulesext/color-picker/classes.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return Hsva; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Hsla; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return Rgba; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "e", function() { return SliderPosition; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "d", function() { return SliderDimension; });
var Hsva = /** @class */ (function () {
    function Hsva(h, s, v, a) {
        this.h = h;
        this.s = s;
        this.v = v;
        this.a = a;
    }
    return Hsva;
}());

var Hsla = /** @class */ (function () {
    function Hsla(h, s, l, a) {
        this.h = h;
        this.s = s;
        this.l = l;
        this.a = a;
    }
    return Hsla;
}());

var Rgba = /** @class */ (function () {
    function Rgba(r, g, b, a) {
        this.r = r;
        this.g = g;
        this.b = b;
        this.a = a;
    }
    return Rgba;
}());

var SliderPosition = /** @class */ (function () {
    function SliderPosition(h, s, v, a) {
        this.h = h;
        this.s = s;
        this.v = v;
        this.a = a;
    }
    return SliderPosition;
}());

var SliderDimension = /** @class */ (function () {
    function SliderDimension(h, s, v, a) {
        this.h = h;
        this.s = s;
        this.v = v;
        this.a = a;
    }
    return SliderDimension;
}());



/***/ }),

/***/ "../../../../../src/app/modulesext/color-picker/color-picker.directive.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return TextDirective; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return SliderDirective; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ColorPickerComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__color_picker_service__ = __webpack_require__("../../../../../src/app/modulesext/color-picker/color-picker.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__classes__ = __webpack_require__("../../../../../src/app/modulesext/color-picker/classes.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



/*
@Directive({
    selector: '[colorPicker]',
    host: {
        '(input)': 'changeInput($event.target.value)',
        '(click)': 'onClick()'
    }
})
export class ColorPickerDirective implements OnInit, OnChanges {
    @Input('colorPicker') colorPicker: string;
    @Output('colorPickerChange') colorPickerChange = new EventEmitter<string>(true);
    @Input('cpToggle') cpToggle: boolean;
    @Output('cpToggleChange') cpToggleChange = new EventEmitter<boolean>(true);
    @Input('cpPosition') cpPosition: string = 'right';
    @Input('cpPositionOffset') cpPositionOffset: string = '0%';
    @Input('cpPositionRelativeToArrow') cpPositionRelativeToArrow: boolean = false;
    @Input('cpOutputFormat') cpOutputFormat: string = 'hex';
    @Input('cpPresetLabel') cpPresetLabel: string = 'Preset colors';
    @Input('cpPresetColors') cpPresetColors: Array<string>;
    @Input('cpCancelButton') cpCancelButton: boolean = false;
    @Input('cpCancelButtonClass') cpCancelButtonClass: string = 'cp-cancel-button-class';
    @Input('cpCancelButtonText') cpCancelButtonText: string = 'Cancel';
    @Input('cpOKButton') cpOKButton: boolean = false;
    @Input('cpOKButtonClass') cpOKButtonClass: string = 'cp-ok-button-class';
    @Input('cpOKButtonText') cpOKButtonText: string = 'OK';
    @Input('cpFallbackColor') cpFallbackColor: string = '#fff';
    @Input('cpHeight') cpHeight: string = 'auto';
    @Input('cpWidth') cpWidth: string = '230px';
    @Input('cpIgnoredElements') cpIgnoredElements: any = [];
    @Input('cpDialogDisplay') cpDialogDisplay: string = 'popup';
    @Input('cpSaveClickOutside') cpSaveClickOutside: boolean = true;
    @Input('cpAlphaChannel') cpAlphaChannel: string = 'hex6';

    private dialog: any;
    private created: boolean;
    private ignoreChanges: boolean = false;

    constructor(private compiler: Compiler, private vcRef: ViewContainerRef, private el: ElementRef, private service: ColorPickerService) {
        this.created = false;
    }

    ngOnChanges(changes: any): void {
        if (changes.cpToggle) {
            if (changes.cpToggle.currentValue) this.openDialog();
            if (!changes.cpToggle.currentValue && this.dialog) this.dialog.closeColorPicker();
        }
        if (changes.colorPicker) {
            if (this.dialog && !this.ignoreChanges) {
                if (this.cpDialogDisplay === 'inline') {
                    this.dialog.setInitialColor(changes.colorPicker.currentValue);
                }
                this.dialog.setColorFromString(changes.colorPicker.currentValue, false);

            }
            this.ignoreChanges = false;
        }
    }

    ngOnInit() {
        let hsva = this.service.stringToHsva(this.colorPicker);
        if (hsva === null) hsva = this.service.stringToHsva(this.colorPicker, true);
        if (hsva == null) {
            hsva = this.service.stringToHsva(this.cpFallbackColor);
        }
        this.colorPickerChange.emit(this.service.outputFormat(hsva, this.cpOutputFormat, this.cpAlphaChannel === 'hex8'));
    }

    onClick() {
        if (this.cpIgnoredElements.filter((item: any) => item === this.el.nativeElement).length === 0) {
            this.openDialog();
        }
    }

    openDialog() {
        if (!this.created) {
            this.created = true;
            this.compiler.compileModuleAndAllComponentsAsync(DynamicCpModule)
                .then(factory => {
                    const compFactory = factory.componentFactories.find(x => x.componentType === DialogComponent);
                    const injector = ReflectiveInjector.fromResolvedProviders([], this.vcRef.parentInjector);
                    const cmpRef = this.vcRef.createComponent(compFactory, 0, injector, []);
                    cmpRef.instance.setDialog(this, this.el, this.colorPicker, this.cpPosition, this.cpPositionOffset,
                        this.cpPositionRelativeToArrow, this.cpOutputFormat, this.cpPresetLabel, this.cpPresetColors,
                        this.cpCancelButton, this.cpCancelButtonClass, this.cpCancelButtonText,
                        this.cpOKButton, this.cpOKButtonClass, this.cpOKButtonText, this.cpHeight, this.cpWidth,
                        this.cpIgnoredElements, this.cpDialogDisplay, this.cpSaveClickOutside, this.cpAlphaChannel);
                    this.dialog = cmpRef.instance;
                });
        } else if (this.dialog) {
            this.dialog.openDialog(this.colorPicker);
        }
    }

    colorChanged(value: string, ignore: boolean = true) {
        this.ignoreChanges = ignore;
        this.colorPickerChange.emit(value)
    }

    changeInput(value: string) {
        this.dialog.setColorFromString(value, true);
    }

    toggle(value: boolean) {
        this.cpToggleChange.emit(value);
    }
}
 */
var TextDirective = /** @class */ (function () {
    function TextDirective() {
        this.newValue = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
    }
    TextDirective.prototype.changeInput = function (value) {
        if (this.rg === undefined) {
            this.newValue.emit(value);
        }
        else {
            var numeric = parseFloat(value);
            if (!isNaN(numeric) && numeric >= 0 && numeric <= this.rg) {
                this.newValue.emit({ v: numeric, rg: this.rg });
            }
        }
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])('newValue'),
        __metadata("design:type", Object)
    ], TextDirective.prototype, "newValue", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])('text'),
        __metadata("design:type", Object)
    ], TextDirective.prototype, "text", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])('rg'),
        __metadata("design:type", Number)
    ], TextDirective.prototype, "rg", void 0);
    TextDirective = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Directive"])({
            selector: '[text]',
            host: {
                '(input)': 'changeInput($event.target.value)'
            }
        })
    ], TextDirective);
    return TextDirective;
}());

var SliderDirective = /** @class */ (function () {
    function SliderDirective(el) {
        var _this = this;
        this.el = el;
        this.newValue = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        this.listenerMove = function (event) { _this.move(event); };
        this.listenerStop = function () { _this.stop(); };
    }
    SliderDirective.prototype.setCursor = function (event) {
        var height = this.el.nativeElement.offsetHeight;
        var width = this.el.nativeElement.offsetWidth;
        var x = Math.max(0, Math.min(this.getX(event), width));
        var y = Math.max(0, Math.min(this.getY(event), height));
        if (this.rgX !== undefined && this.rgY !== undefined) {
            this.newValue.emit({ s: x / width, v: (1 - y / height), rgX: this.rgX, rgY: this.rgY });
        }
        else if (this.rgX === undefined && this.rgY !== undefined) {
            this.newValue.emit({ v: y / height, rg: this.rgY });
        }
        else {
            this.newValue.emit({ v: x / width, rg: this.rgX });
        }
    };
    SliderDirective.prototype.move = function (event) {
        event.preventDefault();
        this.setCursor(event);
    };
    SliderDirective.prototype.start = function (event) {
        this.setCursor(event);
        document.addEventListener('mousemove', this.listenerMove);
        document.addEventListener('touchmove', this.listenerMove);
        document.addEventListener('mouseup', this.listenerStop);
        document.addEventListener('touchend', this.listenerStop);
    };
    SliderDirective.prototype.stop = function () {
        document.removeEventListener('mousemove', this.listenerMove);
        document.removeEventListener('touchmove', this.listenerMove);
        document.removeEventListener('mouseup', this.listenerStop);
        document.removeEventListener('touchend', this.listenerStop);
    };
    SliderDirective.prototype.getX = function (event) {
        return (event.pageX !== undefined ? event.pageX : event.touches[0].pageX) - this.el.nativeElement.getBoundingClientRect().left - window.pageXOffset;
    };
    SliderDirective.prototype.getY = function (event) {
        return (event.pageY !== undefined ? event.pageY : event.touches[0].pageY) - this.el.nativeElement.getBoundingClientRect().top - window.pageYOffset;
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])('newValue'),
        __metadata("design:type", Object)
    ], SliderDirective.prototype, "newValue", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])('slider'),
        __metadata("design:type", String)
    ], SliderDirective.prototype, "slider", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])('rgX'),
        __metadata("design:type", Number)
    ], SliderDirective.prototype, "rgX", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])('rgY'),
        __metadata("design:type", Number)
    ], SliderDirective.prototype, "rgY", void 0);
    SliderDirective = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Directive"])({
            selector: '[slider]',
            host: {
                '(mousedown)': 'start($event)',
                '(touchstart)': 'start($event)'
            }
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"]])
    ], SliderDirective);
    return SliderDirective;
}());

var ColorPickerComponent = /** @class */ (function () {
    function ColorPickerComponent(el, service) {
        this.el = el;
        this.service = service;
        this.show = false;
        this.position = "absolute";
        this.colorPickerChange = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"](true);
        this.cpToggleChange = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"](true);
        this.cpPosition = 'right';
        this.cpPositionOffset = '0';
        this.cpPositionRelativeToArrow = false;
        this.cpOutputFormat = 'hex';
        this.cpPresetLabel = 'Preset colors';
        this.cpCancelButton = false;
        this.cpCancelButtonClass = 'cp-cancel-button-class';
        this.cpCancelButtonText = 'Cancel';
        this.cpOKButton = false;
        this.cpOKButtonClass = 'cp-ok-button-class';
        this.cpOKButtonText = 'OK';
        this.cpFallbackColor = '#fff';
        this.cpHeight = 'auto';
        this.cpWidth = '230px';
        this.cpIgnoredElements = [];
        this.cpDialogDisplay = 'popup';
        this.cpSaveClickOutside = true;
        this.cpAlphaChannel = 'hex6';
        this.initialColor = 'rgba(255,255,255,1)';
        this.dialogArrowSize = 10;
        this.dialogArrowOffset = 0;
        this.dialogHeight = 0;
        this.dialogWidth = 0;
    }
    Object.defineProperty(ColorPickerComponent.prototype, "directiveElementRef", {
        get: function () {
            return this.el.nativeElement.previousElementSibling;
        },
        enumerable: true,
        configurable: true
    });
    /*  setDialog(instance: any, elementRef: ElementRef, color: any, cpPosition: string, cpPositionOffset: string,
         cpPositionRelativeToArrow: boolean, cpOutputFormat: string, cpPresetLabel: string, cpPresetColors: Array<string>,
         cpCancelButton: boolean, cpCancelButtonClass: string, cpCancelButtonText: string,
         cpOKButton: boolean, cpOKButtonClass: string, cpOKButtonText: string,
         cpHeight: string, cpWidth: string,
         cpIgnoredElements: any, cpDialogDisplay: string, cpSaveClickOutside: boolean, cpAlphaChannel: string) {
         this.directiveInstance = instance;
         this.initialColor = color;
         this.directiveElementRef = elementRef;
         this.cpPosition = cpPosition;
         this.cpPositionOffset = parseInt(cpPositionOffset);
         if (!cpPositionRelativeToArrow) {
             this.dialogArrowOffset = 0;
         }
         this.cpOutputFormat = cpOutputFormat;
         this.cpPresetLabel = cpPresetLabel;
         this.cpPresetColors = cpPresetColors;
         this.cpCancelButton = cpCancelButton;
         this.cpCancelButtonClass = cpCancelButtonClass;
         this.cpCancelButtonText = cpCancelButtonText;
         this.cpOKButton = cpOKButton;
         this.cpOKButtonClass = cpOKButtonClass;
         this.cpOKButtonText = cpOKButtonText;
         this.cpHeight = parseInt(cpHeight);
         this.cpWidth = parseInt(cpWidth);
         this.cpIgnoredElements = cpIgnoredElements;
         this.cpDialogDisplay = cpDialogDisplay;
         if (this.cpDialogDisplay === 'inline') {
             this.dialogArrowOffset = 0;
             this.dialogArrowSize = 0;
         }
         this.cpSaveClickOutside = cpSaveClickOutside;
         this.cpAlphaChannel = cpAlphaChannel;
     } */
    ColorPickerComponent.prototype.ngOnInit = function () {
        var _this = this;
        var alphaWidth = this.alphaSlider.nativeElement.offsetWidth;
        var hueWidth = this.hueSlider.nativeElement.offsetWidth;
        this.sliderDimMax = new __WEBPACK_IMPORTED_MODULE_2__classes__["d" /* SliderDimension */](hueWidth, parseInt(this.cpWidth), 130, alphaWidth);
        this.slider = new __WEBPACK_IMPORTED_MODULE_2__classes__["e" /* SliderPosition */](0, 0, 0, 0);
        if (this.cpOutputFormat === 'rgba') {
            this.format = 1;
        }
        else if (this.cpOutputFormat === 'hsla') {
            this.format = 2;
        }
        else {
            this.format = 0;
        }
        this.listenerMouseDown = function (event) { _this.onMouseDown(event); };
        this.listenerResize = function () { _this.onResize(); };
        this.setInitialColor(this.initialColor);
        this.setColorFromString(this.initialColor, false);
        //this.openDialog(this.initialColor, false);
    };
    ColorPickerComponent.prototype.ngDoCheck = function () {
        var dialogHeight = this.dialogElement.nativeElement.offsetHeight;
        var dialogWidth = this.dialogElement.nativeElement.offsetWidth;
        var changed = false;
        if (this.dialogHeight != dialogHeight && dialogHeight > 0) {
            this.dialogHeight = dialogHeight;
            changed = true;
        }
        if (this.dialogWidth != dialogWidth && dialogWidth > 0) {
            this.dialogWidth = dialogWidth;
            changed = true;
        }
        if (changed) {
            this.setDialogPosition();
        }
    };
    ColorPickerComponent.prototype.setInitialColor = function (color) {
        this.initialColor = color;
    };
    ColorPickerComponent.prototype.openDialog = function (color, emit) {
        if (emit === void 0) { emit = true; }
        this.setInitialColor(color);
        this.setColorFromString(color, emit);
        this.openColorPicker();
    };
    ColorPickerComponent.prototype.cancelColor = function () {
        this.setColorFromString(this.initialColor, true);
        if (this.cpDialogDisplay === 'popup') {
            this.colorChanged(this.initialColor, true);
            this.closeColorPicker();
        }
    };
    ColorPickerComponent.prototype.oKColor = function () {
        if (this.cpDialogDisplay === 'popup') {
            this.closeColorPicker();
        }
    };
    ColorPickerComponent.prototype.setColorFromString = function (value, emit) {
        if (emit === void 0) { emit = true; }
        var hsva;
        if (this.cpAlphaChannel === 'hex8') {
            hsva = this.service.stringToHsva(value, true);
            if (!hsva && !this.hsva) {
                hsva = this.service.stringToHsva(value, false);
            }
        }
        else {
            hsva = this.service.stringToHsva(value, false);
        }
        if (hsva) {
            this.hsva = hsva;
            this.update(emit);
        }
    };
    ColorPickerComponent.prototype.onMouseDown = function (event) {
        if ((!this.isDescendant(this.el.nativeElement, event.target)
            && event.target != this.directiveElementRef &&
            this.cpIgnoredElements.filter(function (item) { return item === event.target; }).length === 0) && this.cpDialogDisplay === 'popup') {
            if (!this.cpSaveClickOutside) {
                this.setColorFromString(this.initialColor, false);
                this.colorChanged(this.initialColor);
            }
            this.closeColorPicker();
        }
    };
    ColorPickerComponent.prototype.openColorPicker = function () {
        if (!this.show) {
            this.setDialogPosition();
            this.show = true;
            this.toggle(true);
            document.addEventListener('mousedown', this.listenerMouseDown);
            window.addEventListener('resize', this.listenerResize);
        }
    };
    ColorPickerComponent.prototype.closeColorPicker = function () {
        if (this.show) {
            this.show = false;
            this.position = "absolute";
            this.toggle(false);
            document.removeEventListener('mousedown', this.listenerMouseDown);
            window.removeEventListener('resize', this.listenerResize);
        }
    };
    ColorPickerComponent.prototype.onResize = function () {
        if (this.position === 'fixed') {
            this.setDialogPosition();
        }
    };
    ColorPickerComponent.prototype.setDialogPosition = function () {
        var node = this.directiveElementRef, position = 'static';
        var parentNode = null;
        while (node !== null && node.tagName !== 'HTML') {
            position = window.getComputedStyle(node).getPropertyValue("position");
            if (position !== 'static' && parentNode === null) {
                parentNode = node;
            }
            if (position === 'fixed') {
                break;
            }
            node = node.parentElement;
        }
        if (position !== 'fixed') {
            var boxDirective = this.createBox(this.directiveElementRef, true);
            if (parentNode === null) {
                parentNode = node;
            }
            var boxParent = this.createBox(parentNode, true);
            /* this.top = boxDirective.top - boxParent.top;
            this.left = boxDirective.left - boxParent.left; */
            this.top = boxDirective.top;
            this.left = boxDirective.left;
            this.position = 'fixed';
        }
        else {
            var boxDirective = this.createBox(this.directiveElementRef, false);
            this.top = boxDirective.top;
            this.left = boxDirective.left;
            this.position = 'fixed';
        }
        if (this.cpPosition === 'left') {
            this.top += boxDirective.height * parseInt(this.cpPositionOffset) / 100 - this.dialogArrowOffset;
            this.left -= parseInt(this.cpWidth) + this.dialogArrowSize - 2;
        }
        else if (this.cpPosition === 'top') {
            this.top -= this.dialogHeight + this.dialogArrowSize;
            this.left += parseInt(this.cpPositionOffset) / 100 * boxDirective.width - this.dialogArrowOffset;
            this.arrowTop = this.dialogHeight - 1;
        }
        else if (this.cpPosition === 'bottom') {
            this.top += boxDirective.height + this.dialogArrowSize;
            this.left += parseInt(this.cpPositionOffset) / 100 * boxDirective.width - this.dialogArrowOffset;
        }
        else {
            this.top += boxDirective.height * parseInt(this.cpPositionOffset) / 100 - this.dialogArrowOffset;
            this.left += boxDirective.width + this.dialogArrowSize;
        }
        if (this.top + this.dialogHeight > window.innerHeight)
            this.top = window.innerHeight - this.dialogHeight;
        if (this.top < 0)
            this.top = 0;
        if (this.left < 0)
            this.left = 0;
        if (this.left + this.dialogWidth > window.innerWidth)
            this.left = window.innerWidth - this.dialogWidth;
    };
    ColorPickerComponent.prototype.colorChanged = function (value, ignore) {
        if (ignore === void 0) { ignore = true; }
        this.colorPickerChange.emit(value);
    };
    ColorPickerComponent.prototype.changeInput = function (value) {
        this.setColorFromString(value, true);
    };
    ColorPickerComponent.prototype.toggle = function (value) {
        this.cpToggleChange.emit(value);
    };
    ColorPickerComponent.prototype.setSaturation = function (val) {
        var hsla = this.service.hsva2hsla(this.hsva);
        hsla.s = val.v / val.rg;
        this.hsva = this.service.hsla2hsva(hsla);
        this.update();
    };
    ColorPickerComponent.prototype.setLightness = function (val) {
        var hsla = this.service.hsva2hsla(this.hsva);
        hsla.l = val.v / val.rg;
        this.hsva = this.service.hsla2hsva(hsla);
        this.update();
    };
    ColorPickerComponent.prototype.setHue = function (val) {
        this.hsva.h = val.v / val.rg;
        this.update();
    };
    ColorPickerComponent.prototype.setAlpha = function (val) {
        this.hsva.a = val.v / val.rg;
        this.update();
    };
    ColorPickerComponent.prototype.setR = function (val) {
        var rgba = this.service.hsvaToRgba(this.hsva);
        rgba.r = val.v / val.rg;
        this.hsva = this.service.rgbaToHsva(rgba);
        this.update();
    };
    ColorPickerComponent.prototype.setG = function (val) {
        var rgba = this.service.hsvaToRgba(this.hsva);
        rgba.g = val.v / val.rg;
        this.hsva = this.service.rgbaToHsva(rgba);
        this.update();
    };
    ColorPickerComponent.prototype.setB = function (val) {
        var rgba = this.service.hsvaToRgba(this.hsva);
        rgba.b = val.v / val.rg;
        this.hsva = this.service.rgbaToHsva(rgba);
        this.update();
    };
    ColorPickerComponent.prototype.setSaturationAndBrightness = function (val) {
        this.hsva.s = val.s / val.rgX;
        this.hsva.v = val.v / val.rgY;
        this.update();
    };
    ColorPickerComponent.prototype.formatPolicy = function () {
        this.format = (this.format + 1) % 3;
        if (this.format === 0 && this.hsva.a < 1 && this.cpAlphaChannel === 'hex6') {
            this.format++;
        }
        return this.format;
    };
    ColorPickerComponent.prototype.update = function (emit) {
        if (emit === void 0) { emit = true; }
        var hsla = this.service.hsva2hsla(this.hsva);
        var rgba = this.service.denormalizeRGBA(this.service.hsvaToRgba(this.hsva));
        var hueRgba = this.service.denormalizeRGBA(this.service.hsvaToRgba(new __WEBPACK_IMPORTED_MODULE_2__classes__["b" /* Hsva */](this.hsva.h, 1, 1, 1)));
        this.hslaText = new __WEBPACK_IMPORTED_MODULE_2__classes__["a" /* Hsla */](Math.round((hsla.h) * 360), Math.round(hsla.s * 100), Math.round(hsla.l * 100), Math.round(hsla.a * 100) / 100);
        this.rgbaText = new __WEBPACK_IMPORTED_MODULE_2__classes__["c" /* Rgba */](rgba.r, rgba.g, rgba.b, Math.round(rgba.a * 100) / 100);
        this.hexText = this.service.hexText(rgba, this.cpAlphaChannel === 'hex8');
        this.alphaSliderColor = 'rgb(' + rgba.r + ',' + rgba.g + ',' + rgba.b + ')';
        this.hueSliderColor = 'rgb(' + hueRgba.r + ',' + hueRgba.g + ',' + hueRgba.b + ')';
        if (this.format === 0 && this.hsva.a < 1 && this.cpAlphaChannel === 'hex6') {
            this.format++;
        }
        var lastOutput = this.outputColor;
        this.outputColor = this.service.outputFormat(this.hsva, this.cpOutputFormat, this.cpAlphaChannel === 'hex8');
        this.selectedColor = this.service.outputFormat(this.hsva, 'rgba', false);
        this.slider = new __WEBPACK_IMPORTED_MODULE_2__classes__["e" /* SliderPosition */]((this.hsva.h) * this.sliderDimMax.h - 8, this.hsva.s * this.sliderDimMax.s - 8, (1 - this.hsva.v) * this.sliderDimMax.v - 8, this.hsva.a * this.sliderDimMax.a - 8);
        if (emit && lastOutput !== this.outputColor) {
            this.colorChanged(this.outputColor);
        }
    };
    ColorPickerComponent.prototype.isDescendant = function (parent, child) {
        var node = child.parentNode;
        while (node !== null) {
            if (node === parent) {
                return true;
            }
            node = node.parentNode;
        }
        return false;
    };
    ColorPickerComponent.prototype.createBox = function (element, offset) {
        return {
            top: element.getBoundingClientRect().top + (offset ? window.pageYOffset : 0),
            left: element.getBoundingClientRect().left + (offset ? window.pageXOffset : 0),
            width: element.offsetWidth,
            height: element.offsetHeight
        };
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])('colorPicker'),
        __metadata("design:type", String)
    ], ColorPickerComponent.prototype, "colorPicker", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])('colorPickerChange'),
        __metadata("design:type", Object)
    ], ColorPickerComponent.prototype, "colorPickerChange", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])('cpToggle'),
        __metadata("design:type", Boolean)
    ], ColorPickerComponent.prototype, "cpToggle", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])('cpToggleChange'),
        __metadata("design:type", Object)
    ], ColorPickerComponent.prototype, "cpToggleChange", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])('cpPosition'),
        __metadata("design:type", String)
    ], ColorPickerComponent.prototype, "cpPosition", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])('cpPositionOffset'),
        __metadata("design:type", String)
    ], ColorPickerComponent.prototype, "cpPositionOffset", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])('cpPositionRelativeToArrow'),
        __metadata("design:type", Boolean)
    ], ColorPickerComponent.prototype, "cpPositionRelativeToArrow", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])('cpOutputFormat'),
        __metadata("design:type", String)
    ], ColorPickerComponent.prototype, "cpOutputFormat", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])('cpPresetLabel'),
        __metadata("design:type", String)
    ], ColorPickerComponent.prototype, "cpPresetLabel", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])('cpPresetColors'),
        __metadata("design:type", Array)
    ], ColorPickerComponent.prototype, "cpPresetColors", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])('cpCancelButton'),
        __metadata("design:type", Boolean)
    ], ColorPickerComponent.prototype, "cpCancelButton", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])('cpCancelButtonClass'),
        __metadata("design:type", String)
    ], ColorPickerComponent.prototype, "cpCancelButtonClass", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])('cpCancelButtonText'),
        __metadata("design:type", String)
    ], ColorPickerComponent.prototype, "cpCancelButtonText", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])('cpOKButton'),
        __metadata("design:type", Boolean)
    ], ColorPickerComponent.prototype, "cpOKButton", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])('cpOKButtonClass'),
        __metadata("design:type", String)
    ], ColorPickerComponent.prototype, "cpOKButtonClass", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])('cpOKButtonText'),
        __metadata("design:type", String)
    ], ColorPickerComponent.prototype, "cpOKButtonText", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])('cpFallbackColor'),
        __metadata("design:type", String)
    ], ColorPickerComponent.prototype, "cpFallbackColor", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])('cpHeight'),
        __metadata("design:type", String)
    ], ColorPickerComponent.prototype, "cpHeight", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])('cpWidth'),
        __metadata("design:type", String)
    ], ColorPickerComponent.prototype, "cpWidth", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])('cpIgnoredElements'),
        __metadata("design:type", Object)
    ], ColorPickerComponent.prototype, "cpIgnoredElements", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])('cpDialogDisplay'),
        __metadata("design:type", String)
    ], ColorPickerComponent.prototype, "cpDialogDisplay", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])('cpSaveClickOutside'),
        __metadata("design:type", Boolean)
    ], ColorPickerComponent.prototype, "cpSaveClickOutside", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])('cpAlphaChannel'),
        __metadata("design:type", String)
    ], ColorPickerComponent.prototype, "cpAlphaChannel", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])('bindElement'),
        __metadata("design:type", String)
    ], ColorPickerComponent.prototype, "bindElement", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])('color'),
        __metadata("design:type", String)
    ], ColorPickerComponent.prototype, "initialColor", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])('hueSlider'),
        __metadata("design:type", Object)
    ], ColorPickerComponent.prototype, "hueSlider", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])('alphaSlider'),
        __metadata("design:type", Object)
    ], ColorPickerComponent.prototype, "alphaSlider", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])('dialogPopup'),
        __metadata("design:type", Object)
    ], ColorPickerComponent.prototype, "dialogElement", void 0);
    ColorPickerComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'color-picker',
            template: __webpack_require__("../../../../../src/app/modulesext/color-picker/templates/default/color-picker.html"),
            styles: [__webpack_require__("../../../../../src/app/modulesext/color-picker/templates/default/color-picker.scss")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"], __WEBPACK_IMPORTED_MODULE_1__color_picker_service__["a" /* ColorPickerService */]])
    ], ColorPickerComponent);
    return ColorPickerComponent;
}());

/* @NgModule({
    imports: [BrowserModule],
    declarations: [DialogComponent, TextDirective, SliderDirective],
    exports: [DialogComponent, TextDirective, SliderDirective],
})
class DynamicCpModule { }; */ 


/***/ }),

/***/ "../../../../../src/app/modulesext/color-picker/color-picker.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ColorPickerModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common__ = __webpack_require__("../../../common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__color_picker_service__ = __webpack_require__("../../../../../src/app/modulesext/color-picker/color-picker.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__color_picker_directive__ = __webpack_require__("../../../../../src/app/modulesext/color-picker/color-picker.directive.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};




var ColorPickerModule = /** @class */ (function () {
    function ColorPickerModule() {
    }
    ColorPickerModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
            imports: [__WEBPACK_IMPORTED_MODULE_1__angular_common__["CommonModule"]],
            providers: [__WEBPACK_IMPORTED_MODULE_2__color_picker_service__["a" /* ColorPickerService */]],
            declarations: [__WEBPACK_IMPORTED_MODULE_3__color_picker_directive__["a" /* ColorPickerComponent */], __WEBPACK_IMPORTED_MODULE_3__color_picker_directive__["c" /* TextDirective */], __WEBPACK_IMPORTED_MODULE_3__color_picker_directive__["b" /* SliderDirective */]],
            exports: [__WEBPACK_IMPORTED_MODULE_3__color_picker_directive__["a" /* ColorPickerComponent */]]
        })
    ], ColorPickerModule);
    return ColorPickerModule;
}());



/***/ }),

/***/ "../../../../../src/app/modulesext/color-picker/color-picker.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ColorPickerService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__classes__ = __webpack_require__("../../../../../src/app/modulesext/color-picker/classes.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var ColorPickerService = /** @class */ (function () {
    function ColorPickerService() {
    }
    ColorPickerService.prototype.hsla2hsva = function (hsla) {
        var h = Math.min(hsla.h, 1), s = Math.min(hsla.s, 1), l = Math.min(hsla.l, 1), a = Math.min(hsla.a, 1);
        if (l === 0) {
            return new __WEBPACK_IMPORTED_MODULE_1__classes__["b" /* Hsva */](h, 0, 0, a);
        }
        else {
            var v = l + s * (1 - Math.abs(2 * l - 1)) / 2;
            return new __WEBPACK_IMPORTED_MODULE_1__classes__["b" /* Hsva */](h, 2 * (v - l) / v, v, a);
        }
    };
    ColorPickerService.prototype.hsva2hsla = function (hsva) {
        var h = hsva.h, s = hsva.s, v = hsva.v, a = hsva.a;
        if (v === 0) {
            return new __WEBPACK_IMPORTED_MODULE_1__classes__["a" /* Hsla */](h, 0, 0, a);
        }
        else if (s === 0 && v === 1) {
            return new __WEBPACK_IMPORTED_MODULE_1__classes__["a" /* Hsla */](h, 1, 1, a);
        }
        else {
            var l = v * (2 - s) / 2;
            return new __WEBPACK_IMPORTED_MODULE_1__classes__["a" /* Hsla */](h, v * s / (1 - Math.abs(2 * l - 1)), l, a);
        }
    };
    ColorPickerService.prototype.rgbaToHsva = function (rgba) {
        var r = Math.min(rgba.r, 1), g = Math.min(rgba.g, 1), b = Math.min(rgba.b, 1), a = Math.min(rgba.a, 1);
        var max = Math.max(r, g, b), min = Math.min(r, g, b);
        var h, s, v = max;
        var d = max - min;
        s = max === 0 ? 0 : d / max;
        if (max === min) {
            h = 0;
        }
        else {
            switch (max) {
                case r:
                    h = (g - b) / d + (g < b ? 6 : 0);
                    break;
                case g:
                    h = (b - r) / d + 2;
                    break;
                case b:
                    h = (r - g) / d + 4;
                    break;
            }
            h /= 6;
        }
        return new __WEBPACK_IMPORTED_MODULE_1__classes__["b" /* Hsva */](h, s, v, a);
    };
    ColorPickerService.prototype.hsvaToRgba = function (hsva) {
        var h = hsva.h, s = hsva.s, v = hsva.v, a = hsva.a;
        var r, g, b;
        var i = Math.floor(h * 6);
        var f = h * 6 - i;
        var p = v * (1 - s);
        var q = v * (1 - f * s);
        var t = v * (1 - (1 - f) * s);
        switch (i % 6) {
            case 0:
                r = v, g = t, b = p;
                break;
            case 1:
                r = q, g = v, b = p;
                break;
            case 2:
                r = p, g = v, b = t;
                break;
            case 3:
                r = p, g = q, b = v;
                break;
            case 4:
                r = t, g = p, b = v;
                break;
            case 5:
                r = v, g = p, b = q;
                break;
        }
        return new __WEBPACK_IMPORTED_MODULE_1__classes__["c" /* Rgba */](r, g, b, a);
    };
    ColorPickerService.prototype.stringToHsva = function (colorString, hex8) {
        if (colorString === void 0) { colorString = ''; }
        if (hex8 === void 0) { hex8 = false; }
        var stringParsers = [
            {
                re: /(rgb)a?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*%?,\s*(\d{1,3})\s*%?(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,
                parse: function (execResult) {
                    return new __WEBPACK_IMPORTED_MODULE_1__classes__["c" /* Rgba */](parseInt(execResult[2]) / 255, parseInt(execResult[3]) / 255, parseInt(execResult[4]) / 255, isNaN(parseFloat(execResult[5])) ? 1 : parseFloat(execResult[5]));
                }
            },
            {
                re: /(hsl)a?\(\s*(\d{1,3})\s*,\s*(\d{1,3})%\s*,\s*(\d{1,3})%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,
                parse: function (execResult) {
                    return new __WEBPACK_IMPORTED_MODULE_1__classes__["a" /* Hsla */](parseInt(execResult[2]) / 360, parseInt(execResult[3]) / 100, parseInt(execResult[4]) / 100, isNaN(parseFloat(execResult[5])) ? 1 : parseFloat(execResult[5]));
                }
            }
        ];
        if (hex8) {
            stringParsers.push({
                re: /#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})$/,
                parse: function (execResult) {
                    return new __WEBPACK_IMPORTED_MODULE_1__classes__["c" /* Rgba */](parseInt(execResult[1], 16) / 255, parseInt(execResult[2], 16) / 255, parseInt(execResult[3], 16) / 255, parseInt(execResult[4], 16) / 255);
                }
            });
        }
        else {
            stringParsers.push({
                re: /#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})$/,
                parse: function (execResult) {
                    return new __WEBPACK_IMPORTED_MODULE_1__classes__["c" /* Rgba */](parseInt(execResult[1], 16) / 255, parseInt(execResult[2], 16) / 255, parseInt(execResult[3], 16) / 255, 1);
                }
            }, {
                re: /#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])$/,
                parse: function (execResult) {
                    return new __WEBPACK_IMPORTED_MODULE_1__classes__["c" /* Rgba */](parseInt(execResult[1] + execResult[1], 16) / 255, parseInt(execResult[2] + execResult[2], 16) / 255, parseInt(execResult[3] + execResult[3], 16) / 255, 1);
                }
            });
        }
        colorString = colorString.toLowerCase();
        var hsva = null;
        for (var key in stringParsers) {
            if (stringParsers.hasOwnProperty(key)) {
                var parser = stringParsers[key];
                var match = parser.re.exec(colorString), color = match && parser.parse(match);
                if (color) {
                    if (color instanceof __WEBPACK_IMPORTED_MODULE_1__classes__["c" /* Rgba */]) {
                        hsva = this.rgbaToHsva(color);
                    }
                    else if (color instanceof __WEBPACK_IMPORTED_MODULE_1__classes__["a" /* Hsla */]) {
                        hsva = this.hsla2hsva(color);
                    }
                    return hsva;
                }
            }
        }
        return hsva;
    };
    ColorPickerService.prototype.outputFormat = function (hsva, outputFormat, allowHex8) {
        if (hsva.a < 1) {
            switch (outputFormat) {
                case 'hsla':
                    var hsla = this.hsva2hsla(hsva);
                    var hslaText = new __WEBPACK_IMPORTED_MODULE_1__classes__["a" /* Hsla */](Math.round((hsla.h) * 360), Math.round(hsla.s * 100), Math.round(hsla.l * 100), Math.round(hsla.a * 100) / 100);
                    return 'hsla(' + hslaText.h + ',' + hslaText.s + '%,' + hslaText.l + '%,' + hslaText.a + ')';
                default:
                    if (allowHex8 && outputFormat === 'hex')
                        return this.hexText(this.denormalizeRGBA(this.hsvaToRgba(hsva)), allowHex8);
                    var rgba = this.denormalizeRGBA(this.hsvaToRgba(hsva));
                    return 'rgba(' + rgba.r + ',' + rgba.g + ',' + rgba.b + ',' + Math.round(rgba.a * 100) / 100 + ')';
            }
        }
        else {
            switch (outputFormat) {
                case 'hsla':
                    var hsla = this.hsva2hsla(hsva);
                    var hslaText = new __WEBPACK_IMPORTED_MODULE_1__classes__["a" /* Hsla */](Math.round((hsla.h) * 360), Math.round(hsla.s * 100), Math.round(hsla.l * 100), Math.round(hsla.a * 100) / 100);
                    return 'hsl(' + hslaText.h + ',' + hslaText.s + '%,' + hslaText.l + '%)';
                case 'rgba':
                    var rgba = this.denormalizeRGBA(this.hsvaToRgba(hsva));
                    return 'rgb(' + rgba.r + ',' + rgba.g + ',' + rgba.b + ')';
                default:
                    return this.hexText(this.denormalizeRGBA(this.hsvaToRgba(hsva)), allowHex8);
            }
        }
    };
    ColorPickerService.prototype.hexText = function (rgba, allowHex8) {
        var hexText = '#' + ((1 << 24) | (rgba.r << 16) | (rgba.g << 8) | rgba.b).toString(16).substr(1);
        if (hexText[1] === hexText[2] && hexText[3] === hexText[4] && hexText[5] === hexText[6] && rgba.a === 1 && !allowHex8) {
            hexText = '#' + hexText[1] + hexText[3] + hexText[5];
        }
        if (allowHex8) {
            hexText += ((1 << 8) | Math.round(rgba.a * 255)).toString(16).substr(1);
        }
        return hexText;
    };
    ColorPickerService.prototype.denormalizeRGBA = function (rgba) {
        return new __WEBPACK_IMPORTED_MODULE_1__classes__["c" /* Rgba */](Math.round(rgba.r * 255), Math.round(rgba.g * 255), Math.round(rgba.b * 255), rgba.a);
    };
    ColorPickerService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [])
    ], ColorPickerService);
    return ColorPickerService;
}());



/***/ }),

/***/ "../../../../../src/app/modulesext/color-picker/index.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__classes__ = __webpack_require__("../../../../../src/app/modulesext/color-picker/classes.ts");
/* unused harmony namespace reexport */
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__color_picker_directive__ = __webpack_require__("../../../../../src/app/modulesext/color-picker/color-picker.directive.ts");
/* harmony namespace reexport (by used) */ __webpack_require__.d(__webpack_exports__, "a", function() { return __WEBPACK_IMPORTED_MODULE_1__color_picker_directive__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__color_picker_module__ = __webpack_require__("../../../../../src/app/modulesext/color-picker/color-picker.module.ts");
/* harmony namespace reexport (by used) */ __webpack_require__.d(__webpack_exports__, "b", function() { return __WEBPACK_IMPORTED_MODULE_2__color_picker_module__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__color_picker_service__ = __webpack_require__("../../../../../src/app/modulesext/color-picker/color-picker.service.ts");
/* unused harmony namespace reexport */






/***/ }),

/***/ "../../../../../src/app/modulesext/color-picker/templates/default/color-picker.html":
/***/ (function(module, exports) {

module.exports = "<div  class=\"color-picker\" [style.display]='show?\"block\":\"none\"' [style.height.px]=\"cpHeight\" [style.width.px]=\"cpWidth\" [style.top.px]=\"top\" [style.left.px]=\"left\" [style.position]=\"position\" #dialogPopup>\n        <div *ngIf=\"cpDialogDisplay=='popup'\" class=\"arrow arrow-{{cpPosition}}\" [style.top.px]=\"arrowTop\"></div>\n    \n        <div [slider] [style.background-color]=\"hueSliderColor\" [rgX]=\"1\" [rgY]=\"1\" (newValue)=\"setSaturationAndBrightness($event)\" class=\"saturation-lightness\">\n            <div [style.left.px]=\"slider.s\" [style.top.px]=\"slider.v\" class=\"cursor\"></div>\n        </div>\n        <div class=\"box\">\n            <div class=\"left\">\n                <div class=\"selected-color-background\"></div>\n                <div [style.background-color]=\"selectedColor\" class=\"selected-color\"></div>\n            </div>\n            <div class=\"right\">\n                <div *ngIf=\"cpAlphaChannel==='disabled'\" style=\"height: 18px;\"></div>\n                \n                <div [slider] [rgX]=\"1\" (newValue)=\"setHue($event)\" class=\"hue\" #hueSlider>\n                    <div [style.left.px]=\"slider.h\" class=\"cursor\"></div>\n                </div>\n                \n                <div [hidden]=\"cpAlphaChannel==='disabled'\" [slider] [style.background-color]=\"alphaSliderColor\" [rgX]=\"1\" (newValue)=\"setAlpha($event)\" class=\"alpha\" #alphaSlider>\n                    <div [style.left.px]=\"slider.a\" class=\"cursor\"></div>\n                </div>\n            </div>\n        </div>\n\n    <div *ngIf=\"format==2\" class=\"hsla-text\">\n        <div class=\"box\">\n            <input [text] type=\"number\" pattern=\"[0-9]*\" min=\"0\" max=\"360\" [rg]=\"360\" (newValue)=\"setHue($event)\" [value]=\"hslaText.h\"/>\n            <input [text] type=\"number\" pattern=\"[0-9]*\" min=\"0\" max=\"100\" [rg]=\"100\" (newValue)=\"setSaturation($event)\" [value]=\"hslaText.s\"/>\n            <input [text] type=\"number\" pattern=\"[0-9]*\" min=\"0\" max=\"100\" [rg]=\"100\" (newValue)=\"setLightness($event)\" [value]=\"hslaText.l\"/>\n            <input *ngIf=\"cpAlphaChannel!=='disabled'\" [text] type=\"number\" pattern=\"[0-9]+([\\.,][0-9]{1,2})?\" min=\"0\" max=\"1\" step=\"0.1\" [rg]=\"1\" (newValue)=\"setAlpha($event)\" [value]=\"hslaText.a\"/>\n        </div>\n        <div class=\"box\">\n            <div>H</div><div>S</div><div>L</div><div *ngIf=\"cpAlphaChannel!=='disabled'\">A</div>\n        </div>\n    </div>\n\n    <div *ngIf=\"format==1\" class=\"rgba-text\">\n        <div class=\"box\">\n            <input [text] type=\"number\" pattern=\"[0-9]*\" min=\"0\" max=\"255\" [rg]=\"255\" (newValue)=\"setR($event)\" [value]=\"rgbaText.r\"/>\n            <input [text] type=\"number\" pattern=\"[0-9]*\" min=\"0\" max=\"255\" [rg]=\"255\" (newValue)=\"setG($event)\" [value]=\"rgbaText.g\"/>\n            <input [text] type=\"number\" pattern=\"[0-9]*\" min=\"0\" max=\"255\" [rg]=\"255\" (newValue)=\"setB($event)\" [value]=\"rgbaText.b\"/>\n            <input *ngIf=\"cpAlphaChannel!=='disabled'\" [text] type=\"number\" pattern=\"[0-9]+([\\.,][0-9]{1,2})?\" min=\"0\" max=\"1\" step=\"0.1\" [rg]=\"1\" (newValue)=\"setAlpha($event)\" [value]=\"rgbaText.a\"/>\n        </div>\n        <div class=\"box\">\n            <div>R</div><div>G</div><div>B</div><div *ngIf=\"cpAlphaChannel!=='disabled'\" >A</div>\n        </div>\n    </div>\n\n    <div *ngIf=\"format==0\"   class=\"hex-text\">\n        <div class=\"box\">\n            <input [text] (newValue)=\"setColorFromString($event)\" [value]=\"hexText\"/>\n        </div>\n        <div class=\"box\">\n            <div>Hex</div>\n        </div>\n    </div>\n\n    <div (click)=\"formatPolicy()\" class=\"type-policy\"></div>\n\n    <div *ngIf=\"cpPresetColors && cpPresetColors.length\" class=\"preset-area\">\n       <hr>\n\n       <div class=\"preset-label\">{{cpPresetLabel}}</div>\n\n       <div *ngFor=\"let color of cpPresetColors\" class=\"preset-color\" [style.backgroundColor]=\"color\" (click)=\"setColorFromString(color)\"></div>\n    </div>\n\n    <div class=\"button-area\">\n        <button *ngIf=\"cpOKButton\" type=\"button\" class=\"{{cpOKButtonClass}}\" (click)=\"oKColor()\">{{cpOKButtonText}}</button>\n        <button *ngIf=\"cpCancelButton\" type=\"button\" class=\"{{cpCancelButtonClass}}\" (click)=\"cancelColor()\">{{cpCancelButtonText}}</button>\n    </div>\n  \n</div>\n"

/***/ }),

/***/ "../../../../../src/app/modulesext/color-picker/templates/default/color-picker.scss":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "/*\n * Styles for Color Picker\n * \n * Alberto Pujante\n * \n * @licence: http://opensource.org/licenses/MIT\n */\n.color-picker * {\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  margin: 0;\n  font-size: 11px; }\n.color-picker {\n  cursor: default;\n  width: 230px;\n  height: auto;\n  border: #443232 solid 1px;\n  left: 30px;\n  top: 250px;\n  position: absolute;\n  z-index: 1000;\n  background-color: #fff;\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none; }\n.color-picker i {\n    cursor: default;\n    position: relative; }\n.color-picker input {\n    text-align: center;\n    font-size: 13px;\n    height: 26px;\n    -moz-appearance: textfield; }\n.color-picker input:invalid {\n      -webkit-box-shadow: none;\n              box-shadow: none; }\n.color-picker input:-moz-submit-invalid {\n      box-shadow: none; }\n.color-picker input:-moz-ui-invalid {\n      box-shadow: none; }\n.color-picker input::-webkit-inner-spin-button, .color-picker input::-webkit-outer-spin-button {\n      -webkit-appearance: none;\n      margin: 0; }\n.color-picker .button-area {\n    padding: 0 16px 16px 16px;\n    text-align: right; }\n.color-picker .preset-area {\n    padding: 4px 15px; }\n.color-picker .preset-area .preset-label {\n      width: 100%;\n      padding: 4px;\n      font-size: 11px;\n      text-align: left;\n      color: #555; }\n.color-picker .preset-area .preset-color {\n      cursor: pointer;\n      display: inline-block;\n      width: 18px;\n      height: 18px;\n      margin: 4px 6px 8px 6px;\n      border-radius: 25%;\n      -khtml-border-radius: 25%;\n      border: #a9a9a9 solid 1px; }\n.color-picker .arrow {\n    height: 0;\n    width: 0;\n    border-style: solid;\n    position: absolute;\n    z-index: 999999; }\n.color-picker .arrow-right {\n    border-width: 5px 10px;\n    border-color: transparent #443232 transparent transparent;\n    top: 10px;\n    left: -20px; }\n.color-picker .arrow-left {\n    border-width: 5px 10px;\n    border-color: transparent transparent transparent #443232;\n    top: 10px;\n    left: 231px; }\n.color-picker .arrow-bottom {\n    border-width: 10px 5px;\n    border-color: transparent transparent #443232 transparent;\n    top: -20px;\n    left: 10px; }\n.color-picker .arrow-top {\n    border-width: 10px 5px;\n    border-color: #443232 transparent transparent transparent;\n    left: 10px; }\n.color-picker div.cursor-sv {\n    cursor: default;\n    position: relative;\n    border-radius: 50%;\n    -khtml-border-radius: 50%;\n    width: 15px;\n    height: 15px;\n    border: #ddd solid 1px; }\n.color-picker div.cursor {\n    cursor: default;\n    position: relative;\n    border-radius: 50%;\n    -khtml-border-radius: 50%;\n    width: 16px;\n    height: 16px;\n    border: #222 solid 2px; }\n.color-picker .saturation-lightness {\n    cursor: pointer;\n    width: 100%;\n    height: 130px;\n    border: none;\n    background-size: 100% 100%;\n    background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOYAAACCCAYAAABSD7T3AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AIWDwksPWR6lgAAIABJREFUeNrtnVuT47gRrAHN+P//Or/61Y5wONZ7mZ1u3XAeLMjJZGZVgdKsfc5xR3S0RIIUW+CHzCpc2McYo7XGv3ex7UiZd57rjyzzv+v+33X/R/+3r/f7vR386Y+TvKNcf/wdhTLPcv9qU2wZd74uth0t1821jkIZLPcsI/6nWa4XvutquU0Z85mnx80S/ZzgpnLnOtHNt7/ofx1TKXcSNzN/7qbMQ3ju7rNQmMYYd/4s2j9aa+P+gGaMcZrb1M/tdrvf7/d2v99P9/t93O/3cbvdxu12G9frdVwul3E+n8c///nP+2+//Xb66aefxl//+tfx5z//2YK5Al2rgvf4UsbpdGrB52bAvArXpuzjmiqAVSGz5eDmGYXzhbAZmCrnmzddpUU+8Y1dAOYeXCtDUwVwV7YCGH6uAmyMcZ9l5vkUaBPGMUZ7/J5w/792/fvv9Xq93263dr/fTxPECeME8nK5jM/Pz/HTTz/dv337dvrll1/GP/7xj/G3v/1t/OUvfwkVswongjdOp9PzH3U3D3zmWGnZVXn4jCqs7wC2BKP4/8tAzkZsoWx6XrqeHZymvp4ABCBJhTQwKfDT8gzrZCIqi5AhiACjBfEB2rP8/X63MM7f6/V6v9/v7Xa7bYC83W7jcrlsVHIq5ffv30+//fbb+OWXX8ZPP/00/v73v4+ff/75JSvbeu+bL2WMMaFbAlpBNM85QX+ct6qoSqkPAwuQlBVKqGNFSUOAA3Bmu7gC5hNOd15nSwvAOUW7C4giUCV8Sgn5L9hNFIqTsp0GxI0ysioyjAjkY/tGJVEpz+fz+OWXX+7fv38//f777+Pbt2/j119/HT///PP49ddfx8fHRwrmTjV779EXu2px2xhjwtdJZQcAWQIPLPISsMJaSwiD8gzIKrwSyATE5j5nAbR5c1dBUwBlsEWW0h6LqiYsqFPAQxCyRZ3wOSARxmlXMX5k64pQfvv27f75+dk+Pj5OHx8f4/v37+Pbt2/jt99+G9++fRsfHx/jcrmUFLO31gYDWblxRIs/TqfT7ousxJsAxXA2Gc7TA9XdgfdoHbFsj76X2+1WArgI1ageGwA3qupqoHsmcbI6Fu93quggFa9d7LeDtgKfAFHBJ+NEByIkcJ5KervdTmhhGcgJJSZ5vn//fj+fz+18Pp8+Pz/H5+fnmGD+/vvv4/v37+Pj42N8fn6O2+1Ws7JjjP6wraMI5E4RZ8x2vV5TSwkquotV7/d7Tz6HFWsD/qNcdw0CQ3q/321c686TwDVIdbuy73zNldhSHb8I2klZznm+InBS4U6n0302aBFsLhHDAKJVJVglfI9jhvu53W53sLANYNxAiDA6MCeUHx8f9+v12i6XS7tcLqcZW57P5yeY8/fz83Ocz+fnsSmYUyknWEG85WBst9stzSLyMdfr9Qi08iY15UZ0LlDGLhR3o5zK2j7OPUTD0E+nU3tk7Xb/16NFbhloAMuY1zjLUOO3BKeIDe+Z8s3/J4gFo4TM5jPmuRg28foUKKVSwo16TgA5npywcWLHgYl/Pz8/73/605/ab7/91m63W7tcLie0sZj4mao5gTyfz88E0f1+j8EcYzwTPEG2cqjyfHNF0M8fuqEiaOVnRzZZQNh5fwQyHg/HDGfJo89Q1zb/quu5XC6773I2XKfTqd/v9+d3wuqWva/YTdUdEV3fhIv/Viyps6YE3x3r43K5bJQS66zaxVGFsvd+//j4aF+/fm3fv39vt9utff36tf3+++/tdrudvn37ZuNLBaaCMgUzC+rZRiFowxUuJI8YMqcCp9Opq5vagaYU6lGJA1XQqejchw6Cj0Gw5nYBrGw01A2O206n04BGouNNyTfp/FwElhUey6nXrIKw7QQWddxuN2ldL5fL839gSPF8ahu/JvBO48CPSuqMf8Vp9/P53L58+dLu93s7n8/tfr8/39/v9/b5+TkhPJ3P56mQ436/j+/fv+/iSgbzer0+AZx/5+88bv6OMda6S5z6kd21fYC9dxv7cIJJ2d9AOS30fPMzyHiTM8B4DF6XUlYHp4KQW3W+1t77MNB1vGHxWq7Xa7vf78+y5/N5A+H1et29xuP5dbYtyaRu4AksbPq6936fjRzXRxBbPr/b+b18+fKljTHaBBBfn8/n0/1+H1++fBnn8zm0sB8fH5u4cr5GuBhMVk0EEn9RsctgVhM+ixlJtMA23R8B6yysAstBOgFXIKKCMIgToMqNEu2fYMH7ztc732dQKkCj1ytAZtY0Kx8pIr8GGJ+AT3V+2Hirhl++fBmXy2Wz73w+b17P8p+fn8/tUwGVleVkTyUb68DkfayWY4zxNRihU4EpLJPZVrK+u7J4/mgfKqeLW9X2REWlItL1diynbDDb3+jXgYjQqn0rrxWc+NkILP7F7xIbMvx7vV53x40xnlbWJF12ZSag/N0pW6t+ZzmOMzHjajKwDfond78zYTdfq18up97zr2q8v3IioBprRtBl0EZ9og5WBRGOdOHjIjXF7UotFbgOWnXzIJyzYvjG5IYgsmMOxHkz8OsMSrVNWeq5T8DaOcbEv1Od5rbs9aO7YvMet63EkF++fMExq+MRl4/L5bLZN/+ez+fnZ6KazuMqXSQVO5spJXflHAIzes/xJseckRJiDMog9d6VfRrqXMr6KpVV27jRwJacGovOAM1zMdQMnwK1AubK63kdCChvI1C7g0z9nf/D+Xze2Vj8H7Gx4P9duQlsYCrqyN8XqG3Hm/10Oj3jw/n+crlstuM+jPmmxT2dTuPz83Pzt2pn1XsEHX/bnPaVqVmh0xwOt0o6XLLAHePUU203wHfcrspCwmV3TryB5s0Mseeg97x/BwzCjBlbB+pRAPla0BVQuT6V6QHdBlj3d0KG147b+DqxQeUymDO43W4dQar+TIjwmAd0z8/h65vf0/yLv3Pb5XLpru/ydDo9s7ET0I+Pj6dKK9VUEIeKWQWPAOrJ8LKd4vE+t91Y3e7UFlWatg2VwJnb+HPmtvm/sfK59/OaWF3x/eP1UPHvA5DDYDpYXfb0drv1V2DkBkxtw/tEWVVlXWdC9pFYs5/jfh9dS/16vW7s6lTG+TfqsxSJHxkXXq/Xdr1eu4LsfD6P3vsT3N77DkL+zPm5jSdKL4zR3AxQd6rHkLkYlSowsrq7znzu6wSwdsMJOXmA5fBcjxtgMGBYHlr5zokhtsMCTgXLQOW4XC6dEyEMprL8mAQzXRgduix2yZzorxkYsDn3hB1VeMLGsXsVtgl2pW8S3svk0vw7R4hNaHvv4cACl5HFzwIH0Kc6zu4XjDPR/jpAVxWzO1Xk2DDb3vTcxeGU1iWZHkmIDWziWKvirCJ4Dravs6IJ/GG6cTqWdXDy+fArQDVVkLqkVjAoZIITdmmIqXwqa95N3+MGYoZQdRVNO53Y1xRkhO16vY7eu507Ca9lJnbGpxOemQhSw/AQsmmp5zU9BiU8G6wvX76M6/U6Pj4+do0Bz4CpgiknTUeDqwlKBmg3u4OVjrZ1A+rAcgaejWq6eJCvCYFDONSwOgHX4EQRw8lxbzDOdEK6gZ3Hk1b+8g2o1JFtKXyv/fEdTXuWjWXdAZiBp6ADeDrCFiim7B6ZFneeI7Gvm/PMkUDX67W7xI8b0D7/v8dA9qfN5oaCf74WZjH0mf1cmfY1Y0JUFmVrTWu8uzkNcLtEj7u5FXBTkfC6GOA5q8YMxO8KVvF6sAVGdcrUbsKODcQKkLMOMdmlxum642YrPm26AlhZW1YB1R+rrGswE8TaYAWeUMxdf+WjwSvZ2Ef3ytOyfn5+PpVPAaqOn43MtNBqvmjjxbjM4lZjZY4gqNMI5ktaW/sYKNwS+9lFQzGihmMCKPa7+Z0V6Eb0GRmobtpX8JljWu5FMLN5ja6hG9kwQgZqf5+1NH5UxzkFReCdWhJ8XdlGUkxO7HRlYRm4mVO43W7ter12TPJEw/rmEN3L5SKHIWZg9mz+pUoKOYq5bJTJdX2gme1UcxMZQFaEQIlHct32M+Y1BzGkGuzfiyAN9z+ugplZ1symCrDCYYkGxDTpI9RzBy0rHyeDUC1nWaeUaD9n4xkNyYMBDZtzZ3B++fJlY21XFDOcARJlabOyiS3uCpLI9jrZjCDkaVvcCCjwognKShWdzXZWlZMvVTgD8LpqlCLrqgbcB+qYwrgKYpT0ccCqbKyCValkEabn/FynogCrPKfqf51xJ7sGB2ZXcZmxoSOztjx300DZi7a0/2AIR0UlBag9SuDw6KcAzlaB7vHZvWpjK90dyrq6bKyDUZQbR0B05biLQkHIcSUmgIK+SwuqgHCnoio2RQU1yj+BnBy9pphVKLGyC7ZzFK1pxWK+E8IhVCWLN/uLtnUU4ayoYLoaANz8FdtaSvY4pV0BEW2ls61czqllBKpTyKgMAhrZ1cdc1RROtPmvWNkdcKZ7ZKxaWjiPLJMpp7OZKxA+rqG/oJLjxf0pnJlqLoDZo3gyU0mKGys2taKecj/d1C+rJSplBqlTyAqgR+D8KjKlmRL2gtUcAdCtsL+ijCNT1oqqqkH2OHEbG5sDFnUg5Aa+yLou2VU1ptj1S2ZQqv1ORZN9IWzRfgaRBxKoBE8UWyqlJFtrIc0AxNjSjed99CTY/XDfSzCz5M0IZoVEsWnPFNTsl8ooVC1TzbGgqFZNDSgVwKK+1sGDMKqxZCWGVMDysiEr1jVSQJUYwj5iHOlThdHt44SQg9CN+nl8D90NMIgAdgr46JqRiR9I8vRdFvbr17m/yxUMKjNLMiVUADwu2CWGhhi+F55TWM9M9cogzms1dnM4uOF/LAEYWdcqnM7yFmyq3IfwmOROd7Y1iFWtOjoY8To41mTV5IysgFFuRzsbWFGbNIIJCDv1dOo4lZG7jWBwRFtVTKuWyeCByJKOan8oZ3ep9XddNl0tDuaywLz9cXPYeDAA0SpkBO9sbVcTOVWldPv4uyzEkzxHtjvonHoSkFEWNoo1d8DhcQputd2ppNon4BzoAiJ1hBFQg0dVtdbGHHDQWushmNEQukLM2QO1G2Y8bgTXqFhcBJj7EjPgcPts8US8qPpPB/dXznOh5Z438tzH5ec6QgrOKrRRfKmysBmUDB+PhYabMlVPER+GCSITTzr7am2tArH3bgcEzPJm+cr5jJ4NnHNFDVrFXcI5Le9k5Jnw+bedbV+FfRzZIHaOOaOsLY0/7UGs58DjrGwKMIMFIGzOEW1/jGsdAtCN6hEAI4hBe9YXeRROBSVPAVPAqvIM5bx5hVKWAMP6zBRy3iescridVdFBinBxXDnG2GRY2XbCvp1lhvGtO9Bxu5h908XQu42lnSArMFdizMim8uwRCxPGnnOS8lwpnbOiDqTAjsrRN/PcoAScCbaACqVM40ylnjjTBs+bwWlAG23/UKbdkiwKWIQPGzWaczpoSlxPEj822cNWkpS7FyzsDrqpfgpG3jahw2vgbaSQAxuLWZYt7JzyNe8JoZpNAcvDFOdw0wqYT9AK1rZz/DdbSlLPp0ryIxgQJlK9AZlEq7IOXpohg9PIhrCng88JsOxiV4ZWAYfg4sikx/8ky2Z9l862uqwrfscIH8+ugTmVGyiddeVYUgEMn4GZzg14EwIsh9sx2cKKiWXReuOE5gzGOQgdlRKVVdlevqb279Xq0Qnsts2VDaBO0coezsruWtHApu6sKG4IBhN0aGU2kLrMKGRTN3HmbCDwKV14zvkMEDG4QfZVspVlaNU2mhc5TEZ3N1h/zqTheuLpW05ZWTGVjb3dbnNmxKZBnN8JqidaVLKAOyARNLS+MB54Z2+VaqoMLKroVBlngefnTPAcoHNWCSvlfA8CI0HEmBNBnBlXyMrzU7A7WVm94PPqQ2gmqKx+WDGsnvilmcSOBJqOK1nYyAIzuAyesq3UdSK3KfWcYKD95HmfYOU3qser2CtYEUA+FpfqdNvgPBZUBhDrGONRVlQsh8rLcaUCykHG0OOUwTlLBrsh5soEMGezi1E4HRVt1icp5wZEFXdibCkG8Y8vX75sbO4E0iom9z+hjSiOfy3DhpXItpVhE+UGQdvoWjtChmrGHf4YAzKgBNnGtuJxFCeGdhUAfQLLK8kBYAP6gvFJZajMG3Xkycy8KuC0q4Eyymwtwdxdv2M0mIBtK0LKnf640j00Auq4gUkdWGlhs22qJc6dZCsL19oxnlTJG4SYVRIGpD8TPFBuM6OElbS1pldid4mGAyN6ZIupbC5bXJN9fdpbThSxLUaI8IG1XIYBxW3Tjs6KQosKcxfxcQmdnwRGM10GnFcCy2XYunLMyAkdgk4mePiczsLygthcBut6goOqS7YVFXADLjaosB6s6ofcZWAZSIRYqSUkizYwttYab3vUOQ9w2HRxIIg8WwRVeE68xi4UtL3zRphxplzwuZrcqYCq1I3jPI5dnJIygEohMbPqVJSzrwzxBJTs5zN+ReUSgxikPQVF3JVBeNQxbHENrEMNvEdFZVV9lH9+ORGEsNZQpyTNc4C3AG7XF4ngzq+DrO2zbuaaOXgdaFcdkEotoSFBVX2qJ0C8OWZeG4KGlpghA0XfTOPCqV2qqwQ26QWfF2PMLhI2w1lVAa2aPsYd0za25MQRwgcZN6uQDCi+ZxiD4XEM2kZxOT41FnZnaRlcpZouzlRqqdbQVWopQoSB58RV50lBNrHi/AwXS5LrwDVlpY3Fc3ByiYGc52Trist6kOXdwInAQtJpp5QchyaquYOV7Su+fxVMaV3dc0RE2S6mUY0gLt2pMcYqrKIQ9w2l1gpQUMtQYcmmbt5DTNxdhnUCjQqtbK9SUSzvrC0mmhhE1e2FS2+oxypy/ZASutkmtjx3vcBC24PX65nbqkBCRhfjS9kIYPnee8cMagVOhI/3T1fAmdtAWZsCswTJCkQVNa0qWKSKPOpHAUhD9DrbVcyoYkwqhvh17vYAayXLQyKGYdxlUDFp494rBXRjYgO17DDYetNIUj/ezp6S0lnlpEwsWmJMkOwsKXeZKEAjIHn0EQJISaRBcO6UMINz7p/bEjjnw4ft+xmDvksxX4G2rIris7qaeKwAFMP2Oi7n4criuZwtpSUwpfLxSnORSrIqusc5ZFaXysqRWjiZ2DyAWEIL35tVSoQElFACjOeGGSE7AHEQgdo/LSvCOgGBvkxsmDbvlS3Fp5vhaB2TAGqRKrKKMrhLVpaGzEVjZ0OQxDhaCTA+QyRR1d15aQzrJntL3RibsipjG6jlgL4yqbS0sNYg1e84vhbBVrElK64CUcWYXDfKxhpIuxiVJZUxsbMy/uRBKTNRQ4kQ3LdRYLS0rJjRPlTPqY6gdJsEDc+aQXAn+HgsNUCbRuF0Oj0zwnA7bWDkbhO5Ens00qeQhS1laBMl5M/cAaxsLF8rKyql+Tf7ELLEGu/ixiimdCvo0TjfpjKwaggen4eh5v7LokLKbLuyvHhcZG8dhGrEDx7Hg93ZppJF7qBqO3iVveXEDQNInzeoe8Yq6ePaZBZ2JviM3W2UAGotekRCAGq4EkF1X3DOnR11yRsBL1tRa0PVcZiNFXZ2c34FskvomInQQ6lzpJoZbJxk43NwKJFBquJSsrByHydxKOnTxQASBmS3j+JMnsHSla3Ec6K9VWoJVn9zfjwOM7hqYAAqJQwE2a3nA48J2QGegRkpZNivSY+ys3EkKd4oJIwsvIHl3cWgLt5k4NH6OmtLWdpurOkwEMupYc7eMtDRhOcI2ui5JhVIzXzLyto/GAPuZoyo8wkoduVgJglCt7OhGbgID4Mq4si+63zUS1FuFFXFlqyaj2emHlLMcBqYu0FMuR28BbB7lOxRMSiCQXFhCKuwkhZ+pYDiGSgbsKKV8MiSRsuHSIWM9rklRiIlZZuqXjsQK8ooYJMgq3JKWVkhHbhsVxFUzthOWPkYijcbx54IKsSdT+uLr3crGKyoYgFiGR9iBk4kfloUX+JIlQRQqabmpgnhqtpQpb6RVQ1WH5DnrS4hEoGZqaerQ2dhFbz8XePxShmDbo70eISjoorO2vK8SJXI4SUmEU4zWKDzUDtWTYw7xXlbSTEj4FRg7zKnKoGRALv0Gs9Tgc1BpCywGZRQAtqVz2xrBcAMzEpfZwFSa2G5W0QBFjSMapWAEFa3HcGN7CxDzECyIkJ97qwrqWNTWVo876PPsjPkj2wvgroM5lLZKMETKVql/CvnWVFiFa/SzJUQwkoZsr67Y6vlSRV3/2tmNTOY3vnaxYwMuoPKqdzR1w7IqHymlPxaAThfU7Ko2ZXYj4AYJHL+kNdKwRQYESTRa5fsUZ/rVC1TMTyWVyYoqNtuzaHsMyv2tvoarxdfqwYgU1axFo/cnql1FGsqK+uAROV8BX4GU8WcZTATi2q7Qcyi0O0V+GhWBMNRUkn8H1SsWVE5By3Gi0ECqUeJoBfAtDa4amkdXG37AGP5Ggeb84p7UazpoKRzdFzeQ8HkoHGxprKy/Hpm5t12p47J6xTYDEz7uINEXSuxYXvFskYAc+ySxH9sf5ftKzU6IbwVBcUGg5e5FMCEXSErZR0wGayV19woM9guPjTqJdVTqR4uE4nJnLldWVkECCZLd2VLF+xtamex7IpiriSDUpvrpn9lrwGMCHyppMH+ps6LILsuFGUj1XEOXiqbqSHPUKnClpWV68kqtURVNDY4TNaocykoYeTU5ngGEQa/S1DnnE4AeXMcKjHPAmFVjCBENaeyLVNHfr3px8xUstJ94hIpfH4HKE/eDaArK6lSyVVFbdt1gxTIVk3pppVlFXi4pEhVBTObquohU85MLXn1iahvUkHJjSCMc01tLFveVVBx0DodM6jftCu7DOtIzYxrc0qp1JGP2ayYFz2Gb6HvMrO8cnGtV6Gjm3uImSfD2GpWK6uowbZGMxFKQCo1pOMtcMXFpRst+hXGoAomF3sSTBGgTglbBKWwsQ3tZqaYSp0Z1CimRDWFcCJUPYJ00BI5FkKYNoifuQxmN88SWVXWLMaUqqqgC0BmQJR6sk3u9NCf6jYLXxAfqsYEgVLAhRY2AtgtflZNFmFyhxdrLkAdWlk4D88M2ixHyepIdhMHrG/iR1ZGtq0MGpbDbRPYOXeSY1M6Ny4ZstvGSktK+XbFPATj2D371saPEsAMXhXrsZ0km/XStkhhMyBfsa6uXFZe2VCe+YMr1+GKgwrQyNYq1VRrB+EizAow6NsdNKcyVEkYeM73ys6q4kAHp6BiFklTkIrVC5oYV7uzwOGCz4UJ0Stq2lWMJy4wtb+RetL6tZFicnJmBw5UjCvXXMZVJX2MQkbf+XN5EWd78Vz8/JEsMZTBiKNzsm1inLRUQ74H4NidaqI68j5sAFgxcRveC7ieLJXfQYxjZZ2CsiWFewZXJmBIlZ1tdtrX4hSuateKso/RZOtOKW2nmq1oTzeK6dRWAWu2NRVb4hq0SXm1GvtugHrbr5IXqmSktg5CuDE2MSlPwsY5kNE2Wp3AqiZbWVLAxiBF+2iBZbuNj6MB6rsMLC7FyasaYDyo7KkoPyEtw3pEMXfPvxAJi2jAQQgjrz0rLIZSWZlIoNhwd5xK4AR9mYNjWAaLrnuImJeBVN9zBORObVvbr+mTTfFSEJLSRnHo7hEJoIi8MFqjxmvgmF5URZz4zLFgZZ8Ctu2X7ggVccKm9gVxIsOHqxXgNMKnFWZYnf1dBnOhayXq17QwFlWW09eNKyVJFmXqaONGA5aCegMbJ3UUkGY1ic3nKWgjq8qfVYGQG1gRt6rs62a6HiqqUOqdesK5NmX4nGofJoiE1d0dF9lVVkvT1/kEEaaCoYOwFpcVcoLM+7669PxC9rWqktH0sWUYld0VCpuBZ/stVRcGgy9WX2+U1Qthi9SzAqSxzZsy+OiFzBYnySGV6Gku44rD8BCOZBV3BvD5+AKRHNwMEsB6EzHnJpkTAeiUlEGkcECeB6GDZTp5YEJTlvdrknxYjTllMkfNtXwDjM7uVjK5JXUUn43rrqpK2jytaxHW0M5G8DC8rtHMYs7KSgduVQMGTYFqFvVS6rkD3sDJ46afdYFwoq11AOKCBLhvwoUgc8IGANycR6knZrdJPdsuxnyjfd3FovTlRMdEdtOl5CMV5EHsXQBis7TOwvIDZaGj2Vnpbh7cpK63VwYEMLwqbjzyl699sawFFkF1yqjUU31HfC6sW1ZFVFuXVXVgz9keEaw0ys1lWfm+azQAQSWA+hKYVfsZjPncAcUB9oIayy/UZXRNckDGji77GsWbvBo6tPrWPqOyVkBUq+INeqpzNdYs/u0ifh5qmpqIW+33JVSUcwY70KL4U9lYdU6ljtSls7lmfi9g3YzeQfVkaGFaV3ODCnaD2N8wsEDFklE3RzM3ZghdYkWHsszq70FIecnKkVkt8ezMzRq9bkGuKojRLBVSod3Y1yPqKgYW7JRQTPVyy5xIYLjOgxgT52RKJUY1dOrIiRd4futQx/A5AcSmEjz0vFWrkLzvbWAu9HOWbGgxFk1VNTpnBKk6TgwisI/HcxYXP1uAWO72ULFlBTq+aSu2VTUs6hrxM2CF+hEor1VIA9ZmFUaab1lSSgZsVs4sxzHlVLoJHr9H4DhONTkI1XC0/wiY2NoWAG5RlnHFnq6oLccpQddMuJ/O17JVA5OHLi0BqCztq7Y1++ucCd98qLI8MIHBV/cKjxQTme3hFBS3MyCqnDsuym2o80HjvFFTtrURmNaGJsmVahImjTsUXKtQZTAVs7Mvv8/+fzUrZAXcLJ6M4koe6XP0b6SmWWNDzyUpQ8bl+LtWx4tuqZ36cRYV3yuVxPNwvIiqiQCSmu7srgTzR6nkyhpCarXwFy1vGd5iP2cY06lFr5Njhhg1Y6+NB28ftbK83s8rf7kLJbKwDFPbLg25a0AdZJEiqr5phixKMDlRUtcssq1hriLqGoH+zeNgVm9OemjsETV8JdF0NHnkIFxWY1OB4Yrp7rtWJ7NgAAAPXklEQVQ3oNs5nplyVf8u2FoLu1JrHveaZWQjqAkshtFa2gzsSG3Zpkbvg3HafF9slPPlldjFlK80Gysm8Mr4MPhneNWENPGjAIpmilTPATdTRTXlCBYHYAQuPwA36xIpWtGN4q3Y2MhiGsUpuSSnlEJRD8PorC7CFYVw+F51qThgabxsTxWzCGY0ZSsb3lfqAy0OPNjNy8xiQQKsHYFQ2HBZVvVbBuq3m1oWKajqaonsM6uZUr6CjXWNZ0l5E3h3jURma6kP3MJIiy1Lm+kahQq41N2iZja5sjtlLYNZHZrH6qUGm4vMbDp6Rw2CFmvuyFkrBcCyMtFqBaECmsHoK9BZ2LA/lJcRqSaDqnaWbrZdGaz3DLgIvBln4woGztbyJGqslwxkhhHrTjTYFXCtOoKS8uLdofVdAbOylGU6nlYpXWZts4nXBq6WxJitMNokHUJnbnJplQm+aGpY2a5GMV2QD1hRubBPFKdumf5OHkLHz0F9luE5kjBjRa0nFE5CUGqHw32MmjZ6xkgINVnSnZ1VZStK2qKlRaLlQgK7uTq7JFXJwM+3SOEKyhZNI+tJ0I5qMYy9k2qJD7dVWdqKXa0CKNR0Ccjg+B2IYu2fcBZJZkMFgM11r0X92wilghFGgzVnexlqB7xL9mS29SiYUVY2nXOZjNBRsyDsQPRWW5hrZ4XcdC4HVWRbjgJr4sFofK5SzjQ7rhI1UebdPdEbj6sqIvTZQZ5va08rABsAW0UxeWytAk7A2KJ9ZpxzCioB24XFtYAeXYxr6anSqhLgppEqWbGwLunTgrV+IjWlL29ljaAl4EQMGsErp4apeZiquwRXLXAqOCeru32mmydc6oWTSWpFAGdzeTB8RTHVMEtlM90CbbQCYhPjq3egYr1FGdYIQjiuDGZ5zZ/AzobKGOyLxti6c4Rwtv2anyWlLICnlLhxJRXt6A5ebDBWFNONbxWZ2d02mnu4S9YECpeppV1zSWRBWxHYzVIv1CXSouwqqX3jBBBDZdYQbpTQW4ZQlS8r5kH4suSRmg2++3JN10x1PaAmEkmtYlEdeGpJEM6kOuCqCR22oSujj5IV2HdT0zj5prLKTjXFAPjdQlyq7xIBxAQP5yMczG4VxAKw0n6ilZ2QBce2pLulkuxxqnoIzFfgqyqjil9S1VNwBrFmeyeops8yOjZUybZdfS8CuaTIJumzs5tODaNtLpFDQ/PcJGweLhmeL1nB0KqiUDScsiUVD89Di3HtrKtSULw3RLiygZD+7sF8JTObgYsrGvDNUFRGl1iy0Ll1YkUc2aJYMog920I8qW6YDCg1Mqk0JHJFKXkbgbRreI+qpYNOZHrVcDUba7pjsphSJNtK6upgRNAVoOS0mugBeN4bIZgHhuPZ/s1ENaX6KsVr+YNrh1Nb7ipR0PE5zbNRegCbrHRUw6Yf07dLBJl1f8KB9as2V1nNqAsl62LBBhehwalerkHmB1JFIEZKSEusdl5JQj1nJlHXSCF342gJ9CYGrXelknJIXqVP8sD+qtplCR3XH2qfKq0ygMp+KnVkKxNlZ8m2YkIlVMiCnXUwl7qznBKSvQz3m3Pt6oQbXO5b5FixCh/fHxUQW/AEcK6zCNqKQnL9sywqmKuwvqSYzT/aPVNNpVyhvRW21aqciCsjdWvBwILUvh5VyCzbWoC1pJjJ680CWsl+udKB6T5RwG1mlohnlpbg47iz5U9ha0FGtmRLFYBtO99y97Ap0z+ZDTAog6kSLZsMHg/IFkkgp6CpvU2U0cYVSdnmkjwBdOmXbxTWNWzuIbipMioVxEckZEoahSOiy2M3K0jcC1LhVDwaqG0ZvkcWqCnrG4GIxykrqlbWdw6LQyBaZR8HmLRIhQWsHswD42ZXVLNkf9l+FlW0HVQ2lwFsC/Z1FdzlQR0KaPfo+Fdfu+/dwVRICu1CGR7AEIiAhc+AZUF0kOBaPxmUqg4i64vQnU4nFDYJ9Nz+1fVXveH9qmr+kPILx8oKcRV/BFbxbE0JMT0kSD4w6L/lNY8ocsqagVdU3A3MjxhxcGuqzsPH4irpaow1q6OyrVjvp9Npc59E91LldboYVzJWdimWfAW2SNEKcDaX2FmBLLA/uKxlmhh613Is1URQApbKfttwxL02q6Onx5pQxSbPojAg+v5hAnN6LHVRDXIsvKtRjiS0qJUyZTAXVbAK82ElFJWaQdVoqUC1Unt7BVaTQudM6SuqexjQJN4+0icaxv/utbKv83ETbT8H8gjcOKxOJmbUa6OOVXht3dFY6rHv9XoNzFLceEA1o8+pKm0LAHPHZ2rYKjFq0hfZFixsqHJgD3eD5n+U0kb1mFjXkn2lvMSSOsNE/CdIAKF0Sytq6urOHUN5gwg4GZosgbmggM5ucra2qrS2Ig1cbiBBcxYzgzUDNLCvL8GbZXNp6ORy3LmS+Kk83zRIAK6A1ioKa2I9NapIuiUFdfC9766PFZUtqUr6KbWk+zZU1a/ZrIXEztrjTOfz7hwKziCeXIaraHtbZIMz+2pGgazCmw4qWAFvEdhodYp0Xq0pV7G1YWYWbO4qhGq42+Z8BYtrLWvluNPpZAeaFFS1vubPgbgxsqcpnAaszBovKaFoDQ8BGtjfUOl4NAG2nmQV04feJgumvX2fsrQEWZghL0JnVdYkn3DOZIeRN86RqPWCmsvGVqEMRnwxQAxwS8EMYo3IzmY2+BCcLp4MKiuyuhImamlbZFcNoNl7tp+RHd18ZjQIRKyXdFRhN98/hyKqwXWNo7O1wiaXoHN108REZZWEq6grnIfjzeg8jdRf1XEL4kkXa5bBjKxoKaljBjeHlVxQ4GaycpW4lDOAKtnTxHAtOfzOtZwHAM7sqVXkV6yu6kap1nHkXKqWF/4XHqjenNKqBjpR3l1ch3Ejg1+EsgdQhsdG0B4FM9sWAVWpuAyiwTPleZxt9VyZVS2qXfReWqTAilpr9ApoWTjxymit7NwV4JTriZyOA9B0k7HFfULourmKYHVnRQvqGL5HMHdqFcR2qWpmcK6eTwx2dipWrviDilr+fKWq3OWRWdHKwA4eu8wjchbeRzFilqjjZN3ufCpfkJ0/scVpnYk6L0PI77lxdWCZ87WiWm7B/AGquQSnujGKsB8CJmiJq8q1pKIVWyqOiTK66r18BN8r74/AE71fdC3yPS2MxdOpnE1tlVxD9JmVOoggN+r4PjAXVFPa3Eg5jVJGFVUGNolH20GVrUB7BOySWq6WqYQdWR92pcFMYMwckbSgCKCqD67DiiWu1g8MQC9ByfcFqW1L+jL714qNCuznoSxt0da2gtWN1G8F0BK0NN0nuimelUF9dIdAfjO44UT3CjQLoUeLHJFTO3gmpRuIIOvwBQCbqNeo3qtZ9iF6xVK13GRlo4zqimq+CGdTiR1uRY8oqgE02hZBa79kZXPMquxRHKla2saZWN4mRqZUj0vLCKhkjKnqOQHNuSZVJoKvAqS1wpEquvWDC1B2ypwrCPsRMEPVTODMLJMDv6qeKXwi2JYV5Sq4qKyvgGsHCLiuj2jR59V8gMqSJ2FJZRXEHVRHj3sFPrct6OpqlW1GpatQdt0GvwfM6n63InsGVFhJGaBqgqqIV6IsXllZgySPq4R3bnt3wi5cv+cN2yqQLW1T95KYVsWWtKk4cB9W53WQQflQYR6Wl4HaJZjvVE0D5yvq+RKgZCs5qdBEP5sD94cAvQLlSgNaSMAtHx88BuNQ41zdFsX30zKbcs0MLD/ihkpQzl0wiTqKLTfbKmCmyYICnK0IbaieC4CG9iSyLQ7cIMGQwau6TKoq60Apl3WN40LZpca1CKKK9VQyyIEn8w0F8F6CL2h8o3ixGwC7s7EWzCOqmcApYxYD4jsAzVS0sl2t98pA7vrKophCVSonbYpgH6mvSn24pTBV4sdtV3BtMq5k82y+IADvUJ0uAlkCVTxIaPm+UNu/qkV4F1TzHXCGrXIAqItBKypqK99VtAOVs64O4ObX7pHLVCpYHcRmwvLR7TvYAKBBN58LGVzDuFz+hQbWgncQyCZAk+VbsPSouf93261iZgmfCpwRbAvqmSqriU2PwhjaoOyYqtIegVXViTsmyta6bGySpY3gyRrpIyAeaWDDxtpsXwKyalMDKNP7YBXMqEskUsi2uC8FNAPxAKTVfT1o6VzM0E0jF+1rWcUuHvdyg7vgoFplX8HpvHpMCOMRUPHzZkInsqlFKNX/EIO52E0SxSzOwob2VmRLW5D1XIU0rbgM1AzWgyC7fe8G7xUAK/taEBat7luqtyP7EmsaJQOj5F+mrnZfCuYCfBUAWwShyd6pMY/vAHG1UqOYpbI/gy5T0CMKm+UO3gFuC85dgfDVeguPDfITrIBLsLrcgdh3CFgFZjaKJ4Iv3F8ANEqvuxR1tVKOgLoCa1jxboBAkj6v7j/icFbA7f4rfRnQDLRViG13i0vqBQrYVqBbADZT0ZpiHoSzvQpopKIFS3sE1HfBWlHXd0H7LnArqvougMtljHBgZnh3Eoz/BKjLML4Z2Aq0+hEJr9jaVUBbvNzCIUiroC7AWmmFw4o5AK3MtB5VypZMSFgs05JyGVwlwBqsEGAAa2ZU1CjUexXGsE4rKriilBvFzOKKo3AuAroE6QFQU3u8YpNXwS5k+1TZt5UrwouN4KiUEw+k3ZWDp1RXHNRqXb21Ts39945yZSg3VnZFNQ9CF3XeZyr5DgBXKiwCMa2MxeTDYXgP1Fsf9QNKZc0k81RJk3r6EQ3rCmBVyLL75EjZ1pIVDHoFtiOAHoB0BdTVylqBsKKKS+AeBXJVLY+CXASuGvO/Auq7GuEjDfGKg1oKa1z/dmmi9I9SUGNhl0AtfulHAawoYrnSkmNXAVuGEhrEVXvUF+A5Ct2PqNOjDetyna4CmeUolmeXLN4Aq7C5Sj10Q7yjgl+t6CNxSRHmI5X+CpwreYB3Qfdqna4q21KdBuc4GoZsn49ZOOiVinwHqK9WzjvgeweEh2AU5+vtxZ9Cd9Wqkh49V18E5oj6vVyn0RStAyGIO5edXRKd5B0VGVXq2yr3xYp+5Ut+C4QJ4P1N339pQMjRejj4vb/Dcr6rQc3O/0rjmtZpeYCBiCHfCemRbNhbK/pNUPc3wfKy5f2D7OlL3/uPhve/oU4T0F8f+VNM2vyoiv0jK+KHQfdHq+0bncz4oz73/+Y6LbKw1o/5B7eOf1Rl/0du9B9tn/9bvrf/j+v0h6ttn2tp/r/4819y4/zv5391uvzzfwDifz6phT1MPgAAAABJRU5ErkJggg==\"); }\n.color-picker .box {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    padding: 4px 8px; }\n.color-picker .box .left {\n      position: relative;\n      padding: 16px 8px; }\n.color-picker .box .right {\n      -webkit-box-flex: 1;\n          -ms-flex: 1 1 auto;\n              flex: 1 1 auto;\n      padding: 12px 8px; }\n.color-picker .hue {\n    cursor: pointer;\n    width: 100%;\n    height: 16px;\n    border: none;\n    margin-bottom: 16px;\n    background-size: 100% 100%;\n    background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAQCAYAAAD06IYnAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AIWDwkUFWbCCAAAAFxJREFUaN7t0kEKg0AQAME2x83/n2qu5qCgD1iDhCoYdpnbQC9bbY1qVO/jvc6k3ad91s7/7F1/csgPrujuQ17BDYSFsBAWwgJhISyEBcJCWAgLhIWwEBYIi2f7Ar/1TCgFH2X9AAAAAElFTkSuQmCC\"); }\n.color-picker .alpha {\n    cursor: pointer;\n    width: 100%;\n    height: 16px;\n    border: none;\n    background-size: 100% 100%;\n    background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAQCAYAAAD06IYnAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AIWDwYQlZMa3gAAAWVJREFUaN7tmEGO6jAQRCsOArHgBpyAJYGjcGocxAm4A2IHpmoWE0eBH+ezmFlNvU06shJ3W6VEelWMUQAIIF9f6qZpimsA1LYtS2uF51/u27YVAFZVRUkEoGHdPV/sIcbIEIIkUdI/9Xa7neyv61+SWFUVAVCSct00TWn2fv6u3+Ecfd3tXzy/0+nEUu+SPjo/kqzrmiQpScN6v98XewfA8/lMkiLJ2WxGSUopcT6fM6U0NX9/frfbjev1WtfrlZfLhYfDQQHG/AIOlnGwjINlHCxjHCzjYJm/TJWdCwquJXseFFzGwDNNeiKMOJTO8xQdDQaeB29+K9efeLaBo9J7vdvtJj1RjFFjfiv7qv95tjx/7leSQgh93e1ffMeIp6O+YQjho/N791t1XVOSSI7N//K+4/GoxWLBx+PB5/Op5XLJ+/3OlJJWqxU3m83ovv5iGf8KjYNlHCxjHCzjYBkHy5gf5gusvQU7U37jTAAAAABJRU5ErkJggg==\"); }\n.color-picker .selected-color {\n    width: 40px;\n    height: 40px;\n    top: 16px;\n    left: 8px;\n    position: absolute;\n    border-radius: 50%;\n    -khtml-border-radius: 50%; }\n.color-picker .selected-color-background {\n    width: 40px;\n    height: 40px;\n    border-radius: 50%;\n    -khtml-border-radius: 50%;\n    background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAh0lEQVRYR+2W0QlAMQgD60zdfwOdqa8TmI/wQMr5K0I5bZLIzLOa2nt37VVVbd+dDx5obgCC3KBLwJ2ff4PnVidkf+ucIhw80HQaCLo3DMH3CRK3iFsmAWVl6hPNDwt8EvNE5q+YuEXcMgkonVM6SdyCoEvAnZ8v1Hjx817MilmxSUB5rdLJDycZgUAZUch/AAAAAElFTkSuQmCC\"); }\n.color-picker .type-policy {\n    position: absolute;\n    top: 215px;\n    right: 12px;\n    background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAgCAYAAAAffCjxAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAACewAAAnsB01CO3AAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAIASURBVEiJ7ZY9axRRFIafsxMStrLQJpAgpBFhi+C9w1YSo00I6RZ/g9vZpBf/QOr4GyRgkSKNSrAadsZqQGwCkuAWyRZJsySwvhZ7N/vhzrgbLH3Ld8597jlzz50zJokyxXH8DqDVar0qi6v8BbItqSGpEcfxdlmsFWXkvX8AfAVWg3UKPEnT9GKujMzsAFgZsVaCN1VTQd77XUnrgE1kv+6935268WRpzrnHZvYRWC7YvC3pRZZl3wozqtVqiyH9IgjAspkd1Gq1xUJQtVrdB9ZKIAOthdg/Qc65LUk7wNIMoCVJO865rYFhkqjX6/d7vV4GPJwBMqofURS5JEk6FYBer/eeYb/Mo9WwFnPOvQbeAvfuAAK4BN4sAJtAG/gJIElmNuiJyba3EGNmZiPeZuEVmVell/Y/6N+CzDn3AXhEOOo7Hv/3BeAz8IzQkMPnJbuPx1wC+yYJ7/0nYIP5S/0FHKdp+rwCEEXRS/rf5Hl1Gtb2M0iSpCOpCZzPATmX1EySpHMLAsiy7MjMDoHrGSDXZnaYZdnRwBh7J91utwmczAA6CbG3GgPleX4jqUH/a1CktqRGnuc3hSCAMB32gKspkCtgb3KCQMmkjeP4WNJThrNNZval1WptTIsv7JtQ4tmIdRa8qSoEpWl6YWZNoAN0zKxZNPehpLSBZv2t+Q0CJ9lLnARQLAAAAABJRU5ErkJggg==\");\n    background-repeat: no-repeat;\n    background-position: center;\n    background-size: 8px 16px;\n    -moz-background-size: 8px 16px;\n    -webkit-background-size: 8px 16px;\n    -o-background-size: 8px 16px;\n    width: 16px;\n    height: 24px; }\n.color-picker .hsla-text, .color-picker .rgba-text {\n    width: 100%;\n    font-size: 11px;\n    padding: 4px 8px; }\n.color-picker .hsla-text .box, .color-picker .rgba-text .box {\n      padding: 0 24px 8px 8px; }\n.color-picker .hsla-text .box input, .color-picker .rgba-text .box input {\n        min-width: 0;\n        -webkit-box-flex: 1;\n            -ms-flex: 1;\n                flex: 1;\n        margin: 0;\n        float: left;\n        margin-right: 8px;\n        border: #a9a9a9 solid 1px;\n        padding: 1px; }\n.color-picker .hsla-text .box input:last-child, .color-picker .rgba-text .box input:last-child {\n          margin-right: 0; }\n.color-picker .hsla-text .box div, .color-picker .rgba-text .box div {\n        -webkit-box-flex: 1;\n            -ms-flex: 1 1 auto;\n                flex: 1 1 auto;\n        text-align: center;\n        color: #555;\n        margin-right: 8px; }\n.color-picker .hsla-text .box div:last-child, .color-picker .rgba-text .box div:last-child {\n          margin-right: 0; }\n.color-picker .hex-text {\n    width: 100%;\n    font-size: 11px;\n    padding: 4px 8px; }\n.color-picker .hex-text .box {\n      padding: 0 24px 8px 8px; }\n.color-picker .hex-text .box input {\n        -webkit-box-flex: 1;\n            -ms-flex: 1 1 auto;\n                flex: 1 1 auto;\n        border: #a9a9a9 solid 1px;\n        padding: 1px; }\n.color-picker .hex-text .box div {\n        -webkit-box-flex: 1;\n            -ms-flex: 1 1 auto;\n                flex: 1 1 auto;\n        text-align: center;\n        color: #555;\n        float: left;\n        clear: left; }\n", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/services/app.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AppService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var AppService = /** @class */ (function () {
    function AppService() {
        /*   this._busyPromise= new CgBusyDefaults();
          this._busyPromise.message='Busy';
          
          this._busyPromise.delay=0;
          this._busyPromise.minDuration=0; */
        this._alerts = [];
        // this.showAlert(new AlertItem('info','ok bu oldu',5000000));
    }
    AppService.prototype.doBusyCallback = function (callback, parameters) {
        if (parameters === void 0) { parameters = undefined; }
        this.busy = new Promise(function (resolve, reject) {
            window.setTimeout(function () {
                try {
                    var result = callback.call(parameters);
                    resolve(result);
                }
                catch (e) {
                    reject(e);
                }
            }, 0);
        });
    };
    Object.defineProperty(AppService.prototype, "alerts", {
        /*  public get busyPromise(){
           return this._busyPromise;
         } */
        get: function () {
            return this._alerts;
        },
        enumerable: true,
        configurable: true
    });
    AppService.prototype.showAlert = function (alert) {
        var _this = this;
        alert.onClosed = function (event) {
            var index = _this._alerts.findIndex(function (value) { return value == alert; });
            if (index > -1) {
                _this._alerts.splice(index, 1);
            }
        };
        this._alerts.push(alert);
    };
    AppService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [])
    ], AppService);
    return AppService;
}());



/***/ }),

/***/ "../../../../../src/app/services/clipboard.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ClipboardData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return ClipboardService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var ClipboardData = /** @class */ (function () {
    /**
     *
     */
    function ClipboardData(type, data) {
        this._data = data;
        this._type = type;
        this._insertTime = Date.now();
    }
    Object.defineProperty(ClipboardData, "Types", {
        get: function () {
            return { Image: 1 };
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ClipboardData.prototype, "data", {
        get: function () { return this._data; },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ClipboardData.prototype, "type", {
        get: function () { return this._type; },
        enumerable: true,
        configurable: true
    });
    return ClipboardData;
}());

var ClipboardService = /** @class */ (function () {
    function ClipboardService() {
        this._data = undefined;
    }
    ClipboardService.prototype.set = function (data) {
        this._data = data;
    };
    Object.defineProperty(ClipboardService.prototype, "data", {
        /* public hasAny(type?:number):boolean{
          if(type)//if any type bigger than zero
          return this._data.findIndex((item)=>item.type==type)>=0; //then find index and control index
          //else look at array length
          return this._data.length>0;
        } */
        get: function () {
            return this._data;
        },
        enumerable: true,
        configurable: true
    });
    ClipboardService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [])
    ], ClipboardService);
    return ClipboardService;
}());



/***/ }),

/***/ "../../../../../src/app/services/effect.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return EffectService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("../../../http/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_add_operator_map__ = __webpack_require__("../../../../rxjs/_esm5/add/operator/map.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_add_operator_catch__ = __webpack_require__("../../../../rxjs/_esm5/add/operator/catch.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__entities_effect__ = __webpack_require__("../../../../../src/app/entities/effect.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var EffectService = /** @class */ (function () {
    function EffectService(http) {
        this._loaded = false;
        this._running = false;
        this._http = http;
        this.loadEffects();
    }
    EffectService.prototype.loadEffects = function () {
        var _this = this;
        if (!this._loaded && !this._running) {
            this._running = true;
            this._http.get("assets/json/effects.json").map(function (response) { return response.json(); }).subscribe(function (data) {
                _this._loaded = true;
                _this._effects = data;
                _this._running = false;
                /*  console.log("loaded effects json"); */
            });
        }
    };
    Object.defineProperty(EffectService.prototype, "effects", {
        get: function () {
            this.loadEffects();
            if (this._effects)
                return this._effects;
            //if not loaded
            var fake = new __WEBPACK_IMPORTED_MODULE_4__entities_effect__["a" /* EffectArray */]();
            fake.items = [];
            return fake;
        },
        enumerable: true,
        configurable: true
    });
    EffectService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Http */]])
    ], EffectService);
    return EffectService;
}());



/***/ }),

/***/ "../../../../../src/app/services/font.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FontService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_webfontloader_webfontloader__ = __webpack_require__("../../../../webfontloader/webfontloader.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_webfontloader_webfontloader___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_webfontloader_webfontloader__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_http__ = __webpack_require__("../../../http/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_add_operator_map__ = __webpack_require__("../../../../rxjs/_esm5/add/operator/map.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_add_operator_catch__ = __webpack_require__("../../../../rxjs/_esm5/add/operator/catch.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__entities_message__ = __webpack_require__("../../../../../src/app/entities/message.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__lib_messageBus__ = __webpack_require__("../../../../../src/app/lib/messageBus.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var utility = /** @class */ (function () {
    function utility() {
    }
    /**
     * adds source collection to destination collection if item does not exits
     */
    utility.addIfNotExits = function (source, destination) {
        source.forEach(function (value, index, coll) {
            if (destination.findIndex(function (element, index, array) { return element === value; }) == -1)
                destination.push(value);
        });
    };
    return utility;
}());
var genericFonts = /** @class */ (function () {
    function genericFonts() {
    }
    Object.defineProperty(genericFonts.prototype, "fonts", {
        get: function () {
            var fonts = [];
            //serif
            var serif = ["Georgia", "Times New Roman", "Times"];
            var sanserif = ["Arial", "Helvetica", "Arial Black", "Comic Sans MS", "Impact", "Tahoma", "Trebuchet MS", "Verdana"];
            var monospace = ["Courier"];
            var others = [];
            utility.addIfNotExits(serif, fonts);
            utility.addIfNotExits(sanserif, fonts);
            utility.addIfNotExits(monospace, fonts);
            utility.addIfNotExits(others, fonts);
            fonts = fonts.sort(function (item1, item2) {
                return item1.toLocaleLowerCase().localeCompare(item2.toLocaleLowerCase());
            });
            return fonts;
        },
        enumerable: true,
        configurable: true
    });
    return genericFonts;
}());
var googleFontData = /** @class */ (function () {
    /**
     *
     */
    function googleFontData(fontData) {
        this.loaded = false;
        this.fontData = fontData;
    }
    return googleFontData;
}());
var googleFonts = /** @class */ (function () {
    /**
     *
     */
    function googleFonts(http) {
        this.http = http;
        this._fontsMaps = undefined;
        this._loadedJson = false;
        this._isLoadingFonts = false;
        this._http = http;
        this.loadJson();
    }
    googleFonts.prototype.loadJson = function () {
        var _this = this;
        if (!this._loadedJson) {
            //todo: error durumu handle edilmeli
            //load json file 
            this._http.get("assets/json/googlefonts.json").map(function (response) { return response.json(); }).subscribe(function (data) {
                _this._fontsMaps = new Map();
                data.items.forEach(function (elem, index, arr) {
                    var googleFont = new googleFontData(elem);
                    _this._fontsMaps.set(googleFont.fontData.family, googleFont);
                });
                _this._loadedJson = true;
                //pusblish a message 
                __WEBPACK_IMPORTED_MODULE_6__lib_messageBus__["a" /* MessageBus */].publish(__WEBPACK_IMPORTED_MODULE_5__entities_message__["a" /* Message */].GoogleFontsLanguagesGetted, undefined);
            }, function (err) { console.log(err); _this._loadedJson = false; });
        }
    };
    googleFonts.prototype.loadGoogleFonts = function (fontNames) {
        var _this = this;
        //console.log("fontnames:"+fontNames.length);
        if (this._isLoadingFonts || fontNames.length == 0) {
            console.warn("working for loading fonts");
            return;
        }
        var notLoaded = [];
        if (this._fontsMaps)
            this._fontsMaps.forEach(function (value, key, map) {
                if (!value.loaded) {
                    if (fontNames.findIndex(function (e, i, a) { return value.fontData.family === e; }) > -1)
                        notLoaded.push(value.fontData.family);
                }
            });
        //console.log("notloaded:"+notLoaded.length);
        if (notLoaded.length > 0) {
            this._isLoadingFonts = true;
            __WEBPACK_IMPORTED_MODULE_0_webfontloader_webfontloader__["load"]({
                google: {
                    families: notLoaded
                },
                fontactive: function (familyName, fvd) {
                    if (_this._fontsMaps.has(familyName))
                        _this._fontsMaps.get(familyName).loaded = true;
                    //MessageBus.publish(Message.FontLoaded,familyName);
                },
                active: function () { },
                classes: false
                /* loading: function () {  console.log("loading font") },
                active: function () {  console.log("font active") },
                inactive: function () {  console.log("font inactive") },
                fontloading: function (familyName, fvd) {  console.log("font loading" + familyName) },
                fontactive: function (familyName, fvd) {  console.log("font active" + familyName) },
                fontinactive: function (familyName, fvd) {  console.log("font inactive" + familyName) } */
            });
        }
        this._isLoadingFonts = false;
        return fontNames;
    };
    Object.defineProperty(googleFonts.prototype, "languages", {
        get: function () {
            if (!this._fontsMaps)
                return [];
            var languageNames = [];
            //find google languages of fonts
            this._fontsMaps.forEach(function (value, key, map) {
                value.fontData.subsets.forEach(function (lan, lindex, lar) {
                    if (languageNames.findIndex(function (elem, eindex, earr) { return elem.id === lan; }) == -1)
                        languageNames.push({ id: lan, text: lan });
                });
            });
            return languageNames;
        },
        enumerable: true,
        configurable: true
    });
    googleFonts.prototype.searchFonts = function (language, fontTypes, search) {
        if (!this._fontsMaps)
            return [];
        var fonts = [];
        //find google languages of fonts
        this._fontsMaps.forEach(function (val, key, map) {
            var add = true;
            if (language && language != "all") {
                if (val.fontData.subsets.findIndex(function (el, ind, arrr) { return el == language; }) == -1) {
                    add = false;
                }
            }
            if (fontTypes) {
                if (fontTypes.findIndex(function (v, i, a) { return v == val.fontData.category; }) == -1)
                    add = false;
            }
            if (search) {
                if (!val.fontData.family.toLocaleLowerCase().includes(search.toLocaleLowerCase()))
                    add = false;
            }
            if (add) {
                fonts.push(val.fontData.family);
            }
        });
        return fonts;
    };
    Object.defineProperty(googleFonts.prototype, "totalSizeGooleFonts", {
        get: function () {
            if (this._fontsMaps)
                return this._fontsMaps.size;
            return 0;
        },
        enumerable: true,
        configurable: true
    });
    return googleFonts;
}());
var FontService = /** @class */ (function () {
    function FontService(http) {
        this.http = http;
        this._genericFonts = new genericFonts();
        this._googleFonts = new googleFonts(http);
    }
    Object.defineProperty(FontService.prototype, "genericFonts", {
        get: function () {
            return this._genericFonts.fonts;
        },
        enumerable: true,
        configurable: true
    });
    FontService.prototype.googleLanguages = function () {
        return this._googleFonts.languages;
    };
    FontService.prototype.searchGoogleFonts = function (language, fontTypes, search) {
        return this._googleFonts.searchFonts(language, fontTypes, search);
    };
    Object.defineProperty(FontService.prototype, "totalSizeGooleFonts", {
        get: function () {
            return this._googleFonts.totalSizeGooleFonts;
        },
        enumerable: true,
        configurable: true
    });
    FontService.prototype.loadGoogleFonts = function (fontNames) {
        this._googleFonts.loadGoogleFonts(fontNames);
    };
    FontService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_1__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__angular_http__["a" /* Http */]])
    ], FontService);
    return FontService;
}());



/***/ }),

/***/ "../../../../../src/app/services/keyboard.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return ShortCut; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return KeyboardService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var ShortCut = /** @class */ (function () {
    /**
     *
     */
    function ShortCut(isCtrl, isAlt, isShift, key, category, desc, keyCode, callback) {
        this.category = category;
        this.desc = desc;
        this.isCtrl = isCtrl;
        this.isAlt = isAlt;
        this.isShift = isShift;
        this.key = key;
        this.keyCode = keyCode;
        this.callback = callback;
    }
    return ShortCut;
}());

var KeyboardService = /** @class */ (function () {
    function KeyboardService() {
        var _this = this;
        window.addEventListener('keydown', function (event) {
            _this.onKeyboardDown(event);
        }, true);
        window.addEventListener('keyup', function (event) {
            _this.onKeyboardUp(event);
        }, true);
        this._keys = [];
    }
    KeyboardService.prototype.onKeyboardDown = function (event) {
        var isCtrlPressed = event.getModifierState("Control");
        var isAltPressed = event.getModifierState("Alt");
        var isShiftPressed = event.getModifierState("Shift");
        var filteredList = this._keys.filter(function (item) { return item.isShift == isShiftPressed && item.isAlt == isAltPressed && item.isCtrl == isCtrlPressed && (item.keyCode == event.keyCode || item.key.toLowerCase() == event.key.toLowerCase()); });
        if (filteredList.length > 0) {
            event.preventDefault();
            event.stopPropagation();
            var promise = new Promise(function (resolve, reject) {
                filteredList.forEach(function (item) { return item.callback.call(undefined); });
                resolve();
            });
        }
        else {
        }
    };
    KeyboardService.prototype.onKeyboardUp = function (event) {
        //this.isCtrlPressed = event.getModifierState("Control");
    };
    KeyboardService.prototype.add = function (shortCut) {
        this._keys.push(shortCut);
    };
    Object.defineProperty(KeyboardService.prototype, "shortcuts", {
        get: function () {
            return this._keys;
        },
        enumerable: true,
        configurable: true
    });
    KeyboardService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [])
    ], KeyboardService);
    return KeyboardService;
}());



/***/ }),

/***/ "../../../../../src/app/services/project.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ProjectService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__models_photoedit_project__ = __webpack_require__("../../../../../src/app/models/photoedit/project.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var ProjectService = /** @class */ (function () {
    function ProjectService() {
        this.createProject('default');
    }
    Object.defineProperty(ProjectService.prototype, "currentProject", {
        get: function () {
            return this.project;
        },
        enumerable: true,
        configurable: true
    });
    ProjectService.prototype.createProject = function (name) {
        if (this.project)
            this.project.dispose();
        this.project = new __WEBPACK_IMPORTED_MODULE_1__models_photoedit_project__["a" /* Project */](name);
    };
    ProjectService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [])
    ], ProjectService);
    return ProjectService;
}());



/***/ }),

/***/ "../../../../../src/app/services/shapes.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ShapesService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("../../../http/esm5/http.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var ShapesService = /** @class */ (function () {
    function ShapesService(_http) {
        this._http = _http;
        this._isLoaded = false;
        this._brands = [];
        this.startLoading();
    }
    Object.defineProperty(ShapesService.prototype, "brands", {
        get: function () {
            if (this._isLoaded)
                this.startLoading();
            return this._brands;
        },
        enumerable: true,
        configurable: true
    });
    ShapesService.prototype.startLoading = function () {
        var _this = this;
        if (this._isLoaded)
            return;
        this._http.get('assets/json/shapes.json').map(function (response) { return response.json(); }).subscribe(function (data) {
            _this._isLoaded = true;
            _this._brands = data.items.map(function (p) { return p.type; }).filter(function (value, index, arr) { return arr.indexOf(value) === index; }).map(function (p) {
                return { name: p, shapes: [] };
            });
            data.items.forEach(function (p) {
                var brand = _this._brands.find(function (x) { return x.name == p.type; });
                if (brand) {
                    for (var _i = 0, _a = Object.getOwnPropertyNames(p.icons); _i < _a.length; _i++) {
                        var iterator = _a[_i];
                        var shape = { name: iterator };
                        shape.viewportW = p.icons[iterator][0];
                        shape.viewportH = p.icons[iterator][1];
                        shape.unicode = p.icons[iterator][3];
                        shape.path = p.icons[iterator][4];
                        brand.shapes.push(shape);
                    }
                }
            });
        });
    };
    ShapesService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Http */]])
    ], ShapesService);
    return ShapesService;
}());



/***/ }),

/***/ "../../../../../src/app/services/user.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return UserService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__entities_font__ = __webpack_require__("../../../../../src/app/entities/font.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__entities_user__ = __webpack_require__("../../../../../src/app/entities/user.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_add_operator_map__ = __webpack_require__("../../../../rxjs/_esm5/add/operator/map.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_add_operator_catch__ = __webpack_require__("../../../../rxjs/_esm5/add/operator/catch.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var UserService = /** @class */ (function () {
    function UserService() {
        var _this = this;
        this.login("", "");
        var items = localStorage.getItem("fonts");
        if (items) {
            try {
                var arr = JSON.parse(items);
                arr.forEach(function (i) {
                    _this._user.extraFonts.push(i);
                });
            }
            catch (exp) {
                console.log(exp);
            }
        }
    }
    UserService.prototype.login = function (useremail, userpass) {
        this._user = new __WEBPACK_IMPORTED_MODULE_2__entities_user__["a" /* User */]();
        this._user.userName = "hamza kılıç";
        return true;
    };
    Object.defineProperty(UserService.prototype, "currentUser", {
        get: function () {
            return this._user;
        },
        enumerable: true,
        configurable: true
    });
    UserService.prototype.saveToLocal = function () {
        if (this._user) {
            localStorage.setItem('fonts', JSON.stringify(this._user.extraFonts));
        }
    };
    UserService.prototype.addFont = function (familyName, source) {
        var font = new __WEBPACK_IMPORTED_MODULE_1__entities_font__["a" /* Font */]();
        font.familyName = familyName;
        font.source = source;
        var index = this._user.extraFonts.findIndex(function (value, index, arr) {
            return value.familyName == familyName && value.source == source;
        });
        if (index == -1)
            this._user.extraFonts.push(font);
        this.saveToLocal();
    };
    Object.defineProperty(UserService.prototype, "extraFonts", {
        get: function () {
            return this._user.extraFonts;
        },
        enumerable: true,
        configurable: true
    });
    UserService.prototype.removeFont = function (familyName, source) {
        var font = new __WEBPACK_IMPORTED_MODULE_1__entities_font__["a" /* Font */]();
        font.familyName = familyName;
        font.source = source;
        var index = this._user.extraFonts.findIndex(function (value, index, arr) {
            return value.familyName == familyName && value.source == source;
        });
        if (index > -1)
            this._user.extraFonts.splice(index, 1);
        this.saveToLocal();
    };
    UserService.prototype.hasFont = function (familyName, source) {
        var index = this._user.extraFonts.findIndex(function (value, index, arr) {
            return value.familyName == familyName && value.source == source;
        });
        return index > -1;
    };
    UserService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [])
    ], UserService);
    return UserService;
}());



/***/ }),

/***/ "../../../../../src/app/services/validation.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ValidationService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var ValidationService = /** @class */ (function () {
    function ValidationService() {
    }
    ValidationService.getValidatorErrorMessage = function (validatorName, validatorValue) {
        var config = {
            'required': 'Required',
            'invalidCreditCard': 'Is invalid credit card number',
            'invalidEmailAddress': 'Invalid email address',
            'invalidPassword': 'Invalid password. Password must be at least 6 characters long, and contain a number.',
            'minlength': "Minimum length " + validatorValue.requiredLength,
            'maxlength': "Maximum length " + validatorValue.requiredLength
        };
        return config[validatorName];
    };
    ValidationService.creditCardValidator = function (control) {
        // Visa, MasterCard, American Express, Diners Club, Discover, JCB
        if (control.value.match(/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11})$/)) {
            return null;
        }
        else {
            return { 'invalidCreditCard': true };
        }
    };
    ValidationService.emailValidator = function (control) {
        // RFC 2822 compliant regex
        if (control.value.match(/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/)) {
            return null;
        }
        else {
            return { 'invalidEmailAddress': true };
        }
    };
    ValidationService.passwordValidator = function (control) {
        // {6,100}           - Assert password is between 6 and 100 characters
        // (?=.*[0-9])       - Assert a string has at least one number
        if (control.value.match(/^(?=.*[0-9])[a-zA-Z0-9!@#$%^&*]{6,100}$/)) {
            return null;
        }
        else {
            return { 'invalidPassword': true };
        }
    };
    ValidationService.widthHeightValidator = function (control) {
        if (control.value === null)
            return { msg: true };
        var val = Number(control.value);
        if (isNaN(val) || val < 10 || val > 9999) {
            return { msg: true };
        }
        return null;
    };
    ValidationService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [])
    ], ValidationService);
    return ValidationService;
}());



/***/ }),

/***/ "../../../../../src/assets/browserDetection.js":
/***/ (function(module, exports) {




function BrowserDetection() {
    this.isChrome = function () {
        // Opera 8.0+
        var isOpera = (!!window.opr && !!opr.addons) || !!window.opera || navigator.userAgent.indexOf(' OPR/') >= 0;

        // Firefox 1.0+
        var isFirefox = typeof InstallTrigger !== 'undefined';

        // Safari 3.0+ "[object HTMLElementConstructor]" 
        var isSafari = /constructor/i.test(window.HTMLElement) || (function (p) { return p.toString() === "[object SafariRemoteNotification]"; })(!window['safari'] || (typeof safari !== 'undefined' && safari.pushNotification));

        // Internet Explorer 6-11
        var isIE = /*@cc_on!@*/false || !!document.documentMode;

        // Edge 20+
        var isEdge = !isIE && !!window.StyleMedia;

        // Chrome 1+
        var isChrome = !!window.chrome && !!window.chrome.webstore;

        // Blink engine detection
        var isBlink = (isChrome || isOpera) && !!window.CSS;
        return isChrome;
    }
}
var BrowserDetection= new BrowserDetection();

/***/ }),

/***/ "../../../../../src/assets/modernizr-custom.js":
/***/ (function(module, exports) {

/*! modernizr 3.4.0 (Custom Build) | MIT *
 * https://modernizr.com/download/?-arrow-blobconstructor-canvastext-dataview-es6collections-es6math-es6number-es6object-es6string-eventlistener-filereader-generators-json-promises-setclasses !*/
!function(window,document,undefined){function is(e,n){return typeof e===n}function testRunner(){var e,n,t,r,o,i,s;for(var a in tests)if(tests.hasOwnProperty(a)){if(e=[],n=tests[a],n.name&&(e.push(n.name.toLowerCase()),n.options&&n.options.aliases&&n.options.aliases.length))for(t=0;t<n.options.aliases.length;t++)e.push(n.options.aliases[t].toLowerCase());for(r=is(n.fn,"function")?n.fn():n.fn,o=0;o<e.length;o++)i=e[o],s=i.split("."),1===s.length?Modernizr[s[0]]=r:(!Modernizr[s[0]]||Modernizr[s[0]]instanceof Boolean||(Modernizr[s[0]]=new Boolean(Modernizr[s[0]])),Modernizr[s[0]][s[1]]=r),classes.push((r?"":"no-")+s.join("-"))}}function setClasses(e){var n=docElement.className,t=Modernizr._config.classPrefix||"";if(isSVG&&(n=n.baseVal),Modernizr._config.enableJSClass){var r=new RegExp("(^|\\s)"+t+"no-js(\\s|$)");n=n.replace(r,"$1"+t+"js$2")}Modernizr._config.enableClasses&&(n+=" "+t+e.join(" "+t),isSVG?docElement.className.baseVal=n:docElement.className=n)}function createElement(){return"function"!=typeof document.createElement?document.createElement(arguments[0]):isSVG?document.createElementNS.call(document,"http://www.w3.org/2000/svg",arguments[0]):document.createElement.apply(document,arguments)}var classes=[],tests=[],ModernizrProto={_version:"3.4.0",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,n){var t=this;setTimeout(function(){n(t[e])},0)},addTest:function(e,n,t){tests.push({name:e,fn:n,options:t})},addAsyncTest:function(e){tests.push({name:null,fn:e})}},Modernizr=function(){};Modernizr.prototype=ModernizrProto,Modernizr=new Modernizr,Modernizr.addTest("blobconstructor",function(){try{return!!new Blob}catch(e){return!1}},{aliases:["blob-constructor"]}),Modernizr.addTest("dataview","undefined"!=typeof DataView&&"getFloat64"in DataView.prototype),Modernizr.addTest("eventlistener","addEventListener"in window),Modernizr.addTest("json","JSON"in window&&"parse"in JSON&&"stringify"in JSON),Modernizr.addTest("arrow",function(){try{eval("()=>{}")}catch(e){return!1}return!0}),Modernizr.addTest("es6collections",!!(window.Map&&window.Set&&window.WeakMap&&window.WeakSet)),Modernizr.addTest("generators",function(){try{new Function("function* test() {}")()}catch(e){return!1}return!0}),Modernizr.addTest("es6math",!!(Math&&Math.clz32&&Math.cbrt&&Math.imul&&Math.sign&&Math.log10&&Math.log2&&Math.log1p&&Math.expm1&&Math.cosh&&Math.sinh&&Math.tanh&&Math.acosh&&Math.asinh&&Math.atanh&&Math.hypot&&Math.trunc&&Math.fround)),Modernizr.addTest("es6number",!!(Number.isFinite&&Number.isInteger&&Number.isSafeInteger&&Number.isNaN&&Number.parseInt&&Number.parseFloat&&Number.isInteger(Number.MAX_SAFE_INTEGER)&&Number.isInteger(Number.MIN_SAFE_INTEGER)&&Number.isFinite(Number.EPSILON))),Modernizr.addTest("es6object",!!(Object.assign&&Object.is&&Object.setPrototypeOf)),Modernizr.addTest("promises",function(){return"Promise"in window&&"resolve"in window.Promise&&"reject"in window.Promise&&"all"in window.Promise&&"race"in window.Promise&&function(){var e;return new window.Promise(function(n){e=n}),"function"==typeof e}()}),Modernizr.addTest("es6string",!!(String.fromCodePoint&&String.raw&&String.prototype.codePointAt&&String.prototype.repeat&&String.prototype.startsWith&&String.prototype.endsWith&&String.prototype.includes)),Modernizr.addTest("filereader",!!(window.File&&window.FileList&&window.FileReader));var docElement=document.documentElement,isSVG="svg"===docElement.nodeName.toLowerCase();Modernizr.addTest("canvas",function(){var e=createElement("canvas");return!(!e.getContext||!e.getContext("2d"))}),Modernizr.addTest("canvastext",function(){return Modernizr.canvas===!1?!1:"function"==typeof createElement("canvas").getContext("2d").fillText}),testRunner(),setClasses(classes),delete ModernizrProto.addTest,delete ModernizrProto.addAsyncTest;for(var i=0;i<Modernizr._q.length;i++)Modernizr._q[i]();window.Modernizr=Modernizr}(window,document);

/***/ }),

/***/ "../../../../../src/environments/environment.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return environment; });
// The file contents for the current environment will overwrite these during build.
// The build system defaults to the dev environment which uses `environment.ts`, but if you do
// `ng build --env=prod` then `environment.prod.ts` will be used instead.
// The list of which env maps to which file can be found in `.angular-cli.json`.
var environment = {
    production: false
};


/***/ }),

/***/ "../../../../../src/main.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser_dynamic__ = __webpack_require__("../../../platform-browser-dynamic/esm5/platform-browser-dynamic.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__app_app_module__ = __webpack_require__("../../../../../src/app/app.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__environments_environment__ = __webpack_require__("../../../../../src/environments/environment.ts");




if (__WEBPACK_IMPORTED_MODULE_3__environments_environment__["a" /* environment */].production) {
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["enableProdMode"])();
}
Object(__WEBPACK_IMPORTED_MODULE_1__angular_platform_browser_dynamic__["a" /* platformBrowserDynamic */])().bootstrapModule(__WEBPACK_IMPORTED_MODULE_2__app_app_module__["a" /* AppModule */]);


/***/ }),

/***/ 0:
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__("../../../../../src/main.ts");


/***/ })

},[0]);
//# sourceMappingURL=main.bundle.js.map